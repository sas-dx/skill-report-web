# プロジェクト固有ルール: 年間スキル報告書WEB化PJT

## プロジェクト基本情報

### プロジェクト概要
- **プロジェクト名**: 年間スキル報告書WEB化PJT
- **目的**: AI駆動開発の知見獲得 + 業務効率化・可視化の実現
- **技術スタック**: Next.js 14 + TypeScript + React 18 + Tailwind CSS + PostgreSQL + Vercel

### 開発体制
- **責任者**: 黒澤 (@yusuke-kurosawa)
- **PM**: 中島 (@SAS-nakajima)  
- **PL**: 笹尾 (@SAS-sasao)
- **開発期間**: 2025年5月開始

## ファイル構成・命名規則

### ドキュメント構造
```
docs/
├── requirements/           # 要件定義関連
│   ├── 要件定義.md
│   ├── 技術スタック選定.md
│   └── プロジェクト基本情報_改訂版.md
├── design/                # 設計関連
│   ├── screens/           # 画面設計
│   ├── api/              # API設計
│   ├── database/         # データベース設計
│   ├── batch/            # バッチ設計
│   └── interfaces/       # インターフェース設計
└── testing/              # テスト関連
```

### 命名規則
- **画面設計書**: `画面設計書_SCR-{画面ID}.md`
- **API仕様書**: `API仕様書_API-{API番号}.md`
- **テーブル定義書**: `テーブル定義書_TBL-{テーブル番号}.md`
- **バッチ仕様書**: `バッチ仕様書_BATCH-{バッチ番号}.md`

## 要求仕様ID体系

### カテゴリ分類
- **PLT**: Platform (システム基盤要件)
- **ACC**: Access Control (ユーザー権限管理)
- **PRO**: Profile (個人プロフィール管理)
- **SKL**: Skill (スキル情報管理)
- **CAR**: Career (目標・キャリア管理)
- **WPM**: Work Performance Mgmt (作業実績管理)
- **TRN**: Training (研修・セミナー管理)
- **RPT**: Report (レポート出力)

### 優先度基準
- **最高**: 業務フロー起点（ログイン、基本情報・スキル管理）
- **高**: 最低限の非機能（認証、権限、セキュリティ）
- **中**: 日常業務運用（目標管理、作業実績、研修管理）
- **低**: 補助的機能（一括登録、レポート出力、分析・可視化）

## 開発・実装ルール

### コード作成時の必須事項
1. **要求仕様IDの明記**: 全ての実装に対応する要求仕様IDをコメントで記載
2. **画面ID・API IDの統一**: 設計書と実装でIDを一致させる
3. **TypeScript型安全性**: 厳密な型定義を必須とする
4. **レスポンシブ対応**: 全画面でマルチデバイス対応を実装

### 実装優先順序
1. **Phase 1**: 最高優先度機能（PLT.1-WEB.1, PRO.1-BASE.1, SKL.1-HIER.1）
2. **Phase 2**: 高優先度機能（認証・権限、スキル検索）
3. **Phase 3**: 中優先度機能（目標管理、作業実績、研修管理）
4. **Phase 4**: 低優先度機能（レポート出力、分析機能）

### 非機能要件の必須実装
- **パフォーマンス**: API〜UI まで1秒以内
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **セキュリティ**: AES-256暗号化、TLS必須
- **監査証跡**: 90日間ログ保持

## AI駆動開発の実践

### AI活用必須領域
1. **コード生成**: 定型的なCRUD操作、バリデーション
2. **テスト生成**: ユニット・統合・E2Eテストケース
3. **ドキュメント生成**: API仕様書、コメント
4. **設計支援**: アーキテクチャ提案、技術選定

### AI活用ログ記録
- **日次**: 使用ツール・効果・課題を記録
- **週次**: チーム全体での振り返り・改善提案
- **月次**: 効果測定・プロセス改善

## 品質保証・テスト

### テスト戦略
- **ユニットテスト**: 70%（個別コンポーネント・関数）
- **統合テスト**: 20%（API連携・コンポーネント間）
- **E2Eテスト**: 10%（ユーザーシナリオ）

### 必須テストケース
- **認証・認可**: ログイン、権限チェック、セッション管理
- **スキル管理**: CRUD操作、階層構造、4段階評価
- **データ整合性**: 外部キー制約、トランザクション
- **パフォーマンス**: レスポンス時間、同時接続数

## Git・バージョン管理

### ブランチ戦略（Gitflow）
- **main**: 本番リリース用
- **develop**: 開発統合用
- **feature/{要求仕様ID}-{機能名}**: 機能開発用
- **release/v{バージョン}**: リリース準備用
- **hotfix/{緊急度}-{修正内容}**: 緊急修正用

### コミットメッセージ規約
```
[絵文字] [タイプ]: [要求仕様ID] [タイトル]

[本文]

[フッター]
```

**例**:
```
✨ feat: SKL.1-HIER.1 スキル階層構造定義機能を実装

- 3階層（カテゴリ/サブカテゴリ/項目）構成を実装
- 管理者によるスキル項目管理機能を追加
- 4段階評価（×/△/○/◎）システムを構築

Closes #123
```

## 特記事項・制約

### 技術制約
- **ブラウザ対応**: Chrome, Edge, Safari最新版
- **レスポンシブ**: PC・タブレット・スマートフォン対応
- **データ暗号化**: AES-256、TLS1.3必須

### 業務制約
- **既存Excel互換性**: フォーマット互換性維持
- **人事システム連携**: マスタデータ同期
- **監査要件**: 全操作の監査ログ記録

### 運用制約
- **バックアップ**: 日次自動、30日保持
- **監視**: 死活監視、障害時管理者通知
- **ログ保持**: 90日間保持必須

## 成功指標（KPI）

### 開発効率指標
- **AI活用率**: 開発タスクでのAI活用割合
- **開発速度**: 要求仕様ID単位での完了速度
- **品質指標**: バグ発生率、テストカバレッジ

### 業務改善指標
- **作業時間削減**: 帳票作成時間50%削減
- **エラー削減**: 入力エラー・不備70%削減
- **利用率**: 対象ユーザー90%以上利用

### システム品質指標
- **可用性**: 99.5%以上稼働率
- **パフォーマンス**: レスポンス時間1秒以内95%達成
- **セキュリティ**: インシデント0件

## 注意事項

### 必須確認事項
1. **要求仕様ID**: 全実装で対応IDを明確化
2. **設計書整合性**: 画面・API・DB設計の一貫性
3. **非機能要件**: パフォーマンス・セキュリティ・アクセシビリティ
4. **AI活用記録**: 効果・課題の継続的記録

### 禁止事項
- 要求仕様IDなしの実装
- 設計書との不整合
- 非機能要件の未実装
- AI活用状況の未記録

この プロジェクト固有ルールに従って、年間スキル報告書WEB化PJTの開発を進めてください。
