# 統合開発ルール - Core Rules

## エグゼクティブサマリー

このドキュメントは、AI駆動開発プロジェクトにおける汎用的な開発ルールと品質基準を定義します。プロジェクト固有の技術スタックに依存しない基本方針、ドキュメント作成規約、品質保証プロセス、AI活用ガイドラインを提供し、効率的で高品質な開発を実現するための統一基準を確立します。他プロジェクトでも再利用可能な汎用的な内容として設計されており、プロジェクト固有の詳細は別ファイルで管理します。

## .clinerules 構成

### ファイル構成
```
.clinerules/
├── .clinerules                        # Clineメモリーバンク設定
├── 00-core-rules.md                   # 統合開発ルール（本ファイル）
├── 01-project-specific-rules.md       # プロジェクト固有ルール
├── 02-coding-standards.md             # コーディング規約
├── 03-frontend-guidelines.md          # フロントエンド設計ガイドライン
├── 04-backend-guidelines.md           # バックエンド設計ガイドライン
├── 05-git-workflow.md                 # Git・バージョン管理ワークフロー
├── 06-multitenant-development.md     # マルチテナント開発ガイドライン
├── 07-specification-compliance.md    # 仕様書準拠・破壊的修正防止
├── 08-database-design-guidelines.md  # データベース設計ガイドライン
├── 09-current-implementation-status.md # 現在の実装状況
└── .archived/                         # アーカイブファイル
```

### 各ファイルの役割
- **00-core-rules.md**: 汎用的な開発ルール・基本方針・品質基準
  - プロジェクト非依存の普遍的な開発原則
  - ドキュメント作成規約（エグゼクティブサマリー必須化）
  - 品質ファースト原則・AI駆動開発方針
  - 要求仕様管理の基本フレームワーク

- **01-project-specific-rules.md**: プロジェクト固有のルール・技術スタック・要件
  - プロジェクト基本情報（名称・目的・体制）
  - 採用技術スタックの詳細仕様
  - プロジェクト固有の要求仕様ID体系
  - プロジェクト固有の成功指標・KPI

- **02-coding-standards.md**: コーディング規約（技術スタック非依存）
  - 命名規則・コメント規約
  - SOLID原則の適用方法
  - エラーハンドリング・ログ出力規約
  - セキュリティコーディング原則

- **03-frontend-guidelines.md**: フロントエンド設計ガイドライン（汎用的）
  - コンポーネント設計原則
  - 状態管理パターン
  - レスポンシブデザイン・アクセシビリティ要件
  - パフォーマンス最適化手法

- **04-backend-guidelines.md**: バックエンド設計ガイドライン（汎用的）
  - API設計規約（RESTful原則）
  - データベース設計原則
  - セキュリティ実装パターン
  - エラーハンドリング・ログ設計

- **05-git-workflow.md**: Git・バージョン管理ワークフロー
  - ブランチ戦略・命名規則
  - コミットメッセージ規約
  - Pull Request運用・コードレビュープロセス
  - CI/CD統合・自動化

- **06-multitenant-development.md**: マルチテナント開発ガイドライン（将来対応）
  - データ分離実装パターン
  - 認証・認可システム設計
  - UI・通知の分離実装
  - セキュリティ・監査要件

- **07-specification-compliance.md**: 仕様書準拠・破壊的修正防止
  - 設計書管理プロセス
  - 影響範囲調査手法
  - 承認プロセス・変更管理
  - 設計書更新フロー

- **08-database-design-guidelines.md**: データベース設計ガイドライン
  - テーブル命名規則・設計原則
  - 品質保証プロセス・自動化ツール
  - パフォーマンス要件・最適化
  - 定期メンテナンス指針

- **09-current-implementation-status.md**: 現在の実装状況（プロジェクト固有）
  - 完成済み機能の一覧
  - 実装中・予定機能の進捗
  - 技術的課題・対応計画
  - 開発進捗管理・次期目標

## ドキュメント作成規約

### エグゼクティブサマリー必須化ルール

#### 基本方針
- **全マークダウンファイル必須**: 技術文書、設計書、ガイドライン、仕様書の全てにエグゼクティブサマリーを必須とする
- **上段配置**: ファイルの最上段（タイトル直後）に配置
- **簡潔性**: 200-400文字程度で文書の核心を表現
- **読者価値**: 読者がこの文書から得られる価値を明確に示す

#### エグゼクティブサマリーの構成要素
1. **文書の目的**: なぜこの文書が存在するのか
2. **主要ポイント**: 最も重要な3-5つのポイント
3. **対象読者**: 誰のための文書か
4. **期待される成果**: この文書を読むことで得られる結果

#### 記述例
```markdown
# 文書タイトル

## エグゼクティブサマリー

この文書は[目的]を定義し、[対象読者]が[期待される成果]を実現するためのガイドラインです。
主要ポイントとして、[ポイント1]、[ポイント2]、[ポイント3]を提供し、
[具体的な価値]を通じて効率的で高品質な開発を支援します。

## 本文開始...
```

### ドキュメント品質基準
- **一貫性**: プロジェクト全体で統一されたフォーマット
- **明確性**: 技術的内容を分かりやすく表現
- **完全性**: 必要な情報が漏れなく記載
- **最新性**: 実装との整合性を維持

## 基本開発方針

### 1. 品質ファースト原則
- **品質の作り込み**: 後工程での品質向上ではなく、設計・実装段階での品質確保
- **継続的改善**: 定期的な品質指標の見直しと改善
- **自動化推進**: 手動作業の自動化による品質の安定化
- **標準化**: 開発プロセス・ツール・手法の標準化

### 2. AI駆動開発の基本方針
- **AI活用の最大化**: 定型作業・コード生成・テスト作成でのAI活用
- **人間の創造性重視**: 設計・アーキテクチャ・ビジネスロジックは人間が主導
- **品質保証**: AI生成コードも同等の品質基準を適用
- **継続学習**: AI活用の効果測定と改善

### 3. 段階的アプローチ
- **MVP優先**: 最小限の価値ある製品から開始
- **反復改善**: 短いサイクルでの継続的な改善
- **リスク管理**: 技術的リスクの早期発見と対策
- **拡張性考慮**: 将来の機能拡張を見据えた設計

## 要求仕様管理

### 要求仕様ID体系（汎用）
- **カテゴリ分類**: 機能領域による分類（プロジェクト固有で定義）
- **階層構造**: カテゴリ.シリーズ-機能.詳細の形式
- **トレーサビリティ**: 要求→設計→実装→テストの一貫性
- **変更管理**: 要求変更時の影響範囲追跡

### 実装時の必須事項
1. **要求仕様IDの明記**: 全実装に対応する要求仕様IDをコメントで記載
2. **設計書との整合性**: 設計書と実装の一致確認
3. **変更影響分析**: 修正時の影響範囲調査
4. **承認プロセス**: 重要な変更の承認取得

## 開発・実装の必須事項

### コード作成時の必須事項
1. **要求仕様IDの明記**: 全実装に対応する要求仕様IDをコメントで記載
2. **設計書との整合性**: 可能な範囲で設計書との一致を確認
3. **型安全性**: 使用言語の型システムを最大限活用
4. **レスポンシブ対応**: マルチデバイス対応を標準実装

### 非機能要件の必須実装
- **パフォーマンス**: 応答時間・スループットの要件達成
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **セキュリティ**: 暗号化・認証・認可の適切な実装
- **監査証跡**: 操作ログ・変更履歴の記録

## AI駆動開発ガイドライン

### AI活用必須領域
1. **コード生成**: 定型的なCRUD操作、バリデーション、テストケース
2. **ドキュメント生成**: API仕様書、コメント、README
3. **設計支援**: アーキテクチャ提案、技術選定支援
4. **品質向上**: コードレビュー支援、リファクタリング提案

### AI活用時の品質保証
- **生成コードの検証**: AI生成コードも同等の品質基準を適用
- **セキュリティチェック**: 脆弱性・セキュリティホールの確認
- **パフォーマンス検証**: 性能要件の達成確認
- **テスト実装**: AI生成コードに対する適切なテスト実装

### 技術選定・変更管理
- **技術スタック非依存**: 要件に基づいた最適な技術選定
- **APIファーストアプローチ**: フロントエンド・バックエンド分離設計
- **技術スタック変更時**: 必ずユーザーに確認・承認を得てから実施
- **影響範囲分析**: 技術変更時の影響範囲調査と対策

## 品質保証・成功指標

### 品質ゲート（汎用基準）
- **テストカバレッジ**: 80%以上を維持
- **静的解析**: 重大な問題0件
- **セキュリティ**: 脆弱性スキャン通過
- **パフォーマンス**: 設定された応答時間以内

### 成功指標（KPI）
- **開発効率**: AI活用率、開発速度、品質指標
- **品質指標**: バグ発生率、テストカバレッジ、コードレビュー通過率
- **システム品質**: 可用性、レスポンス時間、エラー率
- **ユーザー満足度**: 利用率、フィードバック評価

### 継続的改善
- **定期レビュー**: 月次・四半期での品質指標レビュー
- **プロセス改善**: 開発プロセスの継続的な見直し
- **ツール最適化**: 開発ツール・環境の改善
- **知識共有**: ベストプラクティスの蓄積と共有

## 必須確認事項・禁止事項

### 必須確認事項
1. **要求仕様ID**: 全実装で対応IDを明確化
2. **設計書整合性**: 設計書との一貫性確認
3. **非機能要件**: パフォーマンス・セキュリティ・アクセシビリティ
4. **AI活用記録**: 効果・課題の継続的記録
5. **エグゼクティブサマリー**: 全マークダウンファイルでの必須記載

### 禁止事項
- 要求仕様IDなしの実装
- 非機能要件の未実装
- 設計書との不整合を含む実装
- 破壊的変更の無承認実行
- エグゼクティブサマリーなしのマークダウンファイル作成

## 詳細ガイドライン参照

各分野の詳細なガイドラインは以下のファイルを参照してください：

- **プロジェクト固有ルール**: `01-project-specific-rules.md`
- **コーディング規約**: `02-coding-standards.md`
- **フロントエンド設計**: `03-frontend-guidelines.md`
- **バックエンド設計**: `04-backend-guidelines.md`
- **Git・バージョン管理**: `05-git-workflow.md`
- **マルチテナント開発**: `06-multitenant-development.md`
- **仕様書準拠・破壊的修正防止**: `07-specification-compliance.md`
- **データベース設計ガイドライン**: `08-database-design-guidelines.md`
- **現在の実装状況**: `09-current-implementation-status.md`

---

この統合ルールと各詳細ガイドラインに従って、効率的かつ高品質な開発を進めてください。
