// è¦æ±‚ä»•æ§˜ID: PLT.1-DB.1 - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
// è¨­è¨ˆæ›¸: docs/design/database/data/ é…ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿SQLãƒ•ã‚¡ã‚¤ãƒ«ç¾¤
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  console.log('ğŸŒ± ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚’é–‹å§‹ã—ã¾ã™...')

  try {
    // 1. ãƒ†ãƒŠãƒ³ãƒˆãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ¢ ãƒ†ãƒŠãƒ³ãƒˆãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const tenants = await Promise.all([
      prisma.tenant.upsert({
        where: { tenant_id: 'TENANT001' },
        update: {},
        create: {
          tenant_id: 'TENANT001',
          tenant_code: 'acme-corp',
          tenant_name: 'æ ªå¼ä¼šç¤¾ACME',
          tenant_name_en: 'ACME Corporation',
          tenant_short_name: 'ACME',
          tenant_type: 'ENTERPRISE',
          domain_name: 'acme-corp.com',
          subdomain: 'acme',
          timezone: 'Asia/Tokyo',
          locale: 'ja_JP',
          currency_code: 'JPY',
          status: 'ACTIVE',
          max_users: 1000,
          max_storage_gb: 1000,
          subscription_plan: 'ENTERPRISE',
          monthly_fee: 50000.0,
          code: 'TENANT001',
          name: 'æ ªå¼ä¼šç¤¾ACME',
        },
      }),
      prisma.tenant.upsert({
        where: { tenant_id: 'TENANT002' },
        update: {},
        create: {
          tenant_id: 'TENANT002',
          tenant_code: 'beta-tech',
          tenant_name: 'ãƒ™ãƒ¼ã‚¿ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼æ ªå¼ä¼šç¤¾',
          tenant_name_en: 'Beta Technology Inc.',
          tenant_short_name: 'BetaTech',
          tenant_type: 'ENTERPRISE',
          subdomain: 'beta-tech',
          timezone: 'Asia/Tokyo',
          locale: 'ja_JP',
          currency_code: 'JPY',
          status: 'ACTIVE',
          max_users: 200,
          max_storage_gb: 100,
          subscription_plan: 'STANDARD',
          monthly_fee: 15000.0,
          code: 'TENANT002',
          name: 'ãƒ™ãƒ¼ã‚¿ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼æ ªå¼ä¼šç¤¾',
        },
      }),
    ])

    // 2. éƒ¨ç½²ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ“ éƒ¨ç½²ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const departments = await Promise.all([
      prisma.department.upsert({
        where: { department_code: 'DEPT001' },
        update: {},
        create: {
          department_code: 'DEPT001',
          department_name: 'çµŒå–¶ä¼ç”»æœ¬éƒ¨',
          department_name_short: 'çµŒå–¶ä¼ç”»',
          department_level: 1,
          department_type: 'HEADQUARTERS',
          sort_order: 1,
          department_status: 'ACTIVE',
          code: 'DEPT001',
          name: 'çµŒå–¶ä¼ç”»æœ¬éƒ¨',
          description: 'ä¼šç¤¾å…¨ä½“ã®çµŒå–¶æˆ¦ç•¥ç«‹æ¡ˆãƒ»æ¨é€²ã‚’æ‹…å½“',
        },
      }),
      prisma.department.upsert({
        where: { department_code: 'DEPT002' },
        update: {},
        create: {
          department_code: 'DEPT002',
          department_name: 'ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºéƒ¨',
          department_name_short: 'ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º',
          parent_department_id: 'DEPT001',
          department_level: 2,
          department_type: 'DEPARTMENT',
          sort_order: 2,
          department_status: 'ACTIVE',
          code: 'DEPT002',
          name: 'ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºéƒ¨',
          description: 'ç¤¾å†…ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºãƒ»ä¿å®ˆãƒ»é‹ç”¨ã‚’æ‹…å½“',
        },
      }),
    ])

    // 3. å½¹è·ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ‘” å½¹è·ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const positions = await Promise.all([
      prisma.position.upsert({
        where: { position_code: 'POS001' },
        update: {},
        create: {
          position_code: 'POS001',
          position_name: 'ä»£è¡¨å–ç· å½¹ç¤¾é•·',
          position_name_short: 'ç¤¾é•·',
          position_level: 1,
          position_rank: 1,
          position_category: 'EXECUTIVE',
          authority_level: 10,
          is_management: true,
          is_executive: true,
          position_status: 'ACTIVE',
          sort_order: 1,
          code: 'POS001',
          name: 'ä»£è¡¨å–ç· å½¹ç¤¾é•·',
          description: 'ä¼šç¤¾ã®æœ€é«˜è²¬ä»»è€…ã¨ã—ã¦çµŒå–¶å…¨èˆ¬ã‚’çµ±æ‹¬',
        },
      }),
      prisma.position.upsert({
        where: { position_code: 'POS002' },
        update: {},
        create: {
          position_code: 'POS002',
          position_name: 'éƒ¨é•·',
          position_name_short: 'éƒ¨é•·',
          position_level: 3,
          position_rank: 1,
          position_category: 'MANAGER',
          authority_level: 7,
          is_management: true,
          is_executive: false,
          position_status: 'ACTIVE',
          sort_order: 3,
          code: 'POS002',
          name: 'éƒ¨é•·',
          description: 'éƒ¨é–€ã®è²¬ä»»è€…ã¨ã—ã¦æ¥­å‹™å…¨èˆ¬ã‚’ç®¡ç†',
        },
      }),
      prisma.position.upsert({
        where: { position_code: 'POS003' },
        update: {},
        create: {
          position_code: 'POS003',
          position_name: 'èª²é•·',
          position_name_short: 'èª²é•·',
          position_level: 4,
          position_rank: 2,
          position_category: 'MANAGER',
          authority_level: 5,
          is_management: true,
          is_executive: false,
          position_status: 'ACTIVE',
          sort_order: 4,
          code: 'POS003',
          name: 'èª²é•·',
        },
      }),
      prisma.position.upsert({
        where: { position_code: 'POS004' },
        update: {},
        create: {
          position_code: 'POS004',
          position_name: 'ä¸€èˆ¬',
          position_name_short: 'ä¸€èˆ¬',
          position_level: 5,
          position_rank: 3,
          position_category: 'STAFF',
          authority_level: 1,
          is_management: false,
          is_executive: false,
          position_status: 'ACTIVE',
          sort_order: 5,
          code: 'POS004',
          name: 'ä¸€èˆ¬',
        },
      }),
    ])

    // 4. è·ç¨®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ’¼ è·ç¨®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const jobTypes = await Promise.all([
      prisma.jobType.upsert({
        where: { job_type_code: 'SE' },
        update: {},
        create: {
          job_type_code: 'SE',
          job_type_name: 'ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          job_type_name_en: 'Systems Engineer',
          job_category: 'ENGINEERING',
          job_level: 'SENIOR',
          required_experience_years: 3,
          sort_order: 1,
          is_active: true,
          code: 'SE',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          description: 'ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆãƒ»é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆã‚’æ‹…å½“ã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
        },
      }),
      prisma.jobType.upsert({
        where: { job_type_code: 'PM' },
        update: {},
        create: {
          job_type_code: 'PM',
          job_type_name: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼',
          job_type_name_en: 'Project Manager',
          job_category: 'MANAGEMENT',
          job_level: 'MANAGER',
          required_experience_years: 5,
          sort_order: 2,
          is_active: true,
          code: 'PM',
          name: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼',
          description: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨ˆç”»ãƒ»å®Ÿè¡Œãƒ»ç®¡ç†ã‚’çµ±æ‹¬ã™ã‚‹è²¬ä»»è€…',
        },
      }),
    ])

    // 5. ãƒ­ãƒ¼ãƒ«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ” ãƒ­ãƒ¼ãƒ«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const roles = await Promise.all([
      prisma.role.upsert({
        where: { role_code: 'ROLE001' },
        update: {},
        create: {
          role_code: 'ROLE001',
          role_name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
          role_name_short: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
          role_category: 'SYSTEM',
          role_level: 1,
          is_system_role: true,
          is_tenant_specific: false,
          role_status: 'ACTIVE',
          sort_order: 1,
          code: 'ROLE001',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
          description: 'ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç®¡ç†æ¨©é™ã‚’æŒã¤æœ€ä¸Šä½ãƒ­ãƒ¼ãƒ«',
        },
      }),
      prisma.role.upsert({
        where: { role_code: 'ROLE002' },
        update: {},
        create: {
          role_code: 'ROLE002',
          role_name: 'ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†è€…',
          role_name_short: 'ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†è€…',
          role_category: 'TENANT',
          role_level: 2,
          is_system_role: true,
          is_tenant_specific: true,
          role_status: 'ACTIVE',
          sort_order: 2,
          code: 'ROLE002',
          name: 'ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†è€…',
          description: 'ãƒ†ãƒŠãƒ³ãƒˆå†…ã®ç®¡ç†æ¨©é™ã‚’æŒã¤ãƒ­ãƒ¼ãƒ«',
        },
      }),
      prisma.role.upsert({
        where: { role_code: 'ROLE003' },
        update: {},
        create: {
          role_code: 'ROLE003',
          role_name: 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼',
          role_name_short: 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼',
          role_category: 'BUSINESS',
          role_level: 3,
          is_system_role: true,
          is_tenant_specific: false,
          role_status: 'ACTIVE',
          sort_order: 10,
          code: 'ROLE003',
          name: 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼',
          description: 'åŸºæœ¬çš„ãªæ¥­å‹™æ©Ÿèƒ½ã‚’åˆ©ç”¨ã§ãã‚‹ãƒ­ãƒ¼ãƒ«',
        },
      }),
    ])

    // 6. æ¨©é™ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ”‘ æ¨©é™ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const permissions = await Promise.all([
      prisma.permission.upsert({
        where: { permission_code: 'PERM_USER_READ' },
        update: {},
        create: {
          permission_code: 'PERM_USER_READ',
          permission_name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å‚ç…§',
          permission_name_short: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å‚ç…§',
          permission_category: 'DATA',
          resource_type: 'USER',
          action_type: 'READ',
          scope_level: 'TENANT',
          is_system_permission: true,
          requires_conditions: false,
          risk_level: 1,
          requires_approval: false,
          audit_required: true,
          permission_status: 'ACTIVE',
          sort_order: 1,
          code: 'PERM_USER_READ',
          name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å‚ç…§',
          description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å‚ç…§æ¨©é™',
        },
      }),
      prisma.permission.upsert({
        where: { permission_code: 'PERM_USER_UPDATE' },
        update: {},
        create: {
          permission_code: 'PERM_USER_UPDATE',
          permission_name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°',
          permission_name_short: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°',
          permission_category: 'DATA',
          resource_type: 'USER',
          action_type: 'UPDATE',
          scope_level: 'DEPARTMENT',
          is_system_permission: true,
          requires_conditions: true,
          condition_expression: 'department_id = :user_department_id',
          risk_level: 2,
          requires_approval: false,
          audit_required: true,
          permission_status: 'ACTIVE',
          sort_order: 2,
          code: 'PERM_USER_UPDATE',
          name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°',
          description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ›´æ–°æ¨©é™ï¼ˆåŒä¸€éƒ¨ç½²ã®ã¿ï¼‰',
        },
      }),
      prisma.permission.upsert({
        where: { permission_code: 'PERM_SYSTEM_ADMIN' },
        update: {},
        create: {
          permission_code: 'PERM_SYSTEM_ADMIN',
          permission_name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†',
          permission_name_short: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†',
          permission_category: 'SYSTEM',
          resource_type: 'SYSTEM',
          action_type: 'EXECUTE',
          scope_level: 'GLOBAL',
          is_system_permission: true,
          requires_conditions: false,
          risk_level: 4,
          requires_approval: true,
          audit_required: true,
          permission_status: 'ACTIVE',
          sort_order: 100,
          code: 'PERM_SYSTEM_ADMIN',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†',
          description: 'ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç®¡ç†æ¨©é™',
        },
      }),
    ])

    // 7. ã‚¹ã‚­ãƒ«ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ¯ ã‚¹ã‚­ãƒ«ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const skillCategories = await Promise.all([
      prisma.skillCategory.upsert({
        where: { category_code: 'CAT001' },
        update: {},
        create: {
          category_code: 'CAT001',
          category_name: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª',
          category_name_short: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°',
          category_name_en: 'Programming Languages',
          category_type: 'TECHNICAL',
          category_level: 1,
          category_path: '/ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª',
          is_system_category: true,
          is_leaf_category: false,
          skill_count: 25,
          evaluation_method: 'LEVEL',
          max_level: 5,
          color_code: '#007ACC',
          display_order: 1,
          is_popular: true,
          category_status: 'ACTIVE',
          code: 'CAT001',
          name: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª',
          description: 'å„ç¨®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ã‚¹ã‚­ãƒ«',
        },
      }),
      prisma.skillCategory.upsert({
        where: { category_code: 'CAT002' },
        update: {},
        create: {
          category_code: 'CAT002',
          category_name: 'Java',
          category_name_short: 'Java',
          category_name_en: 'Java',
          category_type: 'TECHNICAL',
          parent_category_id: 'CAT001',
          category_level: 2,
          category_path: '/ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª/Java',
          is_system_category: true,
          is_leaf_category: true,
          skill_count: 8,
          evaluation_method: 'LEVEL',
          max_level: 5,
          color_code: '#ED8B00',
          display_order: 1,
          is_popular: true,
          category_status: 'ACTIVE',
          code: 'CAT002',
          name: 'Java',
          description: 'Javaè¨€èªã«é–¢ã™ã‚‹ã‚¹ã‚­ãƒ«',
        },
      }),
      prisma.skillCategory.upsert({
        where: { category_code: 'CAT003' },
        update: {},
        create: {
          category_code: 'CAT003',
          category_name: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          category_name_short: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          category_name_en: 'Communication',
          category_type: 'SOFT',
          category_level: 1,
          category_path: '/ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          is_system_category: true,
          is_leaf_category: true,
          skill_count: 12,
          evaluation_method: 'LEVEL',
          max_level: 4,
          color_code: '#28A745',
          display_order: 10,
          is_popular: true,
          category_status: 'ACTIVE',
          code: 'CAT003',
          name: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          description: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã«é–¢ã™ã‚‹ã‚¹ã‚­ãƒ«',
        },
      }),
    ])

    // 8. ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('âš¡ ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const skills = await Promise.all([
      prisma.skillItem.upsert({
        where: { skill_code: 'SKILL001' },
        update: {},
        create: {
          skill_code: 'SKILL001',
          skill_name: 'Java',
          skill_category_id: skillCategories[1].category_code,
          skill_type: 'TECHNICAL',
          difficulty_level: 3,
          importance_level: 4,
          code: 'SKILL001',
          name: 'Java',
          description: 'Javaè¨€èªã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¹ã‚­ãƒ«',
        },
      }),
      prisma.skillItem.upsert({
        where: { skill_code: 'SKILL002' },
        update: {},
        create: {
          skill_code: 'SKILL002',
          skill_name: 'React.js',
          skill_category_id: skillCategories[0].category_code,
          skill_type: 'TECHNICAL',
          difficulty_level: 3,
          importance_level: 5,
          code: 'SKILL002',
          name: 'React.js',
          description: 'Reactãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º',
        },
      }),
      prisma.skillItem.upsert({
        where: { skill_code: 'SKILL003' },
        update: {},
        create: {
          skill_code: 'SKILL003',
          skill_name: 'Next.js',
          skill_category_id: skillCategories[0].category_code,
          skill_type: 'TECHNICAL',
          difficulty_level: 4,
          importance_level: 5,
          code: 'SKILL003',
          name: 'Next.js',
          description: 'Next.jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™º',
        },
      }),
      prisma.skillItem.upsert({
        where: { skill_code: 'SKILL004' },
        update: {},
        create: {
          skill_code: 'SKILL004',
          skill_name: 'TypeScript',
          skill_category_id: skillCategories[0].category_code,
          skill_type: 'TECHNICAL',
          difficulty_level: 3,
          importance_level: 4,
          code: 'SKILL004',
          name: 'TypeScript',
          description: 'TypeScriptã‚’ä½¿ç”¨ã—ãŸå‹å®‰å…¨ãªé–‹ç™º',
        },
      }),
      prisma.skillItem.upsert({
        where: { skill_code: 'SKILL005' },
        update: {},
        create: {
          skill_code: 'SKILL005',
          skill_name: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          skill_category_id: skillCategories[2].category_code,
          skill_type: 'SOFT',
          difficulty_level: 2,
          importance_level: 5,
          code: 'SKILL005',
          name: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          description: 'ãƒãƒ¼ãƒ å†…å¤–ã§ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›',
        },
      }),
    ])

    // 9. å¾“æ¥­å“¡ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
    console.log('ğŸ‘¤ å¾“æ¥­å“¡ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const employees = await Promise.all([
      prisma.employee.upsert({
        where: { employee_code: 'EMP000001' },
        update: {},
        create: {
          employee_code: 'EMP000001',
          full_name: 'å±±ç”°å¤ªéƒ',
          full_name_kana: 'ãƒ¤ãƒãƒ€ã‚¿ãƒ­ã‚¦',
          email: 'yamada.taro@company.com',
          phone: '090-1234-5678',
          hire_date: new Date('2020-04-01'),
          birth_date: new Date('1990-01-15'),
          gender: 'M',
          department_id: departments[1].department_code,
          position_id: positions[1].position_code,
          job_type_id: jobTypes[0].job_type_code,
          employment_status: 'FULL_TIME',
          employee_status: 'ACTIVE',
          code: 'EMP000001',
          name: 'å±±ç”°å¤ªéƒ',
        },
      }),
      prisma.employee.upsert({
        where: { employee_code: 'EMP000002' },
        update: {},
        create: {
          employee_code: 'EMP000002',
          full_name: 'ä½è—¤èŠ±å­',
          full_name_kana: 'ã‚µãƒˆã‚¦ãƒãƒŠã‚³',
          email: 'sato.hanako@company.com',
          phone: '090-2345-6789',
          hire_date: new Date('2021-04-01'),
          birth_date: new Date('1992-03-20'),
          gender: 'F',
          department_id: departments[1].department_code,
          position_id: positions[3].position_code,
          job_type_id: jobTypes[1].job_type_code,
          employment_status: 'FULL_TIME',
          manager_id: 'EMP000001',
          employee_status: 'ACTIVE',
          code: 'EMP000002',
          name: 'ä½è—¤èŠ±å­',
        },
      }),
      // ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼
      prisma.employee.upsert({
        where: { employee_code: 'ADMIN001' },
        update: {},
        create: {
          employee_code: 'ADMIN001',
          full_name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
          full_name_kana: 'ã‚·ã‚¹ãƒ†ãƒ ã‚«ãƒ³ãƒªã‚·ãƒ£',
          email: 'admin@skill-report.local',
          hire_date: new Date('2025-01-01'),
          department_id: departments[0].department_code,
          position_id: positions[0].position_code,
          employment_status: 'FULL_TIME',
          employee_status: 'ACTIVE',
          code: 'ADMIN001',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
        },
      }),
    ])

    // 10. èªè¨¼æƒ…å ±ã®ä½œæˆ
    console.log('ğŸ” èªè¨¼æƒ…å ±ã‚’ä½œæˆä¸­...')
    const userAuths = await Promise.all([
      prisma.userAuth.upsert({
        where: { user_id: 'EMP000001' },
        update: {},
        create: {
          user_id: 'EMP000001',
          login_id: 'yamada.taro@company.com',
          password_hash: '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj/RK.s5uIoS',
          password_salt: 'randomsalt123',
          employee_id: 'EMP000001',
          account_status: 'ACTIVE',
          failed_login_count: 0,
          mfa_enabled: true,
          mfa_secret: 'JBSWY3DPEHPK3PXP',
          session_timeout: 480,
          code: 'AUTH001',
          name: 'å±±ç”°å¤ªéƒèªè¨¼',
        },
      }),
      prisma.userAuth.upsert({
        where: { user_id: 'EMP000002' },
        update: {},
        create: {
          user_id: 'EMP000002',
          login_id: 'sato.hanako@company.com',
          password_hash: '$2b$12$XQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj/RK.s5uIoX',
          password_salt: 'randomsalt456',
          employee_id: 'EMP000002',
          account_status: 'ACTIVE',
          failed_login_count: 0,
          mfa_enabled: false,
          session_timeout: 240,
          code: 'AUTH002',
          name: 'ä½è—¤èŠ±å­èªè¨¼',
        },
      }),
      prisma.userAuth.upsert({
        where: { user_id: 'ADMIN001' },
        update: {},
        create: {
          user_id: 'ADMIN001',
          login_id: 'admin@skill-report.local',
          password_hash: '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', // password
          employee_id: 'ADMIN001',
          account_status: 'ACTIVE',
          failed_login_count: 0,
          mfa_enabled: false,
          code: 'AUTH_ADMIN',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…èªè¨¼',
        },
      }),
    ])

    // 11. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ç´ä»˜ã‘
    console.log('ğŸ”— ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ç´ä»˜ã‘ã‚’ä½œæˆä¸­...')
    const userRoles = await Promise.all([
      prisma.userRole.upsert({
        where: {
          user_id_role_id: {
            user_id: 'EMP000001',
            role_id: roles[2].role_code,
          },
        },
        update: {},
        create: {
          user_id: 'EMP000001',
          role_id: roles[2].role_code,
          assignment_type: 'DIRECT',
          assigned_by: 'ADMIN001',
          assignment_reason: 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ™‚ã®æ¨™æº–ãƒ­ãƒ¼ãƒ«å‰²ã‚Šå½“ã¦',
          is_primary_role: true,
          priority_order: 1,
          auto_assigned: true,
          requires_approval: false,
          assignment_status: 'ACTIVE',
          usage_count: 150,
          code: 'UR001',
          name: 'å±±ç”°å¤ªéƒ-ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼',
        },
      }),
      prisma.userRole.upsert({
        where: {
          user_id_role_id: {
            user_id: 'EMP000002',
            role_id: roles[1].role_code,
          },
        },
        update: {},
        create: {
          user_id: 'EMP000002',
          role_id: roles[1].role_code,
          assignment_type: 'DIRECT',
          assigned_by: 'ADMIN001',
          assignment_reason: 'ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†è€…æ¨©é™ä»˜ä¸',
          is_primary_role: true,
          priority_order: 1,
          auto_assigned: false,
          requires_approval: true,
          approval_status: 'APPROVED',
          approved_by: 'ADMIN001',
          assignment_status: 'ACTIVE',
          usage_count: 75,
          code: 'UR002',
          name: 'ä½è—¤èŠ±å­-ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†è€…',
        },
      }),
      prisma.userRole.upsert({
        where: {
          user_id_role_id: {
            user_id: 'ADMIN001',
            role_id: roles[0].role_code,
          },
        },
        update: {},
        create: {
          user_id: 'ADMIN001',
          role_id: roles[0].role_code,
          assignment_type: 'DIRECT',
          assigned_by: 'SYSTEM',
          assignment_reason: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…æ¨©é™',
          is_primary_role: true,
          priority_order: 1,
          auto_assigned: true,
          requires_approval: false,
          assignment_status: 'ACTIVE',
          usage_count: 500,
          code: 'UR_ADMIN',
          name: 'ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…-ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…',
        },
      }),
    ])

   
    console.log('ğŸ“Š ã‚¹ã‚­ãƒ«è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
    const skillRecords = await Promise.all([
      prisma.skillRecord.upsert({
        where: {
          employee_id_skill_item_id: {
            employee_id: 'EMP000001',
            skill_item_id: skills[0].skill_code,
          },
        },
        update: {},
        create: {
          employee_id: 'EMP000001',
          skill_item_id: skills[0].skill_code,
          skill_level: 4,
          self_assessment: 4,
          manager_assessment: 3,
          evidence_description: 'Javaã‚’ä½¿ç”¨ã—ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’3ä»¶æ‹…å½“',
          acquisition_date: new Date('2020-06-01'),
          last_used_date: new Date('2025-05-30'),
          skill_category_id: skillCategories[1].category_code,
          assessment_date: new Date('2025-04-01'),
          assessor_id: 'EMP000001',
          skill_status: 'ACTIVE',
          learning_hours: 120,
          project_experience_count: 3,
        },
      }),
      prisma.skillRecord.upsert({
        where: {
          employee_id_skill_item_id: {
            employee_id: 'EMP000001',
            skill_item_id: skills[1].skill_code,
          },
        },
        update: {},
        create: {
          employee_id: 'EMP000001',
          skill_item_id: skills[1].skill_code,
          skill_level: 3,
          self_assessment: 3,
          manager_assessment: 3,
          evidence_description: 'AWSç’°å¢ƒã§ã®ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ãƒ»é‹ç”¨çµŒé¨“',
          acquisition_date: new Date('2021-03-15'),
          last_used_date: new Date('2025-05-25'),
          expiry_date: new Date('2026-03-15'),
          skill_category_id: skillCategories[0].category_code,
          assessment_date: new Date('2025-04-01'),
          assessor_id: 'EMP000001',
          skill_status: 'ACTIVE',
          learning_hours: 80,
          project_experience_count: 2,
          id: 'SR002',
          is_deleted: false,
          tenant_id: 'TENANT001',
          created_at: new Date(),
          updated_at: new Date(),
          created_by: 'EMP000001',
          updated_by: 'EMP000001',
        },
      }),
    ])

    console.log('âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ãŒå®Œäº†ã—ã¾ã—ãŸï¼')
    console.log('ğŸ“‹ æŠ•å…¥ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿:')
    console.log(`   - ãƒ†ãƒŠãƒ³ãƒˆ: ${tenants.length}ä»¶`)
    console.log(`   - éƒ¨ç½²: ${departments.length}ä»¶`)
    console.log(`   - å½¹è·: ${positions.length}ä»¶`)
    console.log(`   - è·ç¨®: ${jobTypes.length}ä»¶`)
    console.log(`   - ãƒ­ãƒ¼ãƒ«: ${roles.length}ä»¶`)
    console.log(`   - æ¨©é™: ${permissions.length}ä»¶`)
    console.log(`   - ã‚¹ã‚­ãƒ«ã‚«ãƒ†ã‚´ãƒª: ${skillCategories.length}ä»¶`)
    console.log(`   - ã‚¹ã‚­ãƒ«: ${skills.length}ä»¶`)
    console.log(`   - å¾“æ¥­å“¡: ${employees.length}ä»¶`)
    console.log(`   - èªè¨¼æƒ…å ±: ${userAuths.length}ä»¶`)
    console.log(`   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«: ${userRoles.length}ä»¶`)
    console.log(`   - ã‚¹ã‚­ãƒ«è¨˜éŒ²: ${skillRecords.length}ä»¶`)
    console.log('')
    console.log('ğŸ” ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±:')
    console.log('   ç®¡ç†è€…:')
    console.log('     ãƒ¦ãƒ¼ã‚¶ãƒ¼ID: admin@skill-report.local')
    console.log('     ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: password')
    console.log('   ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼1:')
    console.log('     ãƒ¦ãƒ¼ã‚¶ãƒ¼ID: yamada.taro@company.com')
    console.log('     ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: password')
    console.log('   ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼2:')
    console.log('     ãƒ¦ãƒ¼ã‚¶ãƒ¼ID: sato.hanako@company.com')
    console.log('     ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: password')

  } catch (error) {
    console.error('âŒ åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error)
    throw error
  }
}

main()
  .then(async () => {
    await prisma.$disconnect()
  })
  .catch(async (e) => {
    console.error('âŒ åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', e)
    await prisma.$disconnect()
    throw e
  })
