# ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³: ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œã‚¹ã‚­ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆçµ±åˆç‰ˆï¼‰

## 1. æ–‡æ›¸åŸºæœ¬æƒ…å ±

- **æ–‡æ›¸å**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³ï¼ˆçµ±åˆç‰ˆï¼‰
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: å¹´é–“ã‚¹ã‚­ãƒ«å ±å‘Šæ›¸WEBåŒ–PJT - ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œ
- **å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: ãƒ›ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾å‘ã‘ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆSaaSåŸºç›¤
- **ä½œæˆæ—¥**: 2025/06/01
- **ä½œæˆè€…**: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ
- **ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«**: entity_relationships.yaml v2.0.0
- **ç·ãƒ†ãƒ¼ãƒ–ãƒ«æ•°**: 48ãƒ†ãƒ¼ãƒ–ãƒ«
- **çµ±åˆå…ƒãƒ•ã‚¡ã‚¤ãƒ«**: 
  - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³.md
  - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³_å®Œå…¨ç‰ˆ.md
  - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³_å®Œå…¨ç‰ˆ_è¿½åŠ .md

---

## 2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ¦‚è¦å›³

### 2.1 ãƒ†ãƒ¼ãƒ–ãƒ«ã‚«ãƒ†ã‚´ãƒªåˆ¥æ§‹æˆï¼ˆ48ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

```mermaid
graph TB
    subgraph "ğŸ¢ ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåŸºç›¤ï¼ˆ2ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_Tenant[MST_Tenant<br/>ãƒ†ãƒŠãƒ³ãƒˆç®¡ç†]
        MST_TenantSettings[MST_TenantSettings<br/>ãƒ†ãƒŠãƒ³ãƒˆè¨­å®š]
    end
    
    subgraph "ğŸ” èªè¨¼ãƒ»èªå¯ï¼ˆ6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_UserAuth[MST_UserAuth<br/>ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æƒ…å ±]
        MST_Role[MST_Role<br/>ãƒ­ãƒ¼ãƒ«æƒ…å ±]
        MST_Permission[MST_Permission<br/>æ¨©é™æƒ…å ±]
        MST_UserRole[MST_UserRole<br/>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«é–¢é€£]
        MST_RolePermission[MST_RolePermission<br/>ãƒ­ãƒ¼ãƒ«æ¨©é™ç´ä»˜ã‘]
    end
    
    subgraph "ğŸ‘¥ çµ„ç¹”ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆ7ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_Employee[MST_Employee<br/>ç¤¾å“¡åŸºæœ¬æƒ…å ±]
        MST_Department[MST_Department<br/>éƒ¨ç½²ãƒã‚¹ã‚¿]
        MST_Position[MST_Position<br/>å½¹è·ãƒã‚¹ã‚¿]
        MST_JobType[MST_JobType<br/>è·ç¨®ãƒã‚¹ã‚¿]
        MST_EmployeeDepartment[MST_EmployeeDepartment<br/>ç¤¾å“¡éƒ¨ç½²é–¢é€£]
        MST_EmployeePosition[MST_EmployeePosition<br/>ç¤¾å“¡å½¹è·é–¢é€£]
        MST_EmployeeJobType[MST_EmployeeJobType<br/>ç¤¾å“¡è·ç¨®é–¢é€£]
    end
    
    subgraph "ğŸ¯ ã‚¹ã‚­ãƒ«ç®¡ç†ï¼ˆ10ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_SkillCategory[MST_SkillCategory<br/>ã‚¹ã‚­ãƒ«ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿]
        MST_Skill[MST_Skill<br/>ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿]
        MST_SkillHierarchy[MST_SkillHierarchy<br/>ã‚¹ã‚­ãƒ«éšå±¤ãƒã‚¹ã‚¿]
        MST_SkillItem[MST_SkillItem<br/>ã‚¹ã‚­ãƒ«é …ç›®ãƒã‚¹ã‚¿]
        MST_SkillGrade[MST_SkillGrade<br/>ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒã‚¹ã‚¿]
        MST_SkillGradeRequirement[MST_SkillGradeRequirement<br/>ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰è¦ä»¶]
        MST_JobTypeSkill[MST_JobTypeSkill<br/>è·ç¨®ã‚¹ã‚­ãƒ«é–¢é€£]
        MST_JobTypeSkillGrade[MST_JobTypeSkillGrade<br/>è·ç¨®ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰é–¢é€£]
        TRN_EmployeeSkillGrade[TRN_EmployeeSkillGrade<br/>ç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰]
    end
    
    subgraph "ğŸ“œ è³‡æ ¼ãƒ»ç ”ä¿®ç®¡ç†ï¼ˆ4ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_Certification[MST_Certification<br/>è³‡æ ¼æƒ…å ±]
        MST_CertificationRequirement[MST_CertificationRequirement<br/>è³‡æ ¼è¦ä»¶ãƒã‚¹ã‚¿]
        MST_TrainingProgram[MST_TrainingProgram<br/>ç ”ä¿®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ]
    end
    
    subgraph "ğŸ¯ ç›®æ¨™ãƒ»ã‚­ãƒ£ãƒªã‚¢ç®¡ç†ï¼ˆ2ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_CareerPlan[MST_CareerPlan<br/>ç›®æ¨™ãƒ»ã‚­ãƒ£ãƒªã‚¢ãƒ—ãƒ©ãƒ³]
        TRN_GoalProgress[TRN_GoalProgress<br/>ç›®æ¨™é€²æ—]
    end
    
    subgraph "ğŸ“Š ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ï¼ˆ6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        TRN_SkillRecord[TRN_SkillRecord<br/>ã‚¹ã‚­ãƒ«æƒ…å ±]
        TRN_ProjectRecord[TRN_ProjectRecord<br/>æ¡ˆä»¶å®Ÿç¸¾]
        TRN_TrainingHistory[TRN_TrainingHistory<br/>ç ”ä¿®å‚åŠ å±¥æ­´]
        TRN_PDU[TRN_PDU<br/>ç¶™ç¶šæ•™è‚²ãƒã‚¤ãƒ³ãƒˆ]
        TRN_SkillEvidence[TRN_SkillEvidence<br/>ã‚¹ã‚­ãƒ«è¨¼è·¡]
        TRN_Notification[TRN_Notification<br/>é€šçŸ¥å±¥æ­´]
    end
    
    subgraph "ğŸ”” é€šçŸ¥ãƒ»é€£æºç®¡ç†ï¼ˆ2ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_NotificationSettings[MST_NotificationSettings<br/>é€šçŸ¥è¨­å®š]
        MST_NotificationTemplate[MST_NotificationTemplate<br/>é€šçŸ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ]
    end
    
    subgraph "âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ï¼ˆ2ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        MST_SystemConfig[MST_SystemConfig<br/>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š]
        MST_ReportTemplate[MST_ReportTemplate<br/>å¸³ç¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ]
    end
    
    subgraph "ğŸ’¾ ã‚·ã‚¹ãƒ†ãƒ ç³»ï¼ˆ8ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        SYS_SkillIndex[SYS_SkillIndex<br/>ã‚¹ã‚­ãƒ«æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹]
        SYS_SkillMatrix[SYS_SkillMatrix<br/>ã‚¹ã‚­ãƒ«ãƒãƒƒãƒ—]
        SYS_BackupHistory[SYS_BackupHistory<br/>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´]
        SYS_SystemLog[SYS_SystemLog<br/>ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°]
        SYS_TokenStore[SYS_TokenStore<br/>ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†]
        SYS_MasterData[SYS_MasterData<br/>ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿å…¨èˆ¬]
        SYS_TenantUsage[SYS_TenantUsage<br/>ãƒ†ãƒŠãƒ³ãƒˆä½¿ç”¨é‡]
        SYS_IntegrationConfig[SYS_IntegrationConfig<br/>å¤–éƒ¨é€£æºè¨­å®š]
    end
    
    subgraph "ğŸ“‹ å±¥æ­´ç³»ï¼ˆ3ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        HIS_AuditLog[HIS_AuditLog<br/>ç›£æŸ»ãƒ­ã‚°]
        HIS_NotificationLog[HIS_NotificationLog<br/>é€šçŸ¥é€ä¿¡å±¥æ­´]
        HIS_TenantBilling[HIS_TenantBilling<br/>ãƒ†ãƒŠãƒ³ãƒˆèª²é‡‘å±¥æ­´]
    end
    
    subgraph "âš¡ ãƒ¯ãƒ¼ã‚¯ç³»ï¼ˆ1ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰"
        WRK_BatchJobLog[WRK_BatchJobLog<br/>ä¸€æ‹¬ç™»éŒ²ã‚¸ãƒ§ãƒ–ãƒ­ã‚°]
    end
    
    %% ä¸»è¦ãªé–¢é€£ç·š
    MST_Tenant --> MST_UserAuth
    MST_Tenant --> MST_Employee
    MST_Tenant --> TRN_SkillRecord
    MST_Employee --> TRN_SkillRecord
    MST_SkillCategory --> MST_Skill
    MST_Skill --> MST_SkillItem
    TRN_SkillRecord --> MST_SkillItem
```

### 2.2 ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆè¨­è¨ˆæ–¹é‡

**ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢**ã¨**ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**ã‚’é‡è¦–ã—ãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è¨­è¨ˆï¼š

1. **å®Œå…¨ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢**: å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«tenant_idã‚’è¿½åŠ ã—ã¦ãƒ‡ãƒ¼ã‚¿åˆ†é›¢
2. **å‚ç…§æ•´åˆæ€§**: ãƒ†ãƒŠãƒ³ãƒˆå†…ã§ã®ã¿å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚’é©ç”¨
3. **æ‹¡å¼µæ€§**: æ–°ã—ã„ãƒ†ãƒŠãƒ³ãƒˆå›ºæœ‰æ©Ÿèƒ½ã®å®¹æ˜“ãªè¿½åŠ 
4. **ç›£æŸ»æ€§**: å…¨æ“ä½œã®è¿½è·¡ãƒ»ç›£æŸ»æ©Ÿèƒ½
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: tenant_idã‚’å«ã‚€è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥

---

## 3. è©³ç´°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢é€£å›³

### 3.1 ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåŸºç›¤ + èªè¨¼ãƒ»èªå¯

```mermaid
erDiagram
    MST_Tenant {
        varchar(50) id PK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) tenant_name "ãƒ†ãƒŠãƒ³ãƒˆå"
        varchar(100) domain_name "ãƒ‰ãƒ¡ã‚¤ãƒ³å"
        varchar(50) plan_type "ãƒ—ãƒ©ãƒ³ã‚¿ã‚¤ãƒ—"
        enum status "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
        varchar(50) created_by "ä½œæˆè€…"
        varchar(50) updated_by "æ›´æ–°è€…"
    }
    
    MST_TenantSettings {
        varchar(50) id PK "è¨­å®šID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) category "ã‚«ãƒ†ã‚´ãƒª"
        varchar(100) setting_key "è¨­å®šã‚­ãƒ¼"
        text setting_value "è¨­å®šå€¤"
        varchar(50) data_type "ãƒ‡ãƒ¼ã‚¿å‹"
        boolean is_encrypted "æš—å·åŒ–ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_UserAuth {
        varchar(50) id PK "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) username "ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
        varchar(255) email "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
        varchar(255) password_hash "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥"
        enum status "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        datetime last_login_at "æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Role {
        varchar(50) id PK "ãƒ­ãƒ¼ãƒ«ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) role_name "ãƒ­ãƒ¼ãƒ«å"
        text description "èª¬æ˜"
        boolean is_system_role "ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ«ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Permission {
        varchar(50) id PK "æ¨©é™ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) permission_name "æ¨©é™å"
        varchar(100) resource "ãƒªã‚½ãƒ¼ã‚¹"
        varchar(50) action "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"
        text description "èª¬æ˜"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_UserRole {
        varchar(50) id PK "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) user_id FK "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID"
        varchar(50) role_id FK "ãƒ­ãƒ¼ãƒ«ID"
        datetime assigned_at "å‰²ã‚Šå½“ã¦æ—¥æ™‚"
        datetime expires_at "æœ‰åŠ¹æœŸé™"
        varchar(50) assigned_by "å‰²ã‚Šå½“ã¦è€…"
    }
    
    MST_RolePermission {
        varchar(50) id PK "ãƒ­ãƒ¼ãƒ«æ¨©é™ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) role_id FK "ãƒ­ãƒ¼ãƒ«ID"
        varchar(50) permission_id FK "æ¨©é™ID"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    %% é–¢é€£
    MST_Tenant ||--o{ MST_TenantSettings : "has"
    MST_Tenant ||--o{ MST_UserAuth : "contains"
    MST_Tenant ||--o{ MST_Role : "defines"
    MST_Tenant ||--o{ MST_Permission : "defines"
    MST_UserAuth ||--o{ MST_UserRole : "has"
    MST_Role ||--o{ MST_UserRole : "assigned_to"
    MST_Role ||--o{ MST_RolePermission : "has"
    MST_Permission ||--o{ MST_RolePermission : "granted_by"
```

### 3.2 çµ„ç¹”ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†

```mermaid
erDiagram
    MST_Tenant {
        varchar(50) id PK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) tenant_name "ãƒ†ãƒŠãƒ³ãƒˆå"
    }
    
    MST_Employee {
        varchar(50) id PK "ç¤¾å“¡ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) user_id FK "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID"
        varchar(30) employee_code "ç¤¾å“¡ç•ªå·"
        varchar(100) full_name "æ°å"
        varchar(255) email "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
        varchar(20) phone "é›»è©±ç•ªå·"
        varchar(50) department_id FK "éƒ¨ç½²ID"
        varchar(50) position_id FK "å½¹è·ID"
        varchar(50) job_type_id FK "è·ç¨®ID"
        varchar(50) manager_id FK "ä¸Šå¸ID"
        date hire_date "å…¥ç¤¾æ—¥"
        enum status "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Department {
        varchar(50) id PK "éƒ¨ç½²ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) department_code "éƒ¨ç½²ã‚³ãƒ¼ãƒ‰"
        varchar(100) department_name "éƒ¨ç½²å"
        varchar(50) parent_department_id FK "è¦ªéƒ¨ç½²ID"
        int sort_order "è¡¨ç¤ºé †"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Position {
        varchar(50) id PK "å½¹è·ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) position_code "å½¹è·ã‚³ãƒ¼ãƒ‰"
        varchar(100) position_name "å½¹è·å"
        int level "ãƒ¬ãƒ™ãƒ«"
        int sort_order "è¡¨ç¤ºé †"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_JobType {
        varchar(50) id PK "è·ç¨®ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) job_type_code "è·ç¨®ã‚³ãƒ¼ãƒ‰"
        varchar(100) job_type_name "è·ç¨®å"
        text description "èª¬æ˜"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_EmployeeDepartment {
        varchar(50) id PK "ç¤¾å“¡éƒ¨ç½²é–¢é€£ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) department_id FK "éƒ¨ç½²ID"
        date start_date "é–‹å§‹æ—¥"
        date end_date "çµ‚äº†æ—¥"
        boolean is_primary "ä¸»éƒ¨ç½²ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
    }
    
    MST_EmployeePosition {
        varchar(50) id PK "ç¤¾å“¡å½¹è·é–¢é€£ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) position_id FK "å½¹è·ID"
        date start_date "é–‹å§‹æ—¥"
        date end_date "çµ‚äº†æ—¥"
        boolean is_primary "ä¸»å½¹è·ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
    }
    
    MST_EmployeeJobType {
        varchar(50) id PK "ç¤¾å“¡è·ç¨®é–¢é€£ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) job_type_id FK "è·ç¨®ID"
        date start_date "é–‹å§‹æ—¥"
        date end_date "çµ‚äº†æ—¥"
        boolean is_primary "ä¸»è·ç¨®ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
    }
    
    %% é–¢é€£
    MST_Tenant ||--o{ MST_Employee : "employs"
    MST_Tenant ||--o{ MST_Department : "organizes"
    MST_Tenant ||--o{ MST_Position : "defines"
    MST_Tenant ||--o{ MST_JobType : "categorizes"
    MST_UserAuth ||--|| MST_Employee : "authenticates"
    MST_Employee ||--o{ MST_Department : "belongs_to"
    MST_Employee ||--o{ MST_Position : "holds"
    MST_Employee ||--o{ MST_JobType : "works_as"
    MST_Employee ||--o{ MST_Employee : "manages"
    MST_Department ||--o{ MST_Department : "parent_of"
    MST_Employee ||--o{ MST_EmployeeDepartment : "assigned_to"
    MST_Employee ||--o{ MST_EmployeePosition : "holds"
    MST_Employee ||--o{ MST_EmployeeJobType : "works_as"
    MST_Department ||--o{ MST_EmployeeDepartment : "contains"
    MST_Position ||--o{ MST_EmployeePosition : "grants"
    MST_JobType ||--o{ MST_EmployeeJobType : "categorizes"
```

### 3.3 ã‚¹ã‚­ãƒ«ç®¡ç†ï¼ˆã‚³ã‚¢ï¼‰

```mermaid
erDiagram
    MST_Tenant {
        varchar(50) id PK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) tenant_name "ãƒ†ãƒŠãƒ³ãƒˆå"
    }
    
    MST_SkillCategory {
        bigint id PK "ã‚«ãƒ†ã‚´ãƒªID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) category_code "ã‚«ãƒ†ã‚´ãƒªã‚³ãƒ¼ãƒ‰"
        varchar(100) category_name "ã‚«ãƒ†ã‚´ãƒªå"
        bigint parent_category_id FK "è¦ªã‚«ãƒ†ã‚´ãƒªID"
        tinyint level "éšå±¤ãƒ¬ãƒ™ãƒ«"
        int sort_order "è¡¨ç¤ºé †"
        text description "èª¬æ˜"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Skill {
        varchar(50) id PK "ã‚¹ã‚­ãƒ«ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) skill_code "ã‚¹ã‚­ãƒ«ã‚³ãƒ¼ãƒ‰"
        varchar(100) skill_name "ã‚¹ã‚­ãƒ«å"
        bigint category_id FK "ã‚«ãƒ†ã‚´ãƒªID"
        text description "èª¬æ˜"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_SkillHierarchy {
        varchar(50) skill_id PK "ã‚¹ã‚­ãƒ«ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) parent_skill_id FK "è¦ªã‚¹ã‚­ãƒ«ID"
        int hierarchy_level "éšå±¤ãƒ¬ãƒ™ãƒ«"
        int sort_order "è¡¨ç¤ºé †"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_SkillItem {
        varchar(50) id PK "ã‚¹ã‚­ãƒ«é …ç›®ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) skill_id FK "ã‚¹ã‚­ãƒ«ID"
        varchar(20) item_code "é …ç›®ã‚³ãƒ¼ãƒ‰"
        varchar(100) item_name "é …ç›®å"
        text description "èª¬æ˜"
        int sort_order "è¡¨ç¤ºé †"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_SkillGrade {
        varchar(50) id PK "ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) grade_code "ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰"
        varchar(100) grade_name "ã‚°ãƒ¬ãƒ¼ãƒ‰å"
        int level "ãƒ¬ãƒ™ãƒ«"
        text description "èª¬æ˜"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_SkillGradeRequirement {
        varchar(50) id PK "è¦ä»¶ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) skill_grade_id FK "ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        varchar(50) skill_id FK "ã‚¹ã‚­ãƒ«ID"
        int min_experience_years "æœ€ä½çµŒé¨“å¹´æ•°"
        text required_certifications "å¿…è¦è³‡æ ¼"
        text assessment_criteria "è©•ä¾¡åŸºæº–"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    TRN_SkillRecord {
        varchar(50) id PK "è¨˜éŒ²ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) skill_item_id FK "ã‚¹ã‚­ãƒ«é …ç›®ID"
        bigint skill_category_id FK "ã‚¹ã‚­ãƒ«ã‚«ãƒ†ã‚´ãƒªID"
        int skill_level "ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«"
        int experience_years "çµŒé¨“å¹´æ•°"
        date last_used_date "æœ€çµ‚ä½¿ç”¨æ—¥"
        varchar(50) certification_status "è³‡æ ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        text notes "å‚™è€ƒ"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
        varchar(50) updated_by "æ›´æ–°è€…"
    }
    
    TRN_EmployeeSkillGrade {
        varchar(50) id PK "ç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) skill_id FK "ã‚¹ã‚­ãƒ«ID"
        varchar(50) grade_id FK "ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        date assessed_date "è©•ä¾¡æ—¥"
        varchar(100) assessment_method "è©•ä¾¡æ–¹æ³•"
        text notes "å‚™è€ƒ"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    %% é–¢é€£
    MST_Tenant ||--o{ MST_SkillCategory : "defines"
    MST_Tenant ||--o{ MST_Skill : "manages"
    MST_Tenant ||--o{ MST_SkillGrade : "grades"
    MST_SkillCategory ||--o{ MST_SkillCategory : "parent_of"
    MST_SkillCategory ||--o{ MST_Skill : "categorizes"
    MST_Skill ||--o{ MST_SkillHierarchy : "hierarchies"
    MST_SkillHierarchy ||--o{ MST_SkillHierarchy : "parent_of"
    MST_Skill ||--o{ MST_SkillItem : "contains"
    MST_SkillHierarchy ||--|| MST_SkillItem : "corresponds"
    MST_SkillGrade ||--o{ MST_SkillGradeRequirement : "requires"
    MST_Skill ||--o{ MST_SkillGradeRequirement : "needed_for"
    MST_Employee ||--o{ TRN_SkillRecord : "has"
    MST_SkillItem ||--o{ TRN_SkillRecord : "recorded_in"
    MST_SkillCategory ||--o{ TRN_SkillRecord : "categorizes"
    MST_Employee ||--o{ TRN_EmployeeSkillGrade : "assessed"
    MST_Skill ||--o{ TRN_EmployeeSkillGrade : "measures"
    MST_SkillGrade ||--o{ TRN_EmployeeSkillGrade : "grades"
```

### 3.4 è·ç¨®ã‚¹ã‚­ãƒ«é–¢é€£ + è³‡æ ¼ãƒ»ç ”ä¿®ç®¡ç†

```mermaid
erDiagram
    MST_JobType {
        varchar(50) id PK "è·ç¨®ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) job_type_name "è·ç¨®å"
    }
    
    MST_JobTypeSkill {
        varchar(50) id PK "è·ç¨®ã‚¹ã‚­ãƒ«é–¢é€£ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) job_type_id FK "è·ç¨®ID"
        varchar(50) skill_item_id FK "ã‚¹ã‚­ãƒ«é …ç›®ID"
        int required_level "å¿…è¦ãƒ¬ãƒ™ãƒ«"
        boolean is_mandatory "å¿…é ˆãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_JobTypeSkillGrade {
        varchar(50) id PK "è·ç¨®ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰é–¢é€£ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) job_type_id FK "è·ç¨®ID"
        varchar(50) skill_grade_id FK "ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        int required_level "å¿…è¦ãƒ¬ãƒ™ãƒ«"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_Certification {
        varchar(50) id PK "è³‡æ ¼ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) certification_code "è³‡æ ¼ã‚³ãƒ¼ãƒ‰"
        varchar(100) certification_name "è³‡æ ¼å"
        varchar(200) issuing_organization "ç™ºè¡Œæ©Ÿé–¢"
        int validity_period_months "æœ‰åŠ¹æœŸé–“ï¼ˆæœˆï¼‰"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_CertificationRequirement {
        varchar(50) id PK "è¦ä»¶ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) certification_id FK "è³‡æ ¼ID"
        varchar(50) target_skill_grade_id FK "å¯¾è±¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ID"
        int required_level "å¿…è¦ãƒ¬ãƒ™ãƒ«"
        boolean is_mandatory "å¿…é ˆãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    MST_TrainingProgram {
        varchar(50) id PK "ç ”ä¿®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(20) program_code "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰"
        varchar(100) program_name "ãƒ—ãƒ­ã‚°ãƒ©ãƒ å"
        text description "èª¬æ˜"
        int duration_hours "æ™‚é–“æ•°"
        varchar(50) level "ãƒ¬ãƒ™ãƒ«"
        boolean is_active "æœ‰åŠ¹ãƒ•ãƒ©ã‚°"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    TRN_PDU {
        varchar(50) pdu_id PK "PDU ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) certification_id FK "è³‡æ ¼ID"
        enum activity_type "æ´»å‹•ç¨®åˆ¥"
        varchar(200) activity_name "æ´»å‹•å"
        date activity_date "æ´»å‹•æ—¥"
        decimal(5,1) pdu_points "PDUãƒã‚¤ãƒ³ãƒˆ"
        varchar(50) certification_type "è³‡æ ¼ç¨®åˆ¥"
        text description "èª¬æ˜"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    TRN_TrainingHistory {
        varchar(50) id PK "ç ”ä¿®å±¥æ­´ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(50) employee_id FK "ç¤¾å“¡ID"
        varchar(50) training_program_id FK "ç ”ä¿®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ID"
        varchar(200) training_name "ç ”ä¿®å"
        varchar(50) training_type "ç ”ä¿®ç¨®åˆ¥"
        date start_date "é–‹å§‹æ—¥"
        date end_date "çµ‚äº†æ—¥"
        decimal training_hours "ç ”ä¿®æ™‚é–“"
        varchar(50) completion_status "å®Œäº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        text notes "å‚™è€ƒ"
        datetime created_at "ä½œæˆæ—¥æ™‚"
        datetime updated_at "æ›´æ–°æ—¥æ™‚"
    }
    
    %% é–¢é€£
    MST_JobType ||--o{ MST_JobTypeSkill : "requires"
    MST_JobType ||--o{ MST_JobTypeSkillGrade : "grades"
    MST_SkillItem ||--o{ MST_JobTypeSkill : "used_in"
    MST_SkillGrade ||--o{ MST_JobTypeSkillGrade : "required_for"
    MST_Certification ||--o{ MST_CertificationRequirement : "requires"
    MST_SkillGrade ||--o{ MST_CertificationRequirement : "needed_for"
    MST_Employee ||--o{ TRN_PDU : "earns"
    MST_Certification ||--o{ TRN_PDU : "related_to"
    MST_Employee ||--o{ TRN_TrainingHistory : "attends"
    MST_TrainingProgram ||--o{ TRN_TrainingHistory : "provides"
```

### 3.5 ç›®æ¨™ãƒ»ã‚­ãƒ£ãƒªã‚¢ç®¡ç† + æ¡ˆä»¶å®Ÿç¸¾

```mermaid
erDiagram
    MST_Employee {
        varchar(50) id PK "ç¤¾å“¡ID"
        varchar(50) tenant_id FK "ãƒ†ãƒŠãƒ³ãƒˆID"
        varchar(100) full_name "æ°å"
    }
    
    MST_CareerPlan {
        varchar(50) id PK
