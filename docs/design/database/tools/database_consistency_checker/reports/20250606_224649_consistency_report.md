# データベース整合性チェックレポート

**チェック日時:** 2025-06-06 22:46:49
**対象テーブル数:** 0
**総チェック数:** 0

## 🔍 チェック内容について

このレポートでは、データベース設計の整合性を以下の4つの観点からチェックしています。

### 1. テーブル存在確認

**目的:** 設計ドキュメント間でのテーブル定義の一貫性を確認

**チェック内容:** テーブル一覧.md、entity_relationships.yaml、DDLファイル、詳細YAMLファイルの4つのソース間でテーブルが正しく定義されているかを確認

**検出する問題:** 定義漏れ、不整合、命名ミス

### 2. 孤立ファイル検出

**目的:** 不要なファイルや管理対象外ファイルの検出

**チェック内容:** テーブル一覧に記載されていないDDLファイルや詳細YAMLファイルを検出

**検出する問題:** 削除し忘れたファイル、テーブル一覧への追加漏れ

### 3. カラム定義整合性

**目的:** DDLとYAMLファイル間でのカラム定義の整合性確認

**チェック内容:** データ型、長さ、NULL制約、デフォルト値、ENUM値、インデックス、制約の一致確認

**検出する問題:** 型不一致、制約の相違、定義漏れ

### 4. 外部キー整合性

**目的:** エンティティ関連図とDDL間での外部キー定義の整合性確認

**チェック内容:** 外部キー名、参照先テーブル・カラム、ON DELETE/UPDATE設定の一致確認

**検出する問題:** 参照先不整合、制約設定の相違、定義漏れ

### 5. データ型整合性

**目的:** DDLとYAMLファイル間でのデータ型定義の詳細整合性確認

**チェック内容:** データ型の詳細比較、長さ・精度・スケールの一致確認、ENUM値の整合性確認

**検出する問題:** データ型不一致、長さ・精度の相違、ENUM値の不整合

### 6. 制約整合性

**目的:** CHECK制約、UNIQUE制約、PRIMARY KEY制約、インデックス制約の整合性確認

**チェック内容:** CHECK制約の条件一致、UNIQUE制約の対象カラム一致、PRIMARY KEY制約の整合性、インデックス制約の詳細比較

**検出する問題:** 制約条件不一致、制約対象カラム相違、制約定義漏れ、インデックス設定不整合

### 7. YAMLフォーマット整合性

**目的:** YAMLファイルが標準テンプレートに準拠しているかの確認

**チェック内容:** 必須セクション存在確認、セクション内構造確認、データ型妥当性確認、テンプレート準拠確認

**検出する問題:** 必須セクション不足、構造不整合、データ型不正、テンプレート非準拠

### 8. 修正提案

**目的:** 問題の自動修正提案と修正コマンド生成による開発効率向上

**チェック内容:** テーブル定義修正提案、カラム定義修正提案、制約修正提案、自動修正コマンド生成

**検出する問題:** 修正方法不明、手動修正の手間、修正漏れリスク

### 9. マルチテナント対応

**目的:** tenant_id必須確認、テナント用インデックス・制約確認

**チェック内容:** tenant_idカラム存在確認、テナント用インデックス確認、テナント制約確認、外部キーテナント整合性確認

**検出する問題:** tenant_id不足、テナントインデックス不足、テナント制約不備、テナント間参照問題

### 10. 要求仕様ID追跡

**目的:** 要求仕様IDとテーブル・カラムの対応関係確認によるトレーサビリティ確保

**チェック内容:** 要求仕様ID網羅性確認、要求仕様ID妥当性確認、要求仕様ID形式チェック、未割当項目検出

**検出する問題:** 要求仕様ID未割当、要求仕様ID不正、要求仕様ID重複、トレーサビリティ不備

### 11. パフォーマンス影響分析

**目的:** インデックスカバレッジ分析、クエリパフォーマンス予測、データ量影響分析

**チェック内容:** インデックスカバレッジ分析、クエリパフォーマンス予測、データ量影響分析、スロークエリ予測

**検出する問題:** インデックス不足、パフォーマンス劣化予測、データ量超過リスク、クエリ最適化不備

## 📊 結果サマリー

| 重要度 | 件数 | 割合 |
|--------|------|------|

### 🎯 総合判定

✅ **整合性に問題はありません**

すべてのチェックが正常に完了しました。

## 🔍 チェック別統計

統計情報がありません。

## 📋 詳細結果

チェック結果がありません。
