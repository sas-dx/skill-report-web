# ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©æ›¸: TRN_EmployeeSkillGrade (ç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰)

## ğŸ“‹ åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒ†ãƒ¼ãƒ–ãƒ«å | TRN_EmployeeSkillGrade |
| è«–ç†å | ç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ |
| ã‚«ãƒ†ã‚´ãƒª | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³» |
| ä½œæˆæ—¥ | 2025-06-01 |

> **æ³¨æ„**: æœ¬ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©æ›¸ã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚æ‰‹å‹•ç·¨é›†ã¯è¡Œã‚ãªã„ã§ãã ã•ã„ã€‚
> è©³ç´°å®šç¾©ã®å¤‰æ›´ã¯ `table-details/TRN_EmployeeSkillGrade_details.yaml` ã§è¡Œã£ã¦ãã ã•ã„ã€‚


## ğŸ“ æ”¹ç‰ˆå±¥æ­´

> **æ³¨æ„**: æ”¹ç‰ˆå±¥æ­´ã®è©³ç´°ã¯ä»¥ä¸‹ã®YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ï¼š
> `table-details/TABLE_NAME_details.yaml`

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°æ—¥ | æ›´æ–°è€… | ä¸»ãªå¤‰æ›´å†…å®¹ |
|------------|--------|--------|-------------|
| 1.0.0 | 2025-06-01 | é–‹ç™ºãƒãƒ¼ãƒ  | åˆç‰ˆä½œæˆ - ç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ†ãƒ¼ãƒ–ãƒ«ã®è©³ç´°å®šç¾© |


## ğŸ“ ãƒ†ãƒ¼ãƒ–ãƒ«æ¦‚è¦

TRN_EmployeeSkillGradeï¼ˆç¤¾å“¡ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰ã¯ã€ç¤¾å“¡ãŒè·ç¨®ã”ã¨ã«æŒã¤ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã™ã€‚

ä¸»ãªç›®çš„ï¼š
- ç¤¾å“¡ã®è·ç¨®åˆ¥ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã®ç®¡ç†
- ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã®å±¥æ­´ç®¡ç†ï¼ˆæ˜‡æ ¼ãƒ»é™æ ¼ã®è¨˜éŒ²ï¼‰
- æœ‰åŠ¹æœŸé–“ã«ã‚ˆã‚‹æ™‚ç³»åˆ—ç®¡ç†
- äººäº‹è©•ä¾¡ãƒ»æ˜‡é€²åˆ¤å®šã®åŸºç¤ãƒ‡ãƒ¼ã‚¿æä¾›
- ã‚¹ã‚­ãƒ«åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã®åŸºç›¤
- çµ„ç¹”ã®ã‚¹ã‚­ãƒ«å¯è¦–åŒ–ãƒ»æœ€é©åŒ–æ”¯æ´

ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã€äººäº‹è©•ä¾¡ã€ã‚­ãƒ£ãƒªã‚¢é–‹ç™ºã€çµ„ç¹”åˆ†æãªã©ã€ã‚¹ã‚­ãƒ«ç®¡ç†ã®ä¸­æ ¸ã¨ãªã‚‹é‡è¦ãªãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚


## ğŸ—‚ï¸ ã‚«ãƒ©ãƒ å®šç¾©

| ã‚«ãƒ©ãƒ å | è«–ç†å | ãƒ‡ãƒ¼ã‚¿å‹ | æ¡æ•° | NULL | PK | FK | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|----------|--------|----------|------|------|----|----|------------|------|
| id | ID | VARCHAR | 50 | Ã— | â— |  |  | ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ï¼ˆUUIDï¼‰ |
| is_deleted | å‰Šé™¤ãƒ•ãƒ©ã‚° | BOOLEAN |  | Ã— |  |  |  | è«–ç†å‰Šé™¤ãƒ•ãƒ©ã‚° |
| tenant_id | ãƒ†ãƒŠãƒ³ãƒˆID | VARCHAR | 50 | Ã— |  |  |  | ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆè­˜åˆ¥å­ |
| employee_id | ç¤¾å“¡ID | VARCHAR | 50 | â—‹ |  | â— |  | å¯¾è±¡ç¤¾å“¡ã®IDï¼ˆMST_Employeeã¸ã®å¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| job_type_id | è·ç¨®ID | VARCHAR | 50 | â—‹ |  | â— |  | å¯¾è±¡è·ç¨®ã®IDï¼ˆMST_JobTypeã¸ã®å¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| skill_grade | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ | VARCHAR | 10 | â—‹ |  |  |  | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰å€¤ï¼ˆä¾‹ï¼šS, A, B, C, D ã¾ãŸã¯ 1, 2, 3, 4, 5ï¼‰ |
| skill_level | ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ« | INT |  | â—‹ |  |  |  | ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ï¼ˆæ•°å€¤è¡¨ç¾ã€1-5ã®ç¯„å›²ï¼‰ |
| effective_date | æœ‰åŠ¹é–‹å§‹æ—¥ | DATE |  | â—‹ |  |  |  | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã®æœ‰åŠ¹é–‹å§‹æ—¥ |
| expiry_date | æœ‰åŠ¹çµ‚äº†æ—¥ | DATE |  | â—‹ |  |  |  | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã®æœ‰åŠ¹çµ‚äº†æ—¥ï¼ˆNULL=ç¾åœ¨æœ‰åŠ¹ï¼‰ |
| evaluation_date | è©•ä¾¡æ—¥ | DATE |  | â—‹ |  |  |  | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ãŒè©•ä¾¡ãƒ»æ±ºå®šã•ã‚ŒãŸæ—¥ |
| evaluator_id | è©•ä¾¡è€…ID | VARCHAR | 50 | â—‹ |  | â— |  | è©•ä¾¡ã‚’è¡Œã£ãŸç¤¾å“¡ã®IDï¼ˆMST_Employeeã¸ã®å¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| evaluation_comment | è©•ä¾¡ã‚³ãƒ¡ãƒ³ãƒˆ | TEXT |  | â—‹ |  |  |  | è©•ä¾¡ã«é–¢ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆãƒ»å‚™è€ƒ |
| certification_flag | èªå®šãƒ•ãƒ©ã‚° | BOOLEAN |  | â—‹ |  |  |  | å…¬å¼èªå®šã•ã‚ŒãŸã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã‹ã©ã†ã‹ |
| next_evaluation_date | æ¬¡å›è©•ä¾¡äºˆå®šæ—¥ | DATE |  | â—‹ |  |  |  | æ¬¡å›ã‚¹ã‚­ãƒ«è©•ä¾¡ã®äºˆå®šæ—¥ |
| created_at | ä½œæˆæ—¥æ™‚ | TIMESTAMP |  | Ã— |  |  | CURRENT_TIMESTAMP | ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆæ—¥æ™‚ |
| updated_at | æ›´æ–°æ—¥æ™‚ | TIMESTAMP |  | Ã— |  |  | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | ãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–°æ—¥æ™‚ |
| created_by | ä½œæˆè€… | VARCHAR | 50 | Ã— |  |  |  | ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆè€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| updated_by | æ›´æ–°è€… | VARCHAR | 50 | Ã— |  |  |  | ãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–°è€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |

## ğŸ” ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å®šç¾©

| ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å | ã‚«ãƒ©ãƒ  | ãƒ¦ãƒ‹ãƒ¼ã‚¯ | èª¬æ˜ |
|----------------|--------|----------|------|
| idx_employee_job_effective | employee_id, job_type_id, effective_date | Ã— | ç¤¾å“¡ãƒ»è·ç¨®ãƒ»æœ‰åŠ¹æ—¥æ¤œç´¢ç”¨ |
| idx_employee_current | employee_id, expiry_date | Ã— | ç¤¾å“¡ã®ç¾åœ¨æœ‰åŠ¹ãªã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰æ¤œç´¢ç”¨ |
| idx_job_type_grade | job_type_id, skill_grade | Ã— | è·ç¨®åˆ¥ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰æ¤œç´¢ç”¨ |
| idx_evaluation_date | evaluation_date | Ã— | è©•ä¾¡æ—¥æ¤œç´¢ç”¨ |
| idx_next_evaluation | next_evaluation_date | Ã— | æ¬¡å›è©•ä¾¡äºˆå®šæ—¥æ¤œç´¢ç”¨ |
| idx_certification | certification_flag | Ã— | èªå®šãƒ•ãƒ©ã‚°æ¤œç´¢ç”¨ |

## ğŸ”’ åˆ¶ç´„å®šç¾©

| åˆ¶ç´„å | åˆ¶ç´„ã‚¿ã‚¤ãƒ— | å¯¾è±¡ã‚«ãƒ©ãƒ  | æ¡ä»¶ | èª¬æ˜ |
|--------|------------|------------|------|------|
| uk_employee_job_effective | UNIQUE | employee_id, job_type_id, effective_date |  | ç¤¾å“¡ãƒ»è·ç¨®ãƒ»æœ‰åŠ¹é–‹å§‹æ—¥ã®çµ„ã¿åˆã‚ã›ä¸€æ„åˆ¶ç´„ |
| chk_skill_grade | CHECK |  | skill_grade IN ('S', 'A', 'B', 'C', 'D') OR skill_grade IN ('1', '2', '3', '4', '5') | ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰å€¤ãƒã‚§ãƒƒã‚¯åˆ¶ç´„ |
| chk_skill_level | CHECK |  | skill_level IS NULL OR (skill_level >= 1 AND skill_level <= 5) | ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ç¯„å›²ãƒã‚§ãƒƒã‚¯åˆ¶ç´„ |
| chk_date_range | CHECK |  | expiry_date IS NULL OR effective_date <= expiry_date | æœ‰åŠ¹æœŸé–“ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯åˆ¶ç´„ |
| chk_evaluation_date | CHECK |  | evaluation_date IS NULL OR evaluation_date <= effective_date | è©•ä¾¡æ—¥ã¨æœ‰åŠ¹é–‹å§‹æ—¥ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯åˆ¶ç´„ |

## ğŸ”— å¤–éƒ¨ã‚­ãƒ¼é–¢ä¿‚

| å¤–éƒ¨ã‚­ãƒ¼å | ã‚«ãƒ©ãƒ  | å‚ç…§ãƒ†ãƒ¼ãƒ–ãƒ« | å‚ç…§ã‚«ãƒ©ãƒ  | æ›´æ–°æ™‚ | å‰Šé™¤æ™‚ | èª¬æ˜ |
|------------|--------|--------------|------------|--------|--------|------|
| fk_skill_grade_employee | employee_id | MST_Employee | id | CASCADE | CASCADE | ç¤¾å“¡ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |
| fk_skill_grade_job_type | job_type_id | MST_JobType | id | CASCADE | RESTRICT | è·ç¨®ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |
| fk_skill_grade_evaluator | evaluator_id | MST_Employee | id | CASCADE | SET NULL | è©•ä¾¡è€…ã¸ã®å¤–éƒ¨ã‚­ãƒ¼ |

## ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿

```json
[
  {
    "employee_id": "EMP000001",
    "job_type_id": "JOB001",
    "skill_grade": "A",
    "skill_level": 4,
    "effective_date": "2024-04-01",
    "expiry_date": null,
    "evaluation_date": "2024-03-15",
    "evaluator_id": "EMP000010",
    "evaluation_comment": "å„ªç§€ãªæŠ€è¡“åŠ›ã¨æŒ‡å°åŠ›ã‚’ç™ºæ®ã—ã¦ã„ã‚‹",
    "certification_flag": true,
    "next_evaluation_date": "2025-04-01"
  },
  {
    "employee_id": "EMP000002",
    "job_type_id": "JOB002",
    "skill_grade": "B",
    "skill_level": 3,
    "effective_date": "2024-04-01",
    "expiry_date": null,
    "evaluation_date": "2024-03-20",
    "evaluator_id": "EMP000001",
    "evaluation_comment": "ç€å®Ÿã«ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã—ã¦ãŠã‚Šã€æ¬¡ã®ãƒ¬ãƒ™ãƒ«ãŒæœŸå¾…ã•ã‚Œã‚‹",
    "certification_flag": true,
    "next_evaluation_date": "2025-04-01"
  },
  {
    "employee_id": "EMP000001",
    "job_type_id": "JOB001",
    "skill_grade": "B",
    "skill_level": 3,
    "effective_date": "2023-04-01",
    "expiry_date": "2024-03-31",
    "evaluation_date": "2023-03-15",
    "evaluator_id": "EMP000010",
    "evaluation_comment": "å‰å¹´åº¦ã‹ã‚‰ã®æˆé•·ãŒé¡•è‘—",
    "certification_flag": true,
    "next_evaluation_date": "2024-04-01"
  }
]
```

## ğŸ“Œ ç‰¹è¨˜äº‹é …

- åŒä¸€ç¤¾å“¡ãƒ»åŒä¸€è·ç¨®ã§æœ‰åŠ¹æœŸé–“ãŒé‡è¤‡ã—ãªã„ã‚ˆã†åˆ¶å¾¡
- ç¾åœ¨æœ‰åŠ¹ãªã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯ expiry_date ãŒ NULL
- ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã®å±¥æ­´ã¯ç‰©ç†å‰Šé™¤ã›ãšä¿æŒ
- è©•ä¾¡è€…ã¯ä¸Šå¸ã¾ãŸã¯äººäº‹æ‹…å½“è€…ã®ã¿è¨­å®šå¯èƒ½
- èªå®šãƒ•ãƒ©ã‚°ã¯å…¬å¼è©•ä¾¡ã«ã‚ˆã‚‹æ­£å¼ãªã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’ç¤ºã™
- æ¬¡å›è©•ä¾¡äºˆå®šæ—¥ã¯è‡ªå‹•ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½ã§ä½¿ç”¨

## ğŸ“‹ æ¥­å‹™ãƒ«ãƒ¼ãƒ«

- åŒä¸€ç¤¾å“¡ãƒ»åŒä¸€è·ç¨®ã§æœ‰åŠ¹æœŸé–“ã®é‡è¤‡ã¯ç¦æ­¢
- æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰è¨­å®šæ™‚ã¯å‰ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã® expiry_date ã‚’è‡ªå‹•æ›´æ–°
- ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰å¤‰æ›´ã¯è©•ä¾¡è€…ã®æ‰¿èªãŒå¿…è¦
- èªå®šãƒ•ãƒ©ã‚°ãŒ true ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã¿å…¬å¼ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ã¨ã—ã¦æ‰±ã†
- è©•ä¾¡æ—¥ã¯æœ‰åŠ¹é–‹å§‹æ—¥ä»¥å‰ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
- æ¬¡å›è©•ä¾¡äºˆå®šæ—¥ã¯é€šå¸¸1å¹´å¾Œã«è¨­å®š
- ã‚¹ã‚­ãƒ«ã‚°ãƒ¬ãƒ¼ãƒ‰ S > A > B > C > D ã®é †ã§ä¸Šä½
- ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ« 5 > 4 > 3 > 2 > 1 ã®é †ã§ä¸Šä½
