{
  "overall_score": 99.61538461538461,
  "total_tables": 52,
  "valid_tables": 52,
  "invalid_tables": 0,
  "warnings_count": 2,
  "errors_count": 0,
  "recommendations": [
    "1個のテーブルに警告があります。改善を検討してください。",
    "定期的な整合性チェックを実行してください。",
    "新しいテーブル追加時は必須セクションを確認してください。"
  ],
  "generated_at": "2025-07-04T06:16:25.912116",
  "detailed_results": [
    {
      "table_name": "HIS_AuditLog",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "HIS_AuditLog",
          "logical_name": "監査ログ",
          "category": "履歴系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - HIS_AuditLogの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "システム内で発生する全ての重要な操作を記録する監査ログテーブルです。\n\n主な目的：\n- セキュリティ監査のための操作履歴記録\n- システム不正利用の検知・追跡\n- コンプライアンス要件への対応\n- トラブルシューティング時の操作履歴確認\n\nこのテーブルは法的要件やセキュリティポリシーに基づき、\n90日間のログ保持期間を設けています。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "action_type",
              "logical": "アクション種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実行されたアクションの種別（CREATE:作成、READ:参照、UPDATE:更新、DELETE:削除、LOGIN:ログイン、LOGOUT:ログアウト）",
              "enum_values": [
                "CREATE",
                "READ",
                "UPDATE",
                "DELETE",
                "LOGIN",
                "LOGOUT"
              ]
            },
            {
              "name": "auditlog_id",
              "logical": "HIS_AuditLogの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "HIS_AuditLogの主キー",
              "default": null
            },
            {
              "name": "created_by",
              "logical": "作成者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード作成者のユーザーID"
            },
            {
              "name": "error_message",
              "logical": "エラーメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作失敗時のエラーメッセージ"
            },
            {
              "name": "execution_time_ms",
              "logical": "実行時間",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作の実行時間（ミリ秒）"
            },
            {
              "name": "ip_address",
              "logical": "IPアドレス",
              "type": "VARCHAR",
              "length": 45,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作元のIPアドレス（IPv6対応）"
            },
            {
              "name": "new_values",
              "logical": "変更後値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "作成・更新後のデータ（JSON形式）"
            },
            {
              "name": "old_values",
              "logical": "変更前値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "更新・削除前のデータ（JSON形式）"
            },
            {
              "name": "result_status",
              "logical": "実行結果",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作の実行結果（SUCCESS:成功、FAILURE:失敗、ERROR:エラー）",
              "enum_values": [
                "SUCCESS",
                "FAILURE",
                "ERROR"
              ],
              "default": "SUCCESS"
            },
            {
              "name": "session_id",
              "logical": "セッションID",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作時のセッション識別子"
            },
            {
              "name": "target_id",
              "logical": "対象レコードID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作対象のレコードID"
            },
            {
              "name": "target_table",
              "logical": "対象テーブル",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作対象のテーブル名"
            },
            {
              "name": "updated_by",
              "logical": "更新者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード更新者のユーザーID"
            },
            {
              "name": "user_agent",
              "logical": "ユーザーエージェント",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作時のブラウザ・アプリケーション情報"
            },
            {
              "name": "user_id",
              "logical": "ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "操作を実行したユーザーのID"
            },
            {
              "name": "is_deleted",
              "logical": "削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ（監査ログは物理削除禁止）",
              "default": false
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_his_auditlog_id",
              "columns": [
                "id"
              ],
              "unique": true,
              "description": "プライマリキー検索用（一意）"
            },
            {
              "name": "idx_his_auditlog_user_id",
              "columns": [
                "user_id"
              ],
              "unique": false,
              "description": "ユーザーID検索用"
            },
            {
              "name": "idx_his_auditlog_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用"
            },
            {
              "name": "idx_his_auditlog_action_type",
              "columns": [
                "action_type"
              ],
              "unique": false,
              "description": "アクション種別検索用"
            },
            {
              "name": "idx_his_auditlog_target_table",
              "columns": [
                "target_table"
              ],
              "unique": false,
              "description": "対象テーブル検索用"
            },
            {
              "name": "idx_his_auditlog_created_at",
              "columns": [
                "created_at"
              ],
              "unique": false,
              "description": "作成日時検索用（時系列検索）"
            },
            {
              "name": "idx_his_auditlog_user_created",
              "columns": [
                "user_id",
                "created_at"
              ],
              "unique": false,
              "description": "ユーザー別時系列検索用"
            },
            {
              "name": "idx_his_auditlog_tenant_created",
              "columns": [
                "tenant_id",
                "created_at"
              ],
              "unique": false,
              "description": "テナント別時系列検索用"
            }
          ],
          "constraints": [
            {
              "name": "chk_his_auditlog_action_type",
              "type": "CHECK",
              "description": "アクション種別値チェック制約",
              "condition": "action_type IN ('CREATE', 'READ', 'UPDATE', 'DELETE', 'LOGIN', 'LOGOUT')"
            },
            {
              "name": "chk_his_auditlog_result_status",
              "type": "CHECK",
              "description": "実行結果値チェック制約",
              "condition": "result_status IN ('SUCCESS', 'FAILURE', 'ERROR')"
            },
            {
              "name": "chk_his_auditlog_execution_time_positive",
              "type": "CHECK",
              "description": "実行時間非負数チェック制約",
              "condition": "execution_time_ms IS NULL OR execution_time_ms >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_his_auditlog_tenant",
              "columns": [
                "tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_his_auditlog_user",
              "columns": [
                "user_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "audit_001",
              "user_id": "emp_001",
              "session_id": "sess_abc123",
              "action_type": "LOGIN",
              "target_table": null,
              "target_id": null,
              "old_values": null,
              "new_values": null,
              "ip_address": "192.168.1.100",
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "result_status": "SUCCESS",
              "error_message": null,
              "execution_time_ms": 150,
              "is_deleted": false,
              "tenant_id": "tenant_001",
              "created_by": "system",
              "updated_by": "system"
            },
            {
              "id": "audit_002",
              "user_id": "emp_001",
              "session_id": "sess_abc123",
              "action_type": "UPDATE",
              "target_table": "MST_Employee",
              "target_id": "emp_001",
              "old_values": "{\"name\": \"田中太郎\", \"email\": \"tanaka@example.com\"}",
              "new_values": "{\"name\": \"田中太郎\", \"email\": \"tanaka.new@example.com\"}",
              "ip_address": "192.168.1.100",
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "result_status": "SUCCESS",
              "error_message": null,
              "execution_time_ms": 250,
              "is_deleted": false,
              "tenant_id": "tenant_001",
              "created_by": "emp_001",
              "updated_by": "emp_001"
            }
          ],
          "notes": [
            "監査ログは法的要件により90日間保持が必要",
            "機密情報（old_values, new_values）は暗号化して保存",
            "物理削除は禁止、論理削除のみ許可",
            "大量データ対応のため、パーティショニング検討が必要",
            "ログ検索性能向上のため、適切なインデックス設計が重要",
            "セキュリティ監査要件に基づく設計",
            "全ての重要な操作（CRUD、認証）を記録する",
            "ログの改ざん防止のため、作成後の更新は原則禁止",
            "個人情報を含む場合は暗号化して保存",
            "システム管理者のみがログを参照可能",
            "ログ保持期間は90日間、期間経過後は自動削除",
            "異常なアクセスパターンの検知に活用"
          ],
          "rules": [
            "全ての重要な操作（CRUD、認証）を記録する",
            "ログの改ざん防止のため、作成後の更新は原則禁止",
            "個人情報を含む場合は暗号化して保存",
            "システム管理者のみがログを参照可能",
            "ログ保持期間は90日間、期間経過後は自動削除",
            "異常なアクセスパターンの検知に活用"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_HIS_AuditLog_監査ログ.md"
        ]
      }
    },
    {
      "table_name": "HIS_NotificationLog",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "HIS_NotificationLog",
          "logical_name": "通知送信履歴",
          "category": "履歴系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 通知送信履歴テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "HIS_NotificationLog（通知送信履歴）は、システムから送信された全ての通知の履歴を管理するテーブルです。\n\n主な目的：\n- 通知送信の履歴管理\n- 送信成功・失敗の記録\n- 通知配信の監査証跡\n- 通知システムの分析・改善データ\n- 再送処理のための情報管理\n\nこのテーブルは、通知・連携管理機能において送信状況の把握と品質向上を支える重要な履歴データです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "notification_id",
              "logical": "通知ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信された通知のID（TRN_Notificationへの参照）"
            },
            {
              "name": "subject",
              "logical": "件名",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信された通知の件名"
            },
            {
              "name": "delivered_at",
              "logical": "配信確認日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配信が確認された日時（対応している場合）"
            },
            {
              "name": "error_details",
              "logical": "エラー詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信失敗時のエラー詳細情報（JSON形式）"
            },
            {
              "name": "integration_config_id",
              "logical": "連携設定ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用された外部連携設定のID（SYS_IntegrationConfigへの参照）"
            },
            {
              "name": "max_retry_count",
              "logical": "最大リトライ回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定された最大リトライ回数",
              "default": 3
            },
            {
              "name": "message_body",
              "logical": "メッセージ本文",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信された通知の本文"
            },
            {
              "name": "message_format",
              "logical": "メッセージフォーマット",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "メッセージのフォーマット（PLAIN:プレーンテキスト、HTML:HTML、MARKDOWN:Markdown）",
              "enum_values": [
                "PLAIN",
                "HTML",
                "MARKDOWN"
              ]
            },
            {
              "name": "notification_type",
              "logical": "通知タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信された通知の種類（EMAIL:メール、SLACK:Slack、TEAMS:Teams、WEBHOOK:Webhook）",
              "enum_values": [
                "EMAIL",
                "SLACK",
                "TEAMS",
                "WEBHOOK"
              ]
            },
            {
              "name": "notificationlog_id",
              "logical": "HIS_NotificationLogの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "HIS_NotificationLogの主キー",
              "default": null
            },
            {
              "name": "opened_at",
              "logical": "開封日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "開封が確認された日時（メール等で対応している場合）"
            },
            {
              "name": "priority_level",
              "logical": "優先度レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の優先度（HIGH:高、MEDIUM:中、LOW:低）",
              "enum_values": [
                "HIGH",
                "MEDIUM",
                "LOW"
              ],
              "default": "MEDIUM"
            },
            {
              "name": "recipient_address",
              "logical": "受信者アドレス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "送信先アドレス（メールアドレス、Slack チャネル等、暗号化必須）"
            },
            {
              "name": "recipient_type",
              "logical": "受信者タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "受信者の種類（USER:個人、GROUP:グループ、CHANNEL:チャネル、WEBHOOK:Webhook）",
              "enum_values": [
                "USER",
                "GROUP",
                "CHANNEL",
                "WEBHOOK"
              ]
            },
            {
              "name": "response_code",
              "logical": "レスポンスコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信先システムからのレスポンスコード"
            },
            {
              "name": "response_message",
              "logical": "レスポンスメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信先システムからのレスポンスメッセージ"
            },
            {
              "name": "scheduled_at",
              "logical": "送信予定日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信が予定された日時"
            },
            {
              "name": "send_attempts",
              "logical": "送信試行回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信を試行した回数",
              "default": 0
            },
            {
              "name": "send_status",
              "logical": "送信状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "送信の状態（PENDING:送信待ち、SENDING:送信中、SUCCESS:成功、FAILED:失敗、RETRY:リトライ中）",
              "enum_values": [
                "PENDING",
                "SENDING",
                "SUCCESS",
                "FAILED",
                "RETRY"
              ]
            },
            {
              "name": "sent_at",
              "logical": "送信日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際に送信された日時"
            },
            {
              "name": "setting_id",
              "logical": "設定ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用された通知設定のID（MST_NotificationSettingsへの参照）"
            },
            {
              "name": "template_id",
              "logical": "テンプレートID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用された通知テンプレートのID（MST_NotificationTemplateへの参照）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_notification_log_notification",
              "columns": [
                "notification_id"
              ],
              "unique": false,
              "description": "通知ID別検索用"
            },
            {
              "name": "idx_notification_log_tenant_status",
              "columns": [
                "tenant_id",
                "send_status"
              ],
              "unique": false,
              "description": "テナント別送信状態検索用"
            },
            {
              "name": "idx_notification_log_type",
              "columns": [
                "notification_type"
              ],
              "unique": false,
              "description": "通知タイプ別検索用"
            },
            {
              "name": "idx_notification_log_scheduled",
              "columns": [
                "scheduled_at"
              ],
              "unique": false,
              "description": "送信予定日時検索用"
            },
            {
              "name": "idx_notification_log_sent",
              "columns": [
                "sent_at"
              ],
              "unique": false,
              "description": "送信日時検索用"
            },
            {
              "name": "idx_notification_log_status_attempts",
              "columns": [
                "send_status",
                "send_attempts"
              ],
              "unique": false,
              "description": "送信状態・試行回数検索用"
            },
            {
              "name": "idx_notification_log_priority",
              "columns": [
                "priority_level",
                "scheduled_at"
              ],
              "unique": false,
              "description": "優先度別送信予定検索用"
            },
            {
              "name": "idx_his_notificationlog_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "chk_notification_log_type",
              "type": "CHECK",
              "description": "通知タイプ値チェック制約",
              "condition": "notification_type IN ('EMAIL', 'SLACK', 'TEAMS', 'WEBHOOK')"
            },
            {
              "name": "chk_notification_log_recipient_type",
              "type": "CHECK",
              "description": "受信者タイプ値チェック制約",
              "condition": "recipient_type IN ('USER', 'GROUP', 'CHANNEL', 'WEBHOOK')"
            },
            {
              "name": "chk_notification_log_format",
              "type": "CHECK",
              "description": "メッセージフォーマット値チェック制約",
              "condition": "message_format IN ('PLAIN', 'HTML', 'MARKDOWN')"
            },
            {
              "name": "chk_notification_log_status",
              "type": "CHECK",
              "description": "送信状態値チェック制約",
              "condition": "send_status IN ('PENDING', 'SENDING', 'SUCCESS', 'FAILED', 'RETRY')"
            },
            {
              "name": "chk_notification_log_priority",
              "type": "CHECK",
              "description": "優先度レベル値チェック制約",
              "condition": "priority_level IN ('HIGH', 'MEDIUM', 'LOW')"
            },
            {
              "name": "chk_notification_log_attempts_positive",
              "type": "CHECK",
              "description": "試行回数正数チェック制約",
              "condition": "send_attempts >= 0 AND max_retry_count >= 0"
            },
            {
              "name": "chk_notification_log_attempts_limit",
              "type": "CHECK",
              "description": "試行回数上限チェック制約",
              "condition": "send_attempts <= max_retry_count + 1"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_notification_log_notification",
              "columns": [
                "notification_id"
              ],
              "references": {
                "table": "TRN_Notification",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_notification_log_setting",
              "columns": [
                "setting_id"
              ],
              "references": {
                "table": "MST_NotificationSettings",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_notification_log_template",
              "columns": [
                "template_id"
              ],
              "references": {
                "table": "MST_NotificationTemplate",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_notification_log_integration",
              "columns": [
                "integration_config_id"
              ],
              "references": {
                "table": "SYS_IntegrationConfig",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "NL001",
              "tenant_id": "TENANT001",
              "notification_id": "NOTIF001",
              "setting_id": "NS001",
              "template_id": "NT001",
              "notification_type": "EMAIL",
              "recipient_type": "USER",
              "recipient_address": "yamada.taro@company.com",
              "subject": "【スキル更新】山田太郎さんのスキル情報が更新されました",
              "message_body": "山田太郎さん\n\n以下のスキル情報が更新されました。\n\nスキル名: Java\n更新日時: 2025-06-01 10:30:00\n更新者: 佐藤花子\n\n詳細は以下のリンクからご確認ください。\nhttps://system.company.com/skills/123\n\n※このメールは自動送信されています。",
              "message_format": "PLAIN",
              "send_status": "SUCCESS",
              "send_attempts": 1,
              "max_retry_count": 3,
              "scheduled_at": "2025-06-01 10:30:00",
              "sent_at": "2025-06-01 10:30:15",
              "delivered_at": "2025-06-01 10:30:45",
              "opened_at": "2025-06-01 11:15:30",
              "response_code": "250",
              "response_message": "Message accepted for delivery",
              "error_details": null,
              "integration_config_id": "IC003",
              "priority_level": "MEDIUM"
            },
            {
              "id": "NL002",
              "tenant_id": "TENANT001",
              "notification_id": "NOTIF002",
              "setting_id": "NS002",
              "template_id": "NT002",
              "notification_type": "SLACK",
              "recipient_type": "CHANNEL",
              "recipient_address": "#notifications",
              "subject": null,
              "message_body": ":warning: *目標期限のお知らせ* :warning:\n\n山田太郎さんの目標「Java認定資格取得」の期限が近づいています。\n\n• 期限: 2025-06-30\n• 残り日数: 29日\n• 進捗率: 75%\n\n<https://system.company.com/goals/456|詳細を確認する>",
              "message_format": "MARKDOWN",
              "send_status": "FAILED",
              "send_attempts": 3,
              "max_retry_count": 3,
              "scheduled_at": "2025-06-01 09:00:00",
              "sent_at": null,
              "delivered_at": null,
              "opened_at": null,
              "response_code": "404",
              "response_message": "channel_not_found",
              "error_details": "{\"error\": \"channel_not_found\", \"details\": \"The specified channel does not exist or the bot is not a member\"}",
              "integration_config_id": "IC001",
              "priority_level": "HIGH"
            }
          ],
          "notes": [
            "通知送信履歴は2年間保持される",
            "受信者アドレスは個人情報のため暗号化必須",
            "エラー詳細はJSON形式で構造化された情報を格納",
            "配信確認・開封確認は対応している通知チャネルでのみ記録",
            "リトライ処理は最大試行回数まで自動実行",
            "送信状態により後続処理を制御",
            "優先度により送信順序を制御",
            "送信試行回数は最大リトライ回数+1を超えない",
            "成功した通知は再送不可",
            "失敗した通知は設定された回数までリトライ",
            "高優先度の通知は優先的に送信処理",
            "送信予定日時を過ぎた通知は期限切れとして処理",
            "受信者アドレスは送信時に暗号化して保存",
            "エラー詳細は障害分析のため詳細に記録",
            "配信確認機能は通知チャネルの対応状況に依存"
          ],
          "rules": [
            "送信試行回数は最大リトライ回数+1を超えない",
            "成功した通知は再送不可",
            "失敗した通知は設定された回数までリトライ",
            "高優先度の通知は優先的に送信処理",
            "送信予定日時を過ぎた通知は期限切れとして処理",
            "受信者アドレスは送信時に暗号化して保存",
            "エラー詳細は障害分析のため詳細に記録",
            "配信確認機能は通知チャネルの対応状況に依存"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_HIS_NotificationLog_通知送信履歴.md"
        ]
      }
    },
    {
      "table_name": "HIS_ReportGeneration",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "HIS_ReportGeneration",
          "logical_name": "帳票生成履歴",
          "category": "履歴系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 帳票生成履歴テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "HIS_ReportGeneration（帳票生成履歴）は、システムで生成された帳票・レポートの履歴を管理するテーブルです。\n\n主な目的：\n- 帳票生成の履歴管理\n- 生成成功・失敗の記録\n- 帳票ファイルの管理\n- 生成パフォーマンスの監視\n- 帳票利用状況の分析\n\nこのテーブルは、帳票・レポート機能において生成状況の把握と品質向上を支える重要な履歴データです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "completed_at",
              "logical": "完了日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成処理が完了した日時"
            },
            {
              "name": "download_count",
              "logical": "ダウンロード回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票がダウンロードされた回数",
              "default": 0
            },
            {
              "name": "error_details",
              "logical": "エラー詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成失敗時のエラー詳細情報（JSON形式）"
            },
            {
              "name": "error_message",
              "logical": "エラーメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成失敗時のエラーメッセージ"
            },
            {
              "name": "expires_at",
              "logical": "有効期限",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成された帳票ファイルの有効期限"
            },
            {
              "name": "file_path",
              "logical": "ファイルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成された帳票ファイルのパス"
            },
            {
              "name": "file_size",
              "logical": "ファイルサイズ",
              "type": "BIGINT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成された帳票ファイルのサイズ（バイト）"
            },
            {
              "name": "generation_status",
              "logical": "生成状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成の状態（PENDING:待機中、PROCESSING:処理中、SUCCESS:成功、FAILED:失敗、CANCELLED:キャンセル）",
              "enum_values": [
                "PENDING",
                "PROCESSING",
                "SUCCESS",
                "FAILED",
                "CANCELLED"
              ]
            },
            {
              "name": "last_downloaded_at",
              "logical": "最終ダウンロード日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票が最後にダウンロードされた日時"
            },
            {
              "name": "output_format",
              "logical": "出力形式",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票の出力形式（PDF:PDF、EXCEL:Excel、CSV:CSV、HTML:HTML）",
              "enum_values": [
                "PDF",
                "EXCEL",
                "CSV",
                "HTML"
              ]
            },
            {
              "name": "parameters",
              "logical": "パラメータ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成時のパラメータ（JSON形式）"
            },
            {
              "name": "processing_time_ms",
              "logical": "処理時間",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成にかかった時間（ミリ秒）"
            },
            {
              "name": "report_category",
              "logical": "帳票カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票の分類（SKILL:スキル関連、GOAL:目標関連、EVALUATION:評価関連、SUMMARY:サマリー、ANALYTICS:分析）",
              "enum_values": [
                "SKILL",
                "GOAL",
                "EVALUATION",
                "SUMMARY",
                "ANALYTICS"
              ]
            },
            {
              "name": "report_title",
              "logical": "帳票タイトル",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生成された帳票のタイトル"
            },
            {
              "name": "reportgeneration_id",
              "logical": "HIS_ReportGenerationの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "HIS_ReportGenerationの主キー",
              "default": null
            },
            {
              "name": "requested_at",
              "logical": "要求日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成が要求された日時"
            },
            {
              "name": "requested_by",
              "logical": "要求者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成を要求したユーザーID"
            },
            {
              "name": "started_at",
              "logical": "開始日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成処理が開始された日時"
            },
            {
              "name": "template_id",
              "logical": "テンプレートID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用された帳票テンプレートのID（MST_ReportTemplateへの参照）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_report_generation_template",
              "columns": [
                "template_id"
              ],
              "unique": false,
              "description": "テンプレートID別検索用"
            },
            {
              "name": "idx_report_generation_requester",
              "columns": [
                "requested_by"
              ],
              "unique": false,
              "description": "要求者別検索用"
            },
            {
              "name": "idx_report_generation_tenant_status",
              "columns": [
                "tenant_id",
                "generation_status"
              ],
              "unique": false,
              "description": "テナント別生成状態検索用"
            },
            {
              "name": "idx_report_generation_category",
              "columns": [
                "report_category"
              ],
              "unique": false,
              "description": "帳票カテゴリ別検索用"
            },
            {
              "name": "idx_report_generation_format",
              "columns": [
                "output_format"
              ],
              "unique": false,
              "description": "出力形式別検索用"
            },
            {
              "name": "idx_report_generation_requested",
              "columns": [
                "requested_at"
              ],
              "unique": false,
              "description": "要求日時検索用"
            },
            {
              "name": "idx_report_generation_completed",
              "columns": [
                "completed_at"
              ],
              "unique": false,
              "description": "完了日時検索用"
            },
            {
              "name": "idx_report_generation_expires",
              "columns": [
                "expires_at"
              ],
              "unique": false,
              "description": "有効期限検索用"
            },
            {
              "name": "idx_his_reportgeneration_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "chk_report_generation_category",
              "type": "CHECK",
              "description": "帳票カテゴリ値チェック制約",
              "condition": "report_category IN ('SKILL', 'GOAL', 'EVALUATION', 'SUMMARY', 'ANALYTICS')"
            },
            {
              "name": "chk_report_generation_format",
              "type": "CHECK",
              "description": "出力形式値チェック制約",
              "condition": "output_format IN ('PDF', 'EXCEL', 'CSV', 'HTML')"
            },
            {
              "name": "chk_report_generation_status",
              "type": "CHECK",
              "description": "生成状態値チェック制約",
              "condition": "generation_status IN ('PENDING', 'PROCESSING', 'SUCCESS', 'FAILED', 'CANCELLED')"
            },
            {
              "name": "chk_report_generation_file_size_positive",
              "type": "CHECK",
              "description": "ファイルサイズ正数チェック制約",
              "condition": "file_size IS NULL OR file_size >= 0"
            },
            {
              "name": "chk_report_generation_download_count_positive",
              "type": "CHECK",
              "description": "ダウンロード回数正数チェック制約",
              "condition": "download_count >= 0"
            },
            {
              "name": "chk_report_generation_processing_time_positive",
              "type": "CHECK",
              "description": "処理時間正数チェック制約",
              "condition": "processing_time_ms IS NULL OR processing_time_ms >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_report_generation_template",
              "columns": [
                "template_id"
              ],
              "references": {
                "table": "MST_ReportTemplate",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "RG001",
              "tenant_id": "TENANT001",
              "template_id": "RT001",
              "requested_by": "USER001",
              "report_title": "山田太郎さんのスキルサマリーレポート",
              "report_category": "SKILL",
              "output_format": "PDF",
              "generation_status": "SUCCESS",
              "parameters": "{\"employee_id\": \"EMP001\", \"report_date\": \"2025-06-01\"}",
              "file_path": "/reports/2025/06/01/skill_summary_EMP001_20250601.pdf",
              "file_size": 1048576,
              "download_count": 3,
              "last_downloaded_at": "2025-06-01 18:45:00",
              "requested_at": "2025-06-01 15:30:00",
              "started_at": "2025-06-01 15:30:05",
              "completed_at": "2025-06-01 15:30:25",
              "processing_time_ms": 20000,
              "error_message": null,
              "error_details": null,
              "expires_at": "2025-06-08 15:30:00"
            },
            {
              "id": "RG002",
              "tenant_id": "TENANT001",
              "template_id": "RT002",
              "requested_by": "USER002",
              "report_title": "開発部目標進捗レポート",
              "report_category": "GOAL",
              "output_format": "EXCEL",
              "generation_status": "FAILED",
              "parameters": "{\"department_id\": \"DEPT001\", \"period_start\": \"2025-05-01\", \"period_end\": \"2025-05-31\"}",
              "file_path": null,
              "file_size": null,
              "download_count": 0,
              "last_downloaded_at": null,
              "requested_at": "2025-06-01 16:00:00",
              "started_at": "2025-06-01 16:00:10",
              "completed_at": "2025-06-01 16:00:15",
              "processing_time_ms": 5000,
              "error_message": "データ取得エラー: 指定された期間のデータが見つかりません",
              "error_details": "{\"error_code\": \"DATA_NOT_FOUND\", \"sql_error\": \"No rows found for the specified period\"}",
              "expires_at": null
            }
          ],
          "notes": [
            "帳票生成履歴は1年間保持される",
            "生成されたファイルは有効期限後に自動削除",
            "処理時間はパフォーマンス監視に活用",
            "エラー詳細はJSON形式で構造化された情報を格納",
            "ダウンロード統計は利用状況分析に活用",
            "大容量ファイルは外部ストレージに保存",
            "パラメータ情報は再生成時の参考に使用",
            "生成成功時はファイルパス・サイズを必須記録",
            "生成失敗時はエラー情報を詳細に記録",
            "有効期限切れファイルは自動削除対象",
            "同一パラメータでの重複生成は制限",
            "処理時間が閾値を超える場合は警告",
            "ダウンロード時は統計情報を更新",
            "キャンセルされた生成は中間ファイルを削除",
            "テンプレート削除時は関連履歴を保持"
          ],
          "rules": [
            "生成成功時はファイルパス・サイズを必須記録",
            "生成失敗時はエラー情報を詳細に記録",
            "有効期限切れファイルは自動削除対象",
            "同一パラメータでの重複生成は制限",
            "処理時間が閾値を超える場合は警告",
            "ダウンロード時は統計情報を更新",
            "キャンセルされた生成は中間ファイルを削除",
            "テンプレート削除時は関連履歴を保持"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_HIS_ReportGeneration_帳票生成履歴.md"
        ]
      }
    },
    {
      "table_name": "HIS_TenantBilling",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "HIS_TenantBilling",
          "logical_name": "テナント課金履歴",
          "category": "履歴系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - テナント課金履歴テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "HIS_TenantBilling（テナント課金履歴）は、マルチテナントシステムにおける各テナントの課金情報を履歴として管理するテーブルです。\n\n主な目的：\n- テナント別課金履歴の管理\n- 使用量ベース課金の計算履歴\n- 請求書発行のための基礎データ管理\n- 課金監査のための証跡管理\n- 収益分析のためのデータ蓄積\n\nこのテーブルは、マルチテナント管理機能において課金・請求業務を支える重要な履歴データです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金対象のテナントID（MST_Tenantへの参照）"
            },
            {
              "name": "plan_name",
              "logical": "プラン名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "適用されたプランの名称"
            },
            {
              "name": "additional_amount",
              "logical": "追加料金",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "追加サービス等の料金（税抜）",
              "default": 0.0
            },
            {
              "name": "base_amount",
              "logical": "基本料金",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "基本料金（税抜）",
              "default": 0.0
            },
            {
              "name": "billing_period_end",
              "logical": "課金期間終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金期間の終了日"
            },
            {
              "name": "billing_period_start",
              "logical": "課金期間開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金期間の開始日"
            },
            {
              "name": "billing_status",
              "logical": "課金状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金の状態（CALCULATED:計算済み、INVOICED:請求済み、PAID:支払済み、CANCELLED:キャンセル）",
              "enum_values": [
                "CALCULATED",
                "INVOICED",
                "PAID",
                "CANCELLED"
              ],
              "default": "CALCULATED"
            },
            {
              "name": "billing_type",
              "logical": "課金タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金の種類（MONTHLY:月額、USAGE:従量、SETUP:初期費用、ADDITIONAL:追加費用）",
              "enum_values": [
                "MONTHLY",
                "USAGE",
                "SETUP",
                "ADDITIONAL"
              ]
            },
            {
              "name": "currency_code",
              "logical": "通貨コード",
              "type": "VARCHAR",
              "length": 3,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通貨コード（ISO 4217準拠、例：JPY、USD）",
              "default": "JPY"
            },
            {
              "name": "discount_amount",
              "logical": "割引金額",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "適用された割引金額（税抜）",
              "default": 0.0
            },
            {
              "name": "due_date",
              "logical": "支払期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "支払期限日"
            },
            {
              "name": "invoice_date",
              "logical": "請求日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "請求書の発行日"
            },
            {
              "name": "invoice_number",
              "logical": "請求書番号",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "発行された請求書の番号"
            },
            {
              "name": "notes",
              "logical": "備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "課金に関する備考・特記事項"
            },
            {
              "name": "paid_date",
              "logical": "支払日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際の支払日"
            },
            {
              "name": "payment_method",
              "logical": "支払方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "支払方法（CREDIT_CARD:クレジットカード、BANK_TRANSFER:銀行振込、AUTO_DEBIT:自動引落）",
              "enum_values": [
                "CREDIT_CARD",
                "BANK_TRANSFER",
                "AUTO_DEBIT"
              ]
            },
            {
              "name": "plan_id",
              "logical": "プランID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "適用されたプランのID"
            },
            {
              "name": "subtotal_amount",
              "logical": "小計金額",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "税抜小計金額"
            },
            {
              "name": "tax_amount",
              "logical": "税額",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "消費税額"
            },
            {
              "name": "tax_rate",
              "logical": "税率",
              "type": "DECIMAL",
              "length": "5,3",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "適用された税率（例：0.100 = 10%）"
            },
            {
              "name": "tenantbilling_id",
              "logical": "HIS_TenantBillingの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "HIS_TenantBillingの主キー",
              "default": null
            },
            {
              "name": "total_amount",
              "logical": "合計金額",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "税込合計金額"
            },
            {
              "name": "usage_amount",
              "logical": "従量料金",
              "type": "DECIMAL",
              "length": "12,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用量に基づく従量料金（税抜）",
              "default": 0.0
            },
            {
              "name": "usage_details",
              "logical": "使用量詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用量の詳細情報（JSON形式）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_tenant_billing_tenant_period",
              "columns": [
                "tenant_id",
                "billing_period_start",
                "billing_period_end"
              ],
              "unique": false,
              "description": "テナント別課金期間検索用"
            },
            {
              "name": "idx_tenant_billing_status",
              "columns": [
                "billing_status"
              ],
              "unique": false,
              "description": "課金状態別検索用"
            },
            {
              "name": "idx_tenant_billing_invoice",
              "columns": [
                "invoice_number"
              ],
              "unique": true,
              "description": "請求書番号検索用（一意）"
            },
            {
              "name": "idx_tenant_billing_dates",
              "columns": [
                "invoice_date",
                "due_date",
                "paid_date"
              ],
              "unique": false,
              "description": "日付別検索用"
            },
            {
              "name": "idx_tenant_billing_type",
              "columns": [
                "billing_type"
              ],
              "unique": false,
              "description": "課金タイプ別検索用"
            },
            {
              "name": "idx_tenant_billing_amount",
              "columns": [
                "total_amount"
              ],
              "unique": false,
              "description": "金額別検索用"
            },
            {
              "name": "idx_his_tenantbilling_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_tenant_billing_invoice",
              "type": "UNIQUE",
              "description": "請求書番号一意制約",
              "columns": [
                [
                  "invoice_number"
                ]
              ]
            },
            {
              "name": "chk_tenant_billing_type",
              "type": "CHECK",
              "description": "課金タイプ値チェック制約",
              "condition": "billing_type IN ('MONTHLY', 'USAGE', 'SETUP', 'ADDITIONAL')"
            },
            {
              "name": "chk_tenant_billing_status",
              "type": "CHECK",
              "description": "課金状態値チェック制約",
              "condition": "billing_status IN ('CALCULATED', 'INVOICED', 'PAID', 'CANCELLED')"
            },
            {
              "name": "chk_tenant_billing_payment_method",
              "type": "CHECK",
              "description": "支払方法値チェック制約",
              "condition": "payment_method IS NULL OR payment_method IN ('CREDIT_CARD', 'BANK_TRANSFER', 'AUTO_DEBIT')"
            },
            {
              "name": "chk_tenant_billing_period",
              "type": "CHECK",
              "description": "課金期間整合性チェック制約",
              "condition": "billing_period_end >= billing_period_start"
            },
            {
              "name": "chk_tenant_billing_amounts_positive",
              "type": "CHECK",
              "description": "金額正数チェック制約",
              "condition": "base_amount >= 0 AND usage_amount >= 0 AND additional_amount >= 0 AND discount_amount >= 0 AND tax_amount >= 0 AND total_amount >= 0"
            },
            {
              "name": "chk_tenant_billing_tax_rate",
              "type": "CHECK",
              "description": "税率範囲チェック制約",
              "condition": "tax_rate >= 0 AND tax_rate <= 1"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_tenant_billing_tenant",
              "columns": [
                "tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "TB001",
              "tenant_id": "TENANT001",
              "billing_period_start": "2025-05-01",
              "billing_period_end": "2025-05-31",
              "billing_type": "MONTHLY",
              "plan_id": "PLAN_STANDARD",
              "plan_name": "スタンダードプラン",
              "base_amount": 50000.0,
              "usage_amount": 15000.0,
              "additional_amount": 5000.0,
              "discount_amount": 3000.0,
              "subtotal_amount": 67000.0,
              "tax_rate": 0.1,
              "tax_amount": 6700.0,
              "total_amount": 73700.0,
              "currency_code": "JPY",
              "usage_details": "{\"users\": 25, \"storage_gb\": 150, \"api_calls\": 50000}",
              "billing_status": "PAID",
              "invoice_number": "INV-2025-05-001",
              "invoice_date": "2025-06-01",
              "due_date": "2025-06-30",
              "paid_date": "2025-06-15",
              "payment_method": "CREDIT_CARD",
              "notes": "5月分月額利用料金"
            },
            {
              "id": "TB002",
              "tenant_id": "TENANT002",
              "billing_period_start": "2025-05-01",
              "billing_period_end": "2025-05-31",
              "billing_type": "USAGE",
              "plan_id": "PLAN_ENTERPRISE",
              "plan_name": "エンタープライズプラン",
              "base_amount": 100000.0,
              "usage_amount": 45000.0,
              "additional_amount": 0.0,
              "discount_amount": 10000.0,
              "subtotal_amount": 135000.0,
              "tax_rate": 0.1,
              "tax_amount": 13500.0,
              "total_amount": 148500.0,
              "currency_code": "JPY",
              "usage_details": "{\"users\": 100, \"storage_gb\": 500, \"api_calls\": 200000, \"premium_features\": true}",
              "billing_status": "INVOICED",
              "invoice_number": "INV-2025-05-002",
              "invoice_date": "2025-06-01",
              "due_date": "2025-06-30",
              "paid_date": null,
              "payment_method": "BANK_TRANSFER",
              "notes": "5月分従量課金（大容量利用）"
            }
          ],
          "notes": [
            "課金履歴は法的要件により7年間保持される",
            "金額は全て税抜・税込を明確に分離して管理",
            "使用量詳細はJSON形式で柔軟な情報を格納",
            "請求書番号は全システムで一意である必要がある",
            "支払状況は外部決済システムとの連携により更新",
            "通貨コードはISO 4217準拠で国際化に対応",
            "個人情報含有のため暗号化必須（テーブル一覧参照）",
            "課金期間は重複しない連続した期間である必要がある",
            "請求書番号は発行後変更不可",
            "支払済み状態の課金情報は変更不可",
            "キャンセルされた課金は金額を0に調整",
            "税率は課金期間の法定税率を適用",
            "使用量ベース課金は実際の使用量データに基づく",
            "割引は契約条件に基づき自動適用",
            "支払期限は請求日から30日後が標準"
          ],
          "rules": [
            "課金期間は重複しない連続した期間である必要がある",
            "請求書番号は発行後変更不可",
            "支払済み状態の課金情報は変更不可",
            "キャンセルされた課金は金額を0に調整",
            "税率は課金期間の法定税率を適用",
            "使用量ベース課金は実際の使用量データに基づく",
            "割引は契約条件に基づき自動適用",
            "支払期限は請求日から30日後が標準"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_HIS_TenantBilling_テナント課金履歴.md"
        ]
      }
    },
    {
      "table_name": "MST_CareerPlan",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_CareerPlan",
          "logical_name": "目標・キャリアプラン",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 目標・キャリアプランマスタの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_CareerPlan（目標・キャリアプラン）は、社員の中長期的なキャリア目標と成長計画を管理するマスタテーブルです。\n\n主な目的：\n- キャリア目標の設定・管理\n- 成長計画の策定支援\n- スキル開発ロードマップの提供\n- 人事評価・昇進判定の基準設定\n- 人材育成計画の立案支援\n\nこのテーブルにより、個人の成長と組織の人材戦略を連携させ、\n効果的なキャリア開発と人材育成を実現できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "plan_name",
              "logical": "プラン名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "キャリアプランの名称"
            },
            {
              "name": "budget_allocated",
              "logical": "割当予算",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プラン実行のための割当予算"
            },
            {
              "name": "budget_used",
              "logical": "使用予算",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際に使用した予算",
              "default": 0.0
            },
            {
              "name": "career_plan_id",
              "logical": "キャリアプランID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "キャリアプランを一意に識別するID"
            },
            {
              "name": "careerplan_id",
              "logical": "MST_CareerPlanの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_CareerPlanの主キー",
              "default": null
            },
            {
              "name": "current_level",
              "logical": "現在レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "現在のキャリアレベル（ENTRY:新人、JUNIOR:初級、INTERMEDIATE:中級、SENIOR:上級、EXPERT:エキスパート、MANAGER:管理職、EXECUTIVE:役員）",
              "enum_values": [
                "ENTRY",
                "JUNIOR",
                "INTERMEDIATE",
                "SENIOR",
                "EXPERT",
                "MANAGER",
                "EXECUTIVE"
              ]
            },
            {
              "name": "custom_fields",
              "logical": "カスタムフィールド",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織固有の追加項目（JSON形式）"
            },
            {
              "name": "development_actions",
              "logical": "育成アクション",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "具体的な育成・開発アクション（JSON形式）"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "対象社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "last_review_date",
              "logical": "最終レビュー日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にレビューを実施した日付"
            },
            {
              "name": "mentor_id",
              "logical": "メンターID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "指導担当者のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "milestone_1_date",
              "logical": "マイルストーン1日付",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第1マイルストーンの目標日"
            },
            {
              "name": "milestone_1_description",
              "logical": "マイルストーン1説明",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第1マイルストーンの内容説明"
            },
            {
              "name": "milestone_2_date",
              "logical": "マイルストーン2日付",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第2マイルストーンの目標日"
            },
            {
              "name": "milestone_2_description",
              "logical": "マイルストーン2説明",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第2マイルストーンの内容説明"
            },
            {
              "name": "milestone_3_date",
              "logical": "マイルストーン3日付",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第3マイルストーンの目標日"
            },
            {
              "name": "milestone_3_description",
              "logical": "マイルストーン3説明",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "第3マイルストーンの内容説明"
            },
            {
              "name": "next_review_date",
              "logical": "次回レビュー日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回レビュー予定日"
            },
            {
              "name": "notes",
              "logical": "備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "その他の備考・メモ"
            },
            {
              "name": "plan_description",
              "logical": "プラン説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "キャリアプランの詳細説明"
            },
            {
              "name": "plan_end_date",
              "logical": "プラン終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "キャリアプランの目標達成予定日"
            },
            {
              "name": "plan_start_date",
              "logical": "プラン開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "キャリアプランの開始日"
            },
            {
              "name": "plan_status",
              "logical": "プラン状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プランの進捗状況（DRAFT:下書き、ACTIVE:実行中、ON_HOLD:保留、COMPLETED:完了、CANCELLED:中止、REVISED:改訂）",
              "enum_values": [
                "DRAFT",
                "ACTIVE",
                "ON_HOLD",
                "COMPLETED",
                "CANCELLED",
                "REVISED"
              ],
              "default": "DRAFT"
            },
            {
              "name": "plan_type",
              "logical": "プラン種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プランの種別（SHORT_TERM:短期、MEDIUM_TERM:中期、LONG_TERM:長期、SPECIALIZED:専門特化、MANAGEMENT:管理職、TECHNICAL:技術職）",
              "enum_values": [
                "SHORT_TERM",
                "MEDIUM_TERM",
                "LONG_TERM",
                "SPECIALIZED",
                "MANAGEMENT",
                "TECHNICAL"
              ]
            },
            {
              "name": "priority_level",
              "logical": "優先度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プランの優先度（LOW:低、NORMAL:通常、HIGH:高、CRITICAL:最重要）",
              "enum_values": [
                "LOW",
                "NORMAL",
                "HIGH",
                "CRITICAL"
              ],
              "default": "NORMAL"
            },
            {
              "name": "progress_percentage",
              "logical": "進捗率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プランの進捗率（0.00-100.00）",
              "default": 0.0
            },
            {
              "name": "required_certifications",
              "logical": "必要資格",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成に必要な資格一覧（JSON形式）"
            },
            {
              "name": "required_experiences",
              "logical": "必要経験",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成に必要な経験・実績（JSON形式）"
            },
            {
              "name": "required_skills",
              "logical": "必要スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成に必要なスキル一覧（JSON形式）"
            },
            {
              "name": "review_frequency",
              "logical": "レビュー頻度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レビューの実施頻度（MONTHLY:月次、QUARTERLY:四半期、SEMI_ANNUAL:半年、ANNUAL:年次）",
              "enum_values": [
                "MONTHLY",
                "QUARTERLY",
                "SEMI_ANNUAL",
                "ANNUAL"
              ],
              "default": "QUARTERLY"
            },
            {
              "name": "risk_factors",
              "logical": "リスク要因",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成のリスク要因・課題"
            },
            {
              "name": "success_criteria",
              "logical": "成功基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プラン成功の判定基準"
            },
            {
              "name": "supervisor_id",
              "logical": "上司ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "直属上司のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "support_resources",
              "logical": "支援リソース",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "利用可能な支援・リソース情報"
            },
            {
              "name": "target_department_id",
              "logical": "目標部署ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標とする部署のID（MST_Departmentへの外部キー）"
            },
            {
              "name": "target_job_type_id",
              "logical": "目標職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標とする職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "target_level",
              "logical": "目標レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標とするキャリアレベル（ENTRY:新人、JUNIOR:初級、INTERMEDIATE:中級、SENIOR:上級、EXPERT:エキスパート、MANAGER:管理職、EXECUTIVE:役員）",
              "enum_values": [
                "ENTRY",
                "JUNIOR",
                "INTERMEDIATE",
                "SENIOR",
                "EXPERT",
                "MANAGER",
                "EXECUTIVE"
              ]
            },
            {
              "name": "target_position_id",
              "logical": "目標役職ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標とする役職のID（MST_Positionへの外部キー）"
            },
            {
              "name": "template_id",
              "logical": "テンプレートID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用したプランテンプレートのID"
            },
            {
              "name": "training_plan",
              "logical": "研修計画",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "推奨研修・教育プログラム（JSON形式）"
            },
            {
              "name": "visibility_level",
              "logical": "公開レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プランの公開範囲（PRIVATE:本人のみ、MANAGER:上司まで、DEPARTMENT:部署内、COMPANY:全社）",
              "enum_values": [
                "PRIVATE",
                "MANAGER",
                "DEPARTMENT",
                "COMPANY"
              ],
              "default": "MANAGER"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_career_plan_id",
              "columns": [
                "career_plan_id"
              ],
              "unique": true,
              "description": "キャリアプランID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_plan_type",
              "columns": [
                "plan_type"
              ],
              "unique": false,
              "description": "プラン種別検索用"
            },
            {
              "name": "idx_target_position",
              "columns": [
                "target_position_id"
              ],
              "unique": false,
              "description": "目標役職検索用"
            },
            {
              "name": "idx_target_job_type",
              "columns": [
                "target_job_type_id"
              ],
              "unique": false,
              "description": "目標職種検索用"
            },
            {
              "name": "idx_plan_status",
              "columns": [
                "plan_status"
              ],
              "unique": false,
              "description": "プラン状況検索用"
            },
            {
              "name": "idx_plan_period",
              "columns": [
                "plan_start_date",
                "plan_end_date"
              ],
              "unique": false,
              "description": "プラン期間検索用"
            },
            {
              "name": "idx_review_date",
              "columns": [
                "next_review_date"
              ],
              "unique": false,
              "description": "レビュー日検索用"
            },
            {
              "name": "idx_mentor_id",
              "columns": [
                "mentor_id"
              ],
              "unique": false,
              "description": "メンター検索用"
            },
            {
              "name": "idx_supervisor_id",
              "columns": [
                "supervisor_id"
              ],
              "unique": false,
              "description": "上司検索用"
            },
            {
              "name": "idx_priority_level",
              "columns": [
                "priority_level"
              ],
              "unique": false,
              "description": "優先度検索用"
            },
            {
              "name": "idx_mst_careerplan_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_career_plan_id",
              "type": "UNIQUE",
              "description": "キャリアプランID一意制約",
              "columns": [
                [
                  "career_plan_id"
                ]
              ]
            },
            {
              "name": "chk_plan_type",
              "type": "CHECK",
              "description": "プラン種別値チェック制約",
              "condition": "plan_type IN ('SHORT_TERM', 'MEDIUM_TERM', 'LONG_TERM', 'SPECIALIZED', 'MANAGEMENT', 'TECHNICAL')"
            },
            {
              "name": "chk_current_level",
              "type": "CHECK",
              "description": "現在レベル値チェック制約",
              "condition": "current_level IN ('ENTRY', 'JUNIOR', 'INTERMEDIATE', 'SENIOR', 'EXPERT', 'MANAGER', 'EXECUTIVE')"
            },
            {
              "name": "chk_target_level",
              "type": "CHECK",
              "description": "目標レベル値チェック制約",
              "condition": "target_level IN ('ENTRY', 'JUNIOR', 'INTERMEDIATE', 'SENIOR', 'EXPERT', 'MANAGER', 'EXECUTIVE')"
            },
            {
              "name": "chk_plan_status",
              "type": "CHECK",
              "description": "プラン状況値チェック制約",
              "condition": "plan_status IN ('DRAFT', 'ACTIVE', 'ON_HOLD', 'COMPLETED', 'CANCELLED', 'REVISED')"
            },
            {
              "name": "chk_review_frequency",
              "type": "CHECK",
              "description": "レビュー頻度値チェック制約",
              "condition": "review_frequency IN ('MONTHLY', 'QUARTERLY', 'SEMI_ANNUAL', 'ANNUAL')"
            },
            {
              "name": "chk_priority_level",
              "type": "CHECK",
              "description": "優先度値チェック制約",
              "condition": "priority_level IN ('LOW', 'NORMAL', 'HIGH', 'CRITICAL')"
            },
            {
              "name": "chk_visibility_level",
              "type": "CHECK",
              "description": "公開レベル値チェック制約",
              "condition": "visibility_level IN ('PRIVATE', 'MANAGER', 'DEPARTMENT', 'COMPANY')"
            },
            {
              "name": "chk_plan_period",
              "type": "CHECK",
              "description": "プラン期間整合性チェック制約",
              "condition": "plan_start_date <= plan_end_date"
            },
            {
              "name": "chk_progress_percentage",
              "type": "CHECK",
              "description": "進捗率範囲チェック制約",
              "condition": "progress_percentage >= 0.00 AND progress_percentage <= 100.00"
            },
            {
              "name": "chk_budget_positive",
              "type": "CHECK",
              "description": "割当予算非負数チェック制約",
              "condition": "budget_allocated IS NULL OR budget_allocated >= 0"
            },
            {
              "name": "chk_budget_used_positive",
              "type": "CHECK",
              "description": "使用予算非負数チェック制約",
              "condition": "budget_used >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_career_plan_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_career_plan_target_position",
              "columns": [
                "target_position_id"
              ],
              "references": {
                "table": "MST_Position",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_career_plan_target_job_type",
              "columns": [
                "target_job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_career_plan_target_department",
              "columns": [
                "target_department_id"
              ],
              "references": {
                "table": "MST_Department",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_career_plan_mentor",
              "columns": [
                "mentor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_career_plan_supervisor",
              "columns": [
                "supervisor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "career_plan_id": "CP_001",
              "employee_id": "EMP000001",
              "plan_name": "シニアエンジニアへの成長プラン",
              "plan_description": "3年以内にシニアエンジニアとして技術リーダーシップを発揮できる人材になる",
              "plan_type": "MEDIUM_TERM",
              "target_position_id": "POS_003",
              "target_job_type_id": "JOB_001",
              "target_department_id": null,
              "current_level": "INTERMEDIATE",
              "target_level": "SENIOR",
              "plan_start_date": "2024-04-01",
              "plan_end_date": "2027-03-31",
              "milestone_1_date": "2024-12-31",
              "milestone_1_description": "AWS認定資格取得、チームリーダー経験",
              "milestone_2_date": "2025-12-31",
              "milestone_2_description": "大規模プロジェクトのテックリード担当",
              "milestone_3_date": "2026-12-31",
              "milestone_3_description": "後輩指導、技術選定の主導",
              "required_skills": "[\"Java\", \"Spring Boot\", \"AWS\", \"Docker\", \"Kubernetes\", \"チームマネジメント\"]",
              "required_certifications": "[\"AWS認定ソリューションアーキテクト\", \"PMP\"]",
              "required_experiences": "[\"チームリーダー経験\", \"大規模システム設計\", \"後輩指導\"]",
              "development_actions": "[\"技術研修受講\", \"社外勉強会参加\", \"OSS貢献\", \"技術ブログ執筆\"]",
              "training_plan": "[\"AWS研修\", \"リーダーシップ研修\", \"アーキテクチャ設計研修\"]",
              "mentor_id": "EMP000010",
              "supervisor_id": "EMP000005",
              "plan_status": "ACTIVE",
              "progress_percentage": 25.5,
              "last_review_date": "2024-03-31",
              "next_review_date": "2024-06-30",
              "review_frequency": "QUARTERLY",
              "success_criteria": "技術力向上、チーム貢献、後輩育成実績",
              "risk_factors": "業務多忙による学習時間確保困難、技術変化への対応",
              "support_resources": "社内研修制度、書籍購入支援、外部セミナー参加費補助",
              "budget_allocated": 300000.0,
              "budget_used": 75000.0,
              "priority_level": "HIGH",
              "visibility_level": "MANAGER",
              "template_id": "TMPL_ENG_001",
              "custom_fields": "{\"specialization\": \"バックエンド\", \"preferred_domain\": \"金融系\"}",
              "notes": "本人の強い意欲と上司の全面的なサポートにより順調に進行中"
            },
            {
              "career_plan_id": "CP_002",
              "employee_id": "EMP000002",
              "plan_name": "プロジェクトマネージャーへの転身プラン",
              "plan_description": "技術者からプロジェクトマネージャーへのキャリアチェンジ",
              "plan_type": "MANAGEMENT",
              "target_position_id": "POS_004",
              "target_job_type_id": "JOB_002",
              "target_department_id": null,
              "current_level": "SENIOR",
              "target_level": "MANAGER",
              "plan_start_date": "2024-01-01",
              "plan_end_date": "2025-12-31",
              "milestone_1_date": "2024-06-30",
              "milestone_1_description": "PMP資格取得、小規模プロジェクト管理経験",
              "milestone_2_date": "2024-12-31",
              "milestone_2_description": "中規模プロジェクトのサブPM担当",
              "milestone_3_date": null,
              "milestone_3_description": null,
              "required_skills": "[\"プロジェクト管理\", \"リーダーシップ\", \"コミュニケーション\", \"リスク管理\"]",
              "required_certifications": "[\"PMP\", \"ITストラテジスト\"]",
              "required_experiences": "[\"プロジェクト管理\", \"チームマネジメント\", \"ステークホルダー調整\"]",
              "development_actions": "[\"PM研修受講\", \"PMI勉強会参加\", \"管理業務OJT\"]",
              "training_plan": "[\"プロジェクトマネジメント基礎\", \"リーダーシップ研修\", \"交渉術研修\"]",
              "mentor_id": "EMP000015",
              "supervisor_id": "EMP000008",
              "plan_status": "ACTIVE",
              "progress_percentage": 60.0,
              "last_review_date": "2024-04-30",
              "next_review_date": "2024-07-31",
              "review_frequency": "QUARTERLY",
              "success_criteria": "PMP取得、プロジェクト成功実績、チーム満足度向上",
              "risk_factors": "技術からマネジメントへの意識転換、人間関係構築",
              "support_resources": "PM研修制度、資格取得支援、メンター制度",
              "budget_allocated": 200000.0,
              "budget_used": 120000.0,
              "priority_level": "HIGH",
              "visibility_level": "DEPARTMENT",
              "template_id": "TMPL_MGR_001",
              "custom_fields": "{\"management_style\": \"コーチング重視\", \"team_size_target\": \"10-15名\"}",
              "notes": "技術的バックグラウンドを活かしたPMとして期待"
            }
          ],
          "notes": [
            "マイルストーンは最大3つまで設定可能",
            "JSON形式のフィールドは柔軟な拡張に対応",
            "予算管理により投資対効果を測定",
            "メンター制度との連携で効果的な指導を実現",
            "レビュー頻度により継続的な改善を促進",
            "公開レベルによりプライバシーと透明性を両立",
            "キャリアプランIDは一意である必要がある",
            "プラン開始日は終了日以前である必要がある",
            "進捗率は0-100%の範囲で設定",
            "使用予算は割当予算以下である必要がある",
            "目標レベルは現在レベル以上である必要がある",
            "レビュー日は定期的に更新される必要がある",
            "完了したプランは変更不可",
            "メンターと上司は異なる人物である必要がある"
          ],
          "rules": [
            "キャリアプランIDは一意である必要がある",
            "プラン開始日は終了日以前である必要がある",
            "進捗率は0-100%の範囲で設定",
            "使用予算は割当予算以下である必要がある",
            "目標レベルは現在レベル以上である必要がある",
            "レビュー日は定期的に更新される必要がある",
            "完了したプランは変更不可",
            "メンターと上司は異なる人物である必要がある"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_CareerPlan_目標・キャリアプラン.md"
        ]
      }
    },
    {
      "table_name": "MST_Certification",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Certification",
          "logical_name": "資格情報",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 資格情報マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "3.2.20250624",
              "date": "2025-06-24",
              "author": "主キー修正ツール",
              "changes": "certification_id カラム削除、id を正しい主キーに設定"
            },
            {
              "version": "4.0.20250624",
              "date": "2025-06-24",
              "author": "カラム順序統一ツール",
              "changes": "certification_id を主キーとして復活、指定されたカラム順序に統一"
            },
            {
              "version": "4.1.20250624",
              "date": "2025-06-24",
              "author": "制約修正ツール",
              "changes": "デフォルト値の型修正、制約処理の有効化"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223431",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_Certification（資格情報）は、各種資格・認定・免許の基本情報を管理するマスタテーブルです。\n\n主な目的：\n- IT資格、業務資格、国家資格等の統一管理\n- 資格の有効期限・更新要件の管理\n- 資格とスキルの関連付け\n- 資格取得推奨・必須要件の管理\n- 資格取得状況の追跡・分析基盤\n\nこのテーブルにより、社員の資格取得状況を体系的に管理し、\nキャリア開発や人材配置の判断材料として活用できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null,
              "primary_key": false
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "certification_code",
              "logical": "資格コード",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "資格を一意に識別するコード（例：CERT_AWS_SAA、CERT_PMP）",
              "validation": "^CERT_[A-Z0-9_]+$"
            },
            {
              "name": "certification_name",
              "logical": "資格名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "正式な資格名称"
            },
            {
              "name": "certification_category",
              "logical": "資格カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の分類（IT:IT関連、BUSINESS:ビジネス、NATIONAL:国家資格、LANGUAGE:語学、OTHER:その他）",
              "enum_values": [
                "IT",
                "BUSINESS",
                "NATIONAL",
                "LANGUAGE",
                "OTHER"
              ]
            },
            {
              "name": "certification_id",
              "logical": "資格ID",
              "type": "INTEGER",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "資格ID（主キー、AUTO_INCREMENT）",
              "default": null,
              "primary_key": true,
              "auto_increment": true
            },
            {
              "name": "certification_level",
              "logical": "資格レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の難易度レベル（BASIC:基礎、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "BASIC",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ]
            },
            {
              "name": "certification_name_en",
              "logical": "資格名（英語）",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "英語での資格名称"
            },
            {
              "name": "description",
              "logical": "説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の詳細説明・概要"
            },
            {
              "name": "exam_fee",
              "logical": "受験料",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "受験料（円）"
            },
            {
              "name": "exam_format",
              "logical": "試験形式",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "試験の実施形式（ONLINE:オンライン、OFFLINE:会場、BOTH:両方）",
              "enum_values": [
                "ONLINE",
                "OFFLINE",
                "BOTH"
              ]
            },
            {
              "name": "exam_language",
              "logical": "試験言語",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "試験で使用される言語"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格が有効かどうか",
              "default": true
            },
            {
              "name": "is_recommended",
              "logical": "推奨資格フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "会社として取得を推奨する資格かどうか",
              "default": false
            },
            {
              "name": "issuer",
              "logical": "発行機関",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格を発行する機関・団体名"
            },
            {
              "name": "issuer_country",
              "logical": "発行国",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格発行国（ISO 3166-1 alpha-2コード）"
            },
            {
              "name": "official_url",
              "logical": "公式URL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の公式サイトURL"
            },
            {
              "name": "renewal_required",
              "logical": "更新要否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "定期的な更新が必要かどうか",
              "default": false
            },
            {
              "name": "renewal_requirements",
              "logical": "更新要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格更新に必要な要件・条件"
            },
            {
              "name": "skill_category_id",
              "logical": "スキルカテゴリID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するスキルカテゴリのID"
            },
            {
              "name": "validity_period_months",
              "logical": "有効期間（月）",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の有効期間（月数、NULLの場合は無期限）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": false
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_certification_code",
              "columns": [
                "certification_code"
              ],
              "unique": true,
              "description": "資格コード検索用（一意）"
            },
            {
              "name": "idx_certification_name",
              "columns": [
                "certification_name"
              ],
              "unique": false,
              "description": "資格名検索用"
            },
            {
              "name": "idx_issuer",
              "columns": [
                "issuer"
              ],
              "unique": false,
              "description": "発行機関検索用"
            },
            {
              "name": "idx_category_level",
              "columns": [
                "certification_category",
                "certification_level"
              ],
              "unique": false,
              "description": "カテゴリ・レベル別検索用"
            },
            {
              "name": "idx_recommended",
              "columns": [
                "is_recommended",
                "is_active"
              ],
              "unique": false,
              "description": "推奨資格検索用"
            },
            {
              "name": "idx_skill_category",
              "columns": [
                "skill_category_id"
              ],
              "unique": false,
              "description": "スキルカテゴリ別検索用"
            },
            {
              "name": "idx_mst_certification_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_certification_code",
              "type": "UNIQUE",
              "description": "資格コード一意制約",
              "columns": [
                "certification_code"
              ]
            },
            {
              "name": "chk_certification_category",
              "type": "CHECK",
              "description": "資格カテゴリ値チェック制約",
              "condition": "certification_category IN ('IT', 'BUSINESS', 'NATIONAL', 'LANGUAGE', 'OTHER')"
            },
            {
              "name": "chk_certification_level",
              "type": "CHECK",
              "description": "資格レベル値チェック制約",
              "condition": "certification_level IN ('BASIC', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_exam_format",
              "type": "CHECK",
              "description": "試験形式値チェック制約",
              "condition": "exam_format IN ('ONLINE', 'OFFLINE', 'BOTH')"
            },
            {
              "name": "chk_validity_period",
              "type": "CHECK",
              "description": "有効期間正数チェック制約",
              "condition": "validity_period_months IS NULL OR validity_period_months > 0"
            },
            {
              "name": "chk_exam_fee",
              "type": "CHECK",
              "description": "受験料非負数チェック制約",
              "condition": "exam_fee IS NULL OR exam_fee >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_certification_skill_category",
              "columns": [
                "skill_category_id"
              ],
              "references": {
                "table": "MST_SkillCategory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "certification_code": "CERT_AWS_SAA",
              "certification_name": "AWS Certified Solutions Architect - Associate",
              "certification_name_en": "AWS Certified Solutions Architect - Associate",
              "issuer": "Amazon Web Services",
              "issuer_country": "US",
              "certification_category": "IT",
              "certification_level": "INTERMEDIATE",
              "validity_period_months": 36,
              "renewal_required": true,
              "renewal_requirements": "再認定試験の受験または上位資格の取得",
              "exam_fee": 15000,
              "exam_language": "日本語/英語",
              "exam_format": "ONLINE",
              "official_url": "https://aws.amazon.com/jp/certification/certified-solutions-architect-associate/",
              "description": "AWSクラウドでのソリューション設計・実装スキルを証明する資格",
              "skill_category_id": "SKILL_CAT_CLOUD",
              "is_recommended": true,
              "is_active": true
            },
            {
              "certification_code": "CERT_PMP",
              "certification_name": "Project Management Professional",
              "certification_name_en": "Project Management Professional",
              "issuer": "Project Management Institute",
              "issuer_country": "US",
              "certification_category": "BUSINESS",
              "certification_level": "ADVANCED",
              "validity_period_months": 36,
              "renewal_required": true,
              "renewal_requirements": "60 PDU（Professional Development Units）の取得",
              "exam_fee": 55500,
              "exam_language": "日本語/英語",
              "exam_format": "BOTH",
              "official_url": "https://www.pmi.org/certifications/project-management-pmp",
              "description": "プロジェクトマネジメントの国際的な資格",
              "skill_category_id": "SKILL_CAT_PM",
              "is_recommended": true,
              "is_active": true
            }
          ],
          "notes": [
            "資格コードは「CERT_」プレフィックス + 発行機関略称 + 資格略称で構成",
            "有効期間がNULLの場合は無期限有効",
            "更新要件は資格ごとに異なるため、テキスト形式で柔軟に記録",
            "受験料は円建てで統一（外貨の場合は取得時レートで換算）",
            "推奨資格は人事評価・昇進要件との連携で使用",
            "論理削除は is_active フラグで管理"
          ],
          "rules": [
            "資格コードは一意である必要がある",
            "推奨資格は定期的に見直しを行う",
            "有効期限のある資格は更新要件を必須記載",
            "受験料は税込み価格で記録",
            "公式URLは資格詳細情報の参照先として使用",
            "スキルカテゴリとの関連付けにより、関連スキル推薦機能で活用",
            "資格レベルは社内スキルグレードとの対応付けに使用"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Certification_資格情報.md"
        ]
      }
    },
    {
      "table_name": "MST_CertificationRequirement",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_CertificationRequirement",
          "logical_name": "資格要件マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 資格要件マスタの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_CertificationRequirement（資格要件マスタ）は、職種・役職・スキルレベルに応じた資格要件を管理するマスタテーブルです。\n\n主な目的：\n- 職種別必要資格の定義\n- 昇進・昇格要件の管理\n- スキルレベル認定基準の設定\n- 人材配置判定の支援\n- キャリア開発ガイドラインの提供\n\nこのテーブルにより、組織の人材要件を明確化し、\n適切な人材配置と計画的な人材育成を実現できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "active_flag",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "現在有効な要件かどうか",
              "default": true
            },
            {
              "name": "alternative_certifications",
              "logical": "代替資格",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "代替可能な資格のリスト（JSON形式）"
            },
            {
              "name": "approval_date",
              "logical": "承認日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件が承認された日付"
            },
            {
              "name": "approved_by",
              "logical": "承認者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件を承認した責任者ID"
            },
            {
              "name": "assessment_criteria",
              "logical": "評価基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件充足の評価基準・判定方法"
            },
            {
              "name": "average_study_hours",
              "logical": "平均学習時間",
              "type": "DECIMAL",
              "length": "6,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得に必要な平均学習時間"
            },
            {
              "name": "business_justification",
              "logical": "業務上の根拠",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格要件設定の業務上の根拠・理由"
            },
            {
              "name": "certification_id",
              "logical": "資格ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "必要な資格のID（MST_Certificationへの外部キー）"
            },
            {
              "name": "certificationrequirement_id",
              "logical": "MST_CertificationRequirementの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_CertificationRequirementの主キー",
              "default": null
            },
            {
              "name": "client_requirement",
              "logical": "顧客要件",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "顧客要求による要件かどうか",
              "default": false
            },
            {
              "name": "compliance_requirement",
              "logical": "コンプライアンス要件",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "法的・規制上の要件かどうか",
              "default": false
            },
            {
              "name": "cost_support_amount",
              "logical": "支援金額",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得費用の支援金額"
            },
            {
              "name": "cost_support_available",
              "logical": "費用支援有無",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得費用の支援があるかどうか",
              "default": false
            },
            {
              "name": "cost_support_conditions",
              "logical": "支援条件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "費用支援の条件・制約"
            },
            {
              "name": "created_by",
              "logical": "作成者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件を作成した担当者ID"
            },
            {
              "name": "difficulty_rating",
              "logical": "難易度評価",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社内での難易度評価（EASY:易、MEDIUM:中、HARD:難、VERY_HARD:非常に難）",
              "enum_values": [
                "EASY",
                "MEDIUM",
                "HARD",
                "VERY_HARD"
              ]
            },
            {
              "name": "effective_end_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の適用終了日"
            },
            {
              "name": "effective_start_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の適用開始日"
            },
            {
              "name": "escalation_timing",
              "logical": "エスカレーション期限",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "未充足時のエスカレーション期限（日数）"
            },
            {
              "name": "exemption_conditions",
              "logical": "免除条件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格要件の免除条件"
            },
            {
              "name": "grace_period_months",
              "logical": "猶予期間",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得までの猶予期間（月数）"
            },
            {
              "name": "internal_policy",
              "logical": "社内方針",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社内方針による要件かどうか",
              "default": false
            },
            {
              "name": "minimum_experience_years",
              "logical": "最低経験年数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得に加えて必要な実務経験年数"
            },
            {
              "name": "minimum_skill_level",
              "logical": "最低スキルレベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "併せて必要な最低スキルレベル（BEGINNER:初級、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "BEGINNER",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ]
            },
            {
              "name": "notes",
              "logical": "備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "その他の備考・補足情報"
            },
            {
              "name": "notification_timing",
              "logical": "通知タイミング",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件充足期限前の通知タイミング（日数）"
            },
            {
              "name": "priority_order",
              "logical": "優先順位",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "複数資格がある場合の優先順位（1が最高）",
              "default": 1
            },
            {
              "name": "recommended_training_programs",
              "logical": "推奨研修プログラム",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得に推奨される研修プログラム（JSON形式）"
            },
            {
              "name": "renewal_interval_months",
              "logical": "更新間隔",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格更新の間隔（月数）"
            },
            {
              "name": "renewal_required",
              "logical": "更新必要フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格の定期更新が必要かどうか",
              "default": false
            },
            {
              "name": "requirement_description",
              "logical": "要件説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格要件の詳細説明"
            },
            {
              "name": "requirement_id",
              "logical": "要件ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "資格要件を一意に識別するID"
            },
            {
              "name": "requirement_level",
              "logical": "要件レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の必要度（MANDATORY:必須、PREFERRED:推奨、OPTIONAL:任意、DISQUALIFYING:除外条件）",
              "enum_values": [
                "MANDATORY",
                "PREFERRED",
                "OPTIONAL",
                "DISQUALIFYING"
              ]
            },
            {
              "name": "requirement_name",
              "logical": "要件名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格要件の名称"
            },
            {
              "name": "requirement_type",
              "logical": "要件種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の種別（JOB_TYPE:職種要件、POSITION:役職要件、SKILL_GRADE:スキルグレード要件、PROJECT:プロジェクト要件、PROMOTION:昇進要件）",
              "enum_values": [
                "JOB_TYPE",
                "POSITION",
                "SKILL_GRADE",
                "PROJECT",
                "PROMOTION"
              ]
            },
            {
              "name": "review_date",
              "logical": "見直し日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回要件見直し予定日"
            },
            {
              "name": "study_time_allocation",
              "logical": "学習時間配分",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "業務時間内での学習時間配分（時間/週）"
            },
            {
              "name": "success_rate",
              "logical": "合格率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社内での資格取得成功率（%）"
            },
            {
              "name": "target_department_id",
              "logical": "対象部署ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件が適用される部署のID（MST_Departmentへの外部キー）"
            },
            {
              "name": "target_job_type_id",
              "logical": "対象職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件が適用される職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "target_position_id",
              "logical": "対象役職ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件が適用される役職のID（MST_Positionへの外部キー）"
            },
            {
              "name": "target_skill_grade_id",
              "logical": "対象スキルグレードID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件が適用されるスキルグレードのID（MST_SkillGradeへの外部キー）"
            },
            {
              "name": "training_support_available",
              "logical": "研修支援有無",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格取得のための研修支援があるかどうか",
              "default": false
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_requirement_id",
              "columns": [
                "requirement_id"
              ],
              "unique": true,
              "description": "要件ID検索用（一意）"
            },
            {
              "name": "idx_requirement_type",
              "columns": [
                "requirement_type"
              ],
              "unique": false,
              "description": "要件種別検索用"
            },
            {
              "name": "idx_target_job_type",
              "columns": [
                "target_job_type_id"
              ],
              "unique": false,
              "description": "対象職種検索用"
            },
            {
              "name": "idx_target_position",
              "columns": [
                "target_position_id"
              ],
              "unique": false,
              "description": "対象役職検索用"
            },
            {
              "name": "idx_target_skill_grade",
              "columns": [
                "target_skill_grade_id"
              ],
              "unique": false,
              "description": "対象スキルグレード検索用"
            },
            {
              "name": "idx_certification_id",
              "columns": [
                "certification_id"
              ],
              "unique": false,
              "description": "資格ID検索用"
            },
            {
              "name": "idx_requirement_level",
              "columns": [
                "requirement_level"
              ],
              "unique": false,
              "description": "要件レベル検索用"
            },
            {
              "name": "idx_active_flag",
              "columns": [
                "active_flag"
              ],
              "unique": false,
              "description": "有効フラグ検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_start_date",
                "effective_end_date"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_compliance_requirement",
              "columns": [
                "compliance_requirement"
              ],
              "unique": false,
              "description": "コンプライアンス要件検索用"
            },
            {
              "name": "idx_priority_order",
              "columns": [
                "priority_order"
              ],
              "unique": false,
              "description": "優先順位検索用"
            },
            {
              "name": "idx_mst_certificationrequirement_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_requirement_id",
              "type": "UNIQUE",
              "description": "要件ID一意制約",
              "columns": [
                [
                  "requirement_id"
                ]
              ]
            },
            {
              "name": "chk_requirement_type",
              "type": "CHECK",
              "description": "要件種別値チェック制約",
              "condition": "requirement_type IN ('JOB_TYPE', 'POSITION', 'SKILL_GRADE', 'PROJECT', 'PROMOTION')"
            },
            {
              "name": "chk_requirement_level",
              "type": "CHECK",
              "description": "要件レベル値チェック制約",
              "condition": "requirement_level IN ('MANDATORY', 'PREFERRED', 'OPTIONAL', 'DISQUALIFYING')"
            },
            {
              "name": "chk_minimum_skill_level",
              "type": "CHECK",
              "description": "最低スキルレベル値チェック制約",
              "condition": "minimum_skill_level IN ('BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_difficulty_rating",
              "type": "CHECK",
              "description": "難易度評価値チェック制約",
              "condition": "difficulty_rating IN ('EASY', 'MEDIUM', 'HARD', 'VERY_HARD')"
            },
            {
              "name": "chk_priority_order_positive",
              "type": "CHECK",
              "description": "優先順位正数チェック制約",
              "condition": "priority_order > 0"
            },
            {
              "name": "chk_experience_years_positive",
              "type": "CHECK",
              "description": "最低経験年数非負数チェック制約",
              "condition": "minimum_experience_years IS NULL OR minimum_experience_years >= 0"
            },
            {
              "name": "chk_grace_period_positive",
              "type": "CHECK",
              "description": "猶予期間正数チェック制約",
              "condition": "grace_period_months IS NULL OR grace_period_months > 0"
            },
            {
              "name": "chk_renewal_interval_positive",
              "type": "CHECK",
              "description": "更新間隔正数チェック制約",
              "condition": "renewal_interval_months IS NULL OR renewal_interval_months > 0"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_end_date IS NULL OR effective_start_date <= effective_end_date"
            },
            {
              "name": "chk_success_rate_range",
              "type": "CHECK",
              "description": "合格率範囲チェック制約",
              "condition": "success_rate IS NULL OR (success_rate >= 0 AND success_rate <= 100)"
            },
            {
              "name": "chk_cost_support_amount_positive",
              "type": "CHECK",
              "description": "支援金額非負数チェック制約",
              "condition": "cost_support_amount IS NULL OR cost_support_amount >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_cert_req_target_job_type",
              "columns": [
                "target_job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_target_position",
              "columns": [
                "target_position_id"
              ],
              "references": {
                "table": "MST_Position",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_target_skill_grade",
              "columns": [
                "target_skill_grade_id"
              ],
              "references": {
                "table": "MST_SkillGrade",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_target_department",
              "columns": [
                "target_department_id"
              ],
              "references": {
                "table": "MST_Department",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_certification",
              "columns": [
                "certification_id"
              ],
              "references": {
                "table": "MST_Certification",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_created_by",
              "columns": [
                "created_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_cert_req_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "requirement_id": "REQ_001",
              "requirement_name": "システムエンジニア必須資格要件",
              "requirement_description": "システムエンジニア職種における基本的な資格要件",
              "requirement_type": "JOB_TYPE",
              "target_job_type_id": "JOB_001",
              "target_position_id": null,
              "target_skill_grade_id": null,
              "target_department_id": null,
              "certification_id": "CERT_IPA_001",
              "requirement_level": "MANDATORY",
              "priority_order": 1,
              "alternative_certifications": "[\"基本情報技術者試験\", \"応用情報技術者試験\"]",
              "minimum_experience_years": 2,
              "minimum_skill_level": "INTERMEDIATE",
              "grace_period_months": 12,
              "renewal_required": false,
              "renewal_interval_months": null,
              "exemption_conditions": "同等の実務経験5年以上、または関連する上位資格保有",
              "assessment_criteria": "資格証明書の提出、実務経験の確認",
              "business_justification": "技術的基礎知識の担保、顧客への信頼性向上",
              "compliance_requirement": false,
              "client_requirement": true,
              "internal_policy": true,
              "effective_start_date": "2024-04-01",
              "effective_end_date": null,
              "notification_timing": 90,
              "escalation_timing": 30,
              "cost_support_available": true,
              "cost_support_amount": 50000.0,
              "cost_support_conditions": "初回受験のみ、合格時に全額支給",
              "training_support_available": true,
              "recommended_training_programs": "[\"TRN_PROG_003\", \"TRN_PROG_004\"]",
              "study_time_allocation": 2.0,
              "success_rate": 75.5,
              "average_study_hours": 150.0,
              "difficulty_rating": "MEDIUM",
              "active_flag": true,
              "created_by": "EMP000010",
              "approved_by": "EMP000005",
              "approval_date": "2024-03-15",
              "review_date": "2025-03-31",
              "notes": "新入社員は入社3年以内に取得必須"
            },
            {
              "requirement_id": "REQ_002",
              "requirement_name": "プロジェクトマネージャー昇進要件",
              "requirement_description": "プロジェクトマネージャー役職への昇進に必要な資格要件",
              "requirement_type": "PROMOTION",
              "target_job_type_id": null,
              "target_position_id": "POS_004",
              "target_skill_grade_id": null,
              "target_department_id": null,
              "certification_id": "CERT_PMP_001",
              "requirement_level": "MANDATORY",
              "priority_order": 1,
              "alternative_certifications": "[\"プロジェクトマネージャ試験\", \"P2M資格\"]",
              "minimum_experience_years": 5,
              "minimum_skill_level": "ADVANCED",
              "grace_period_months": 18,
              "renewal_required": true,
              "renewal_interval_months": 36,
              "exemption_conditions": "大規模プロジェクト成功実績3件以上",
              "assessment_criteria": "資格証明書、プロジェクト実績評価、360度評価",
              "business_justification": "プロジェクト管理能力の客観的証明、国際標準への準拠",
              "compliance_requirement": false,
              "client_requirement": true,
              "internal_policy": true,
              "effective_start_date": "2024-01-01",
              "effective_end_date": null,
              "notification_timing": 180,
              "escalation_timing": 60,
              "cost_support_available": true,
              "cost_support_amount": 100000.0,
              "cost_support_conditions": "受験料・研修費用全額支給、PDU維持費用も支援",
              "training_support_available": true,
              "recommended_training_programs": "[\"TRN_PROG_001\", \"TRN_PROG_005\"]",
              "study_time_allocation": 4.0,
              "success_rate": 65.0,
              "average_study_hours": 300.0,
              "difficulty_rating": "HARD",
              "active_flag": true,
              "created_by": "EMP000015",
              "approved_by": "EMP000008",
              "approval_date": "2023-12-01",
              "review_date": "2024-12-31",
              "notes": "PMO部門配属者は優先的に取得支援"
            }
          ],
          "notes": [
            "代替資格はJSON形式で柔軟に管理",
            "費用支援により資格取得を促進",
            "研修プログラムとの連携で効率的な学習を支援",
            "通知・エスカレーション機能で要件充足を管理",
            "成功率・学習時間データで要件設定を最適化",
            "コンプライアンス・顧客要件を明確に区別",
            "要件IDは一意である必要がある",
            "優先順位は正数である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "必須要件は猶予期間内に充足される必要がある",
            "更新必要な資格は更新間隔が設定される必要がある",
            "費用支援がある場合は支援条件が明記される必要がある",
            "コンプライアンス要件は除外・変更不可",
            "承認済み要件のみ適用可能"
          ],
          "rules": [
            "要件IDは一意である必要がある",
            "優先順位は正数である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "必須要件は猶予期間内に充足される必要がある",
            "更新必要な資格は更新間隔が設定される必要がある",
            "費用支援がある場合は支援条件が明記される必要がある",
            "コンプライアンス要件は除外・変更不可",
            "承認済み要件のみ適用可能"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_CertificationRequirement_資格要件マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_Department",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Department",
          "logical_name": "部署マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 部署マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_Department（部署マスタ）は、組織の部署・組織単位の階層構造と基本情報を管理するマスタテーブルです。\n\n主な目的：\n- 組織階層の構造管理（部署、課、チーム等の階層関係）\n- 部署基本情報の管理（部署名、部署コード、責任者等）\n- 組織変更履歴の管理（統廃合、新設、移管等）\n- 予算・コスト管理の組織単位設定\n- 権限・アクセス制御の組織単位設定\n- 人事異動・配置管理の基盤\n- 組織図・レポート作成の基礎データ\n\nこのテーブルは、人事管理、権限管理、予算管理、レポート作成など、\n組織運営の様々な業務プロセスの基盤となる重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "abolition_date",
              "logical": "廃止日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の廃止・統合日"
            },
            {
              "name": "budget_amount",
              "logical": "予算額",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "年間予算額（円）"
            },
            {
              "name": "cost_center_code",
              "logical": "コストセンターコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "予算管理用のコストセンターコード"
            },
            {
              "name": "department_code",
              "logical": "部署コード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "部署を一意に識別するコード（例：DEPT001）",
              "validation": "^DEPT[0-9]{3}$"
            },
            {
              "name": "department_id",
              "logical": "MST_Departmentの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_Departmentの主キー",
              "default": null
            },
            {
              "name": "department_level",
              "logical": "部署レベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織階層のレベル（1:本部、2:部、3:課、4:チーム等）"
            },
            {
              "name": "department_name",
              "logical": "部署名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の正式名称"
            },
            {
              "name": "department_name_short",
              "logical": "部署名略称",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の略称・短縮名"
            },
            {
              "name": "department_status",
              "logical": "部署状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の状態（ACTIVE:有効、INACTIVE:無効、MERGED:統合、ABOLISHED:廃止）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "MERGED",
                "ABOLISHED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "department_type",
              "logical": "部署種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の種別（HEADQUARTERS:本部、DIVISION:事業部、DEPARTMENT:部、SECTION:課、TEAM:チーム）",
              "enum_values": [
                "HEADQUARTERS",
                "DIVISION",
                "DEPARTMENT",
                "SECTION",
                "TEAM"
              ]
            },
            {
              "name": "deputy_manager_id",
              "logical": "副部署長ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "副部署長の社員ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "description",
              "logical": "部署説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の役割・業務内容の説明"
            },
            {
              "name": "email_address",
              "logical": "代表メールアドレス",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の代表メールアドレス"
            },
            {
              "name": "establishment_date",
              "logical": "設立日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の設立・新設日"
            },
            {
              "name": "location",
              "logical": "所在地",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の物理的な所在地・フロア等"
            },
            {
              "name": "manager_id",
              "logical": "部署長ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署長の社員ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "parent_department_id",
              "logical": "親部署ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上位部署のID（MST_Departmentへの自己参照外部キー）"
            },
            {
              "name": "phone_number",
              "logical": "代表電話番号",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署の代表電話番号"
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織図等での表示順序"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_department_code",
              "columns": [
                "department_code"
              ],
              "unique": true,
              "description": "部署コード検索用（一意）"
            },
            {
              "name": "idx_parent_department",
              "columns": [
                "parent_department_id"
              ],
              "unique": false,
              "description": "親部署別検索用"
            },
            {
              "name": "idx_department_level",
              "columns": [
                "department_level"
              ],
              "unique": false,
              "description": "部署レベル別検索用"
            },
            {
              "name": "idx_department_type",
              "columns": [
                "department_type"
              ],
              "unique": false,
              "description": "部署種別検索用"
            },
            {
              "name": "idx_manager",
              "columns": [
                "manager_id"
              ],
              "unique": false,
              "description": "部署長別検索用"
            },
            {
              "name": "idx_status",
              "columns": [
                "department_status"
              ],
              "unique": false,
              "description": "部署状態別検索用"
            },
            {
              "name": "idx_cost_center",
              "columns": [
                "cost_center_code"
              ],
              "unique": false,
              "description": "コストセンター別検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_department_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_department_code",
              "type": "UNIQUE",
              "description": "部署コード一意制約",
              "columns": [
                [
                  "department_code"
                ]
              ]
            },
            {
              "name": "chk_department_level",
              "type": "CHECK",
              "description": "部署レベル正値チェック制約",
              "condition": "department_level > 0"
            },
            {
              "name": "chk_department_type",
              "type": "CHECK",
              "description": "部署種別値チェック制約",
              "condition": "department_type IN ('HEADQUARTERS', 'DIVISION', 'DEPARTMENT', 'SECTION', 'TEAM')"
            },
            {
              "name": "chk_department_status",
              "type": "CHECK",
              "description": "部署状態値チェック制約",
              "condition": "department_status IN ('ACTIVE', 'INACTIVE', 'MERGED', 'ABOLISHED')"
            },
            {
              "name": "chk_budget_amount",
              "type": "CHECK",
              "description": "予算額非負値チェック制約",
              "condition": "budget_amount IS NULL OR budget_amount >= 0"
            },
            {
              "name": "chk_sort_order",
              "type": "CHECK",
              "description": "表示順序非負値チェック制約",
              "condition": "sort_order IS NULL OR sort_order >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_department_parent",
              "columns": [
                "parent_department_id"
              ],
              "references": {
                "table": "MST_Department",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_department_manager",
              "columns": [
                "manager_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_department_deputy",
              "columns": [
                "deputy_manager_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "department_code": "DEPT001",
              "department_name": "経営企画本部",
              "department_name_short": "経営企画",
              "parent_department_id": null,
              "department_level": 1,
              "department_type": "HEADQUARTERS",
              "manager_id": "EMP000001",
              "deputy_manager_id": null,
              "cost_center_code": "CC001",
              "budget_amount": 50000000.0,
              "location": "本社ビル 10F",
              "phone_number": "03-1234-5678",
              "email_address": "planning@company.com",
              "establishment_date": "2020-04-01",
              "abolition_date": null,
              "department_status": "ACTIVE",
              "sort_order": 1,
              "description": "会社全体の経営戦略立案・推進を担当"
            },
            {
              "department_code": "DEPT002",
              "department_name": "システム開発部",
              "department_name_short": "システム開発",
              "parent_department_id": "DEPT001",
              "department_level": 2,
              "department_type": "DEPARTMENT",
              "manager_id": "EMP000002",
              "deputy_manager_id": "EMP000003",
              "cost_center_code": "CC002",
              "budget_amount": 120000000.0,
              "location": "本社ビル 8F",
              "phone_number": "03-1234-5679",
              "email_address": "dev@company.com",
              "establishment_date": "2020-04-01",
              "abolition_date": null,
              "department_status": "ACTIVE",
              "sort_order": 2,
              "description": "社内システムの開発・保守・運用を担当"
            }
          ],
          "notes": [
            "組織階層は自己参照外部キーで表現",
            "部署レベルは階層の深さを表す（1が最上位）",
            "廃止された部署も履歴として保持（論理削除）",
            "コストセンターコードは予算管理システムと連携",
            "部署長・副部署長は必須ではない（空席の場合もある）",
            "表示順序は組織図作成時に使用",
            "部署コードは設立時に自動採番（DEPT + 3桁連番）",
            "親部署が廃止される場合は子部署の再配置が必要",
            "部署長は当該部署または上位部署の社員のみ設定可能",
            "廃止時は department_status を ABOLISHED に変更",
            "統合時は department_status を MERGED に変更",
            "予算額は年度初めに設定・更新",
            "組織変更は月初めに実施することを原則とする"
          ],
          "rules": [
            "部署コードは設立時に自動採番（DEPT + 3桁連番）",
            "親部署が廃止される場合は子部署の再配置が必要",
            "部署長は当該部署または上位部署の社員のみ設定可能",
            "廃止時は department_status を ABOLISHED に変更",
            "統合時は department_status を MERGED に変更",
            "予算額は年度初めに設定・更新",
            "組織変更は月初めに実施することを原則とする"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Department_部署マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_Employee",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Employee",
          "logical_name": "社員基本情報",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - MST_Employeeテーブルの詳細定義"
            },
            {
              "version": "1.1.0",
              "date": "2025-06-12",
              "author": "開発チーム",
              "changes": "カラム追加 - manager_id, job_type_idを追加"
            },
            {
              "version": "3.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "6.1.20250624_214209",
              "date": "2025-06-24",
              "author": "カラム順序修正ツール",
              "changes": "主キー（employee_id）を先頭に移動し、推奨カラム順序に修正"
            },
            {
              "version": "7.0.20250624_214254",
              "date": "2025-06-24",
              "author": "カラム順序最終修正ツール",
              "changes": "主キー（id）を先頭に移動し、推奨カラム順序に最終修正"
            },
            {
              "version": "10.0.20250624_214905",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222630",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            },
            {
              "version": "SPECIAL.20250624_223559",
              "date": "2025-06-24",
              "author": "特殊ケース修正ツール",
              "changes": "tenant_idカラム追加とカラム順序の最終調整"
            }
          ],
          "overview": "組織に所属する全社員の基本的な個人情報と組織情報を一元管理するマスタテーブル。\n\n主な目的：\n- 社員の基本情報（氏名、連絡先、入社日等）の管理\n- 組織構造（部署、役職、上司関係）の管理\n- 認証・権限管理のためのユーザー情報提供\n- 人事システムとの連携データ基盤\n\nこのテーブルは年間スキル報告書システムの中核となるマスタデータであり、\nスキル管理、目標管理、作業実績管理の全ての機能で参照される。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）"
            },
            {
              "name": "employee_code",
              "logical": "社員番号（例：EMP000001）",
              "type": "VARCHAR(30)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "社員番号（例：EMP000001）"
            },
            {
              "name": "full_name",
              "logical": "氏名（暗号化対象）",
              "type": "VARCHAR(100)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "氏名（暗号化対象）"
            },
            {
              "name": "full_name_kana",
              "logical": "氏名カナ（暗号化対象）",
              "type": "VARCHAR(100)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "氏名カナ（暗号化対象）"
            },
            {
              "name": "email",
              "logical": "メールアドレス（ログイン認証用）",
              "type": "VARCHAR(255)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "メールアドレス（ログイン認証用）"
            },
            {
              "name": "phone",
              "logical": "電話番号（暗号化対象）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "電話番号（暗号化対象）"
            },
            {
              "name": "birth_date",
              "logical": "生年月日（暗号化対象）",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "生年月日（暗号化対象）"
            },
            {
              "name": "gender",
              "logical": "性別（M:男性、F:女性、O:その他）",
              "type": "VARCHAR(1)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "性別（M:男性、F:女性、O:その他）"
            },
            {
              "name": "hire_date",
              "logical": "入社日",
              "type": "DATE",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "入社日"
            },
            {
              "name": "department_id",
              "logical": "所属部署ID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "所属部署ID"
            },
            {
              "name": "position_id",
              "logical": "役職ID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職ID"
            },
            {
              "name": "job_type_id",
              "logical": "職種ID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種ID"
            },
            {
              "name": "manager_id",
              "logical": "直属の上司ID（自己参照）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "直属の上司ID（自己参照）"
            },
            {
              "name": "employment_status",
              "logical": "雇用形態（FULL_TIME:正社員、PART_TIME:パート、CONTRACT:契約社員）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "雇用形態（FULL_TIME:正社員、PART_TIME:パート、CONTRACT:契約社員）",
              "default": "FULL_TIME"
            },
            {
              "name": "employee_status",
              "logical": "在籍状況（ACTIVE:在籍、RETIRED:退職、SUSPENDED:休職）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "在籍状況（ACTIVE:在籍、RETIRED:退職、SUSPENDED:休職）",
              "default": "ACTIVE"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": false
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_employee_code",
              "columns": [
                "employee_code"
              ],
              "unique": true,
              "description": "社員番号検索用（一意）"
            },
            {
              "name": "idx_email",
              "columns": [
                "email"
              ],
              "unique": true,
              "description": "メールアドレス検索用（一意）"
            },
            {
              "name": "idx_department",
              "columns": [
                "department_id"
              ],
              "unique": false,
              "description": "部署別検索用"
            },
            {
              "name": "idx_manager",
              "columns": [
                "manager_id"
              ],
              "unique": false,
              "description": "上司別検索用"
            },
            {
              "name": "idx_status",
              "columns": [
                "employee_status"
              ],
              "unique": false,
              "description": "在籍状況別検索用"
            },
            {
              "name": "idx_hire_date",
              "columns": [
                "hire_date"
              ],
              "unique": false,
              "description": "入社日検索用"
            }
          ],
          "constraints": [],
          "foreign_keys": [
            {
              "name": "fk_employee_department",
              "columns": [
                "department_id"
              ],
              "references": {
                "table": "MST_Department",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_employee_position",
              "columns": [
                "position_id"
              ],
              "references": {
                "table": "MST_Position",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_employee_job_type",
              "columns": [
                "job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_employee_manager",
              "columns": [
                "manager_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "emp_001",
              "employee_code": "EMP000001",
              "full_name": "山田太郎",
              "full_name_kana": "ヤマダタロウ",
              "email": "yamada.taro@example.com",
              "phone": "090-1234-5678",
              "hire_date": "2020-04-01",
              "birth_date": "1990-01-15",
              "gender": "M",
              "department_id": "dept_001",
              "position_id": "pos_003",
              "job_type_id": "job_001",
              "employment_status": "FULL_TIME",
              "manager_id": "emp_002",
              "employee_status": "ACTIVE",
              "is_deleted": false
            },
            {
              "id": "emp_002",
              "employee_code": "EMP000002",
              "full_name": "佐藤花子",
              "full_name_kana": "サトウハナコ",
              "email": "sato.hanako@example.com",
              "phone": "090-2345-6789",
              "hire_date": "2018-04-01",
              "birth_date": "1985-03-20",
              "gender": "F",
              "department_id": "dept_001",
              "position_id": "pos_002",
              "job_type_id": "job_001",
              "employment_status": "FULL_TIME",
              "manager_id": null,
              "employee_status": "ACTIVE",
              "is_deleted": false
            }
          ],
          "notes": [
            "個人情報（氏名、氏名カナ、電話番号、生年月日）は暗号化対象",
            "論理削除は is_deleted フラグで管理",
            "manager_idによる自己参照で組織階層を表現",
            "人事システムとの連携でマスタデータを同期",
            "認証・権限管理システムの基盤テーブル",
            "スキル管理・目標管理・作業実績管理の全機能で参照される",
            "社員番号（employee_code）は一意で変更不可",
            "メールアドレス（email）は認証用のため一意制約必須",
            "在籍状況（employee_status）がRETIREDの場合、論理削除フラグをtrueに設定",
            "直属の上司（manager_id）は同一部署内の上位役職者のみ設定可能",
            "雇用形態（employment_status）に応じた権限・機能制限を適用",
            "個人情報の暗号化は法的要件に基づく必須対応",
            "監査証跡として作成日時・更新日時は自動設定"
          ],
          "rules": [
            "社員番号（employee_code）は一意で変更不可",
            "メールアドレス（email）は認証用のため一意制約必須",
            "在籍状況（employee_status）がRETIREDの場合、論理削除フラグをtrueに設定",
            "直属の上司（manager_id）は同一部署内の上位役職者のみ設定可能",
            "雇用形態（employment_status）に応じた権限・機能制限を適用",
            "個人情報の暗号化は法的要件に基づく必須対応",
            "監査証跡として作成日時・更新日時は自動設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Employee_社員基本情報.md"
        ]
      }
    },
    {
      "table_name": "MST_EmployeeDepartment",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_EmployeeDepartment",
          "logical_name": "社員部署関連",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 社員部署関連テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214906",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215052",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_EmployeeDepartment（社員部署関連）は、社員と部署の関連付けを管理するマスタテーブルです。\n\n主な目的：\n- 社員の部署所属履歴の管理\n- 複数部署兼務の管理\n- 部署異動履歴の追跡\n- 組織変更時の影響範囲把握\n- 部署別人員配置の管理\n- 権限管理における部署ベースアクセス制御\n\nこのテーブルにより、社員の組織所属状況を詳細に管理し、\n人事異動や組織変更の履歴を正確に追跡できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "approval_status",
              "logical": "承認状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認状況（APPROVED:承認済、PENDING:承認待ち、REJECTED:却下）",
              "enum_values": [
                "APPROVED",
                "PENDING",
                "REJECTED"
              ],
              "default": "PENDING"
            },
            {
              "name": "approved_at",
              "logical": "承認日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属が承認された日時"
            },
            {
              "name": "approved_by",
              "logical": "承認者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属を承認した管理者のID"
            },
            {
              "name": "assignment_ratio",
              "logical": "配属比率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属比率（%）兼務時の工数配分用"
            },
            {
              "name": "assignment_reason",
              "logical": "配属理由",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属・異動の理由"
            },
            {
              "name": "assignment_status",
              "logical": "配属状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属状況（ACTIVE:有効、INACTIVE:無効、PENDING:保留）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "PENDING"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "assignment_type",
              "logical": "配属区分",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配属区分（PRIMARY:主配属、SECONDARY:兼務、TEMPORARY:一時配属）",
              "enum_values": [
                "PRIMARY",
                "SECONDARY",
                "TEMPORARY"
              ],
              "default": "PRIMARY"
            },
            {
              "name": "department_id",
              "logical": "部署ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署のID（MST_Departmentへの外部キー）"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "employeedepartment_id",
              "logical": "MST_EmployeeDepartmentの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_EmployeeDepartmentの主キー",
              "default": null
            },
            {
              "name": "end_date",
              "logical": "配属終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署からの配属終了日（NULL:現在も配属中）"
            },
            {
              "name": "reporting_manager_id",
              "logical": "報告先上司ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該部署での報告先上司ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "role_in_department",
              "logical": "部署内役割",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署内での役割・職責"
            },
            {
              "name": "start_date",
              "logical": "配属開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "部署への配属開始日"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_EmployeeDepartment_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_department_id",
              "columns": [
                "department_id"
              ],
              "unique": false,
              "description": "部署ID検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_employee_department",
              "columns": [
                "employee_id",
                "department_id"
              ],
              "unique": false,
              "description": "社員・部署複合検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_assignment_type",
              "columns": [
                "assignment_type"
              ],
              "unique": false,
              "description": "配属区分別検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_start_date",
              "columns": [
                "start_date"
              ],
              "unique": false,
              "description": "配属開始日検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_end_date",
              "columns": [
                "end_date"
              ],
              "unique": false,
              "description": "配属終了日検索用"
            },
            {
              "name": "idx_MST_EmployeeDepartment_status",
              "columns": [
                "assignment_status"
              ],
              "unique": false,
              "description": "配属状況別検索用"
            },
            {
              "name": "idx_mst_employeedepartment_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_EmployeeDepartment_employee_dept_primary",
              "type": "UNIQUE",
              "description": "社員・部署・配属区分・開始日一意制約",
              "columns": [
                [
                  "employee_id"
                ],
                [
                  "department_id"
                ],
                [
                  "assignment_type"
                ],
                [
                  "start_date"
                ]
              ]
            },
            {
              "name": "chk_MST_EmployeeDepartment_assignment_type",
              "type": "CHECK",
              "description": "配属区分値チェック制約",
              "condition": "assignment_type IN ('PRIMARY', 'SECONDARY', 'TEMPORARY')"
            },
            {
              "name": "chk_MST_EmployeeDepartment_assignment_status",
              "type": "CHECK",
              "description": "配属状況値チェック制約",
              "condition": "assignment_status IN ('ACTIVE', 'INACTIVE', 'PENDING')"
            },
            {
              "name": "chk_MST_EmployeeDepartment_approval_status",
              "type": "CHECK",
              "description": "承認状況値チェック制約",
              "condition": "approval_status IN ('APPROVED', 'PENDING', 'REJECTED')"
            },
            {
              "name": "chk_MST_EmployeeDepartment_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "end_date IS NULL OR start_date <= end_date"
            },
            {
              "name": "chk_MST_EmployeeDepartment_assignment_ratio",
              "type": "CHECK",
              "description": "配属比率範囲チェック制約",
              "condition": "assignment_ratio IS NULL OR (assignment_ratio >= 0 AND assignment_ratio <= 100)"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_EmployeeDepartment_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_EmployeeDepartment_department",
              "columns": [
                "department_id"
              ],
              "references": {
                "table": "MST_Department",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_EmployeeDepartment_reporting_manager",
              "columns": [
                "reporting_manager_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_EmployeeDepartment_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_id": "EMP000001",
              "department_id": "DEPT001",
              "assignment_type": "PRIMARY",
              "start_date": "2020-04-01",
              "end_date": null,
              "assignment_ratio": 100.0,
              "role_in_department": "チームリーダー",
              "reporting_manager_id": "EMP000010",
              "assignment_reason": "新卒入社時配属",
              "assignment_status": "ACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000010",
              "approved_at": "2020-03-25 10:00:00"
            },
            {
              "employee_id": "EMP000002",
              "department_id": "DEPT002",
              "assignment_type": "PRIMARY",
              "start_date": "2021-04-01",
              "end_date": null,
              "assignment_ratio": 80.0,
              "role_in_department": "開発担当",
              "reporting_manager_id": "EMP000011",
              "assignment_reason": "新卒入社時配属",
              "assignment_status": "ACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000011",
              "approved_at": "2021-03-25 10:00:00"
            },
            {
              "employee_id": "EMP000002",
              "department_id": "DEPT003",
              "assignment_type": "SECONDARY",
              "start_date": "2023-01-01",
              "end_date": null,
              "assignment_ratio": 20.0,
              "role_in_department": "プロジェクト支援",
              "reporting_manager_id": "EMP000012",
              "assignment_reason": "プロジェクト支援のため兼務",
              "assignment_status": "ACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000012",
              "approved_at": "2022-12-20 14:00:00"
            }
          ],
          "notes": [
            "社員は複数部署に同時所属可能（兼務対応）",
            "PRIMARY配属は社員につき1つのみ",
            "配属比率の合計は100%を超えないよう運用で管理",
            "部署異動時は前の配属のend_dateを設定し、新しい配属レコードを作成",
            "承認フローにより配属変更を管理",
            "論理削除は is_deleted フラグで管理",
            "履歴管理により組織変更の追跡が可能",
            "社員は必ず1つのPRIMARY配属を持つ必要がある",
            "SECONDARY配属（兼務）は複数設定可能",
            "TEMPORARY配属は期間限定の一時配属",
            "配属変更は承認者の承認が必要",
            "配属比率の合計は100%以下とする",
            "部署異動時は履歴として前の配属を残す",
            "報告先上司は配属先部署の社員である必要がある",
            "配属終了日は配属開始日以降である必要がある"
          ],
          "rules": [
            "社員は必ず1つのPRIMARY配属を持つ必要がある",
            "SECONDARY配属（兼務）は複数設定可能",
            "TEMPORARY配属は期間限定の一時配属",
            "配属変更は承認者の承認が必要",
            "配属比率の合計は100%以下とする",
            "部署異動時は履歴として前の配属を残す",
            "報告先上司は配属先部署の社員である必要がある",
            "配属終了日は配属開始日以降である必要がある"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_EmployeeDepartment_社員部署関連.md"
        ]
      }
    },
    {
      "table_name": "MST_EmployeeJobType",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_EmployeeJobType",
          "logical_name": "社員職種関連",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 社員職種関連マスタの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214906",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_EmployeeJobType（社員職種関連）は、社員と職種の関連付けを管理するマスタテーブルです。\n\n主な目的：\n- 社員の職種履歴管理\n- 複数職種対応（兼任・転職）\n- 職種変更の追跡\n- 人材配置の最適化\n- スキル要件との連携\n\nこのテーブルにより、社員の職種変遷を正確に管理し、\n適切な人材配置とキャリア開発を支援できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "achievements",
              "logical": "実績",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種での主要な実績・成果"
            },
            {
              "name": "approval_date",
              "logical": "承認日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連付けが承認された日付"
            },
            {
              "name": "approved_by",
              "logical": "承認者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連付けを承認した責任者ID"
            },
            {
              "name": "assignment_ratio",
              "logical": "配属比率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種への配属比率（%）",
              "default": 100.0
            },
            {
              "name": "assignment_reason",
              "logical": "配属理由",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種配属の理由（NEW_HIRE:新規採用、PROMOTION:昇進、TRANSFER:異動、SKILL_DEVELOPMENT:スキル開発、PROJECT_NEED:プロジェクト要請、REORGANIZATION:組織再編）",
              "enum_values": [
                "NEW_HIRE",
                "PROMOTION",
                "TRANSFER",
                "SKILL_DEVELOPMENT",
                "PROJECT_NEED",
                "REORGANIZATION"
              ]
            },
            {
              "name": "assignment_status",
              "logical": "配属状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "現在の配属状況（ACTIVE:有効、INACTIVE:無効、PENDING:保留中、SUSPENDED:一時停止）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "PENDING",
                "SUSPENDED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "assignment_type",
              "logical": "配属種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種への配属種別（PRIMARY:主職種、SECONDARY:副職種、TEMPORARY:一時的、TRAINING:研修中、CANDIDATE:候補）",
              "enum_values": [
                "PRIMARY",
                "SECONDARY",
                "TEMPORARY",
                "TRAINING",
                "CANDIDATE"
              ]
            },
            {
              "name": "billable_flag",
              "logical": "請求対象フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "顧客請求対象の職種かどうか",
              "default": true
            },
            {
              "name": "budget_allocation",
              "logical": "予算配分",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に配分された予算"
            },
            {
              "name": "career_path",
              "logical": "キャリアパス",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種でのキャリアパス・将来展望"
            },
            {
              "name": "certification_requirements",
              "logical": "必要資格",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に必要な資格一覧（JSON形式）"
            },
            {
              "name": "cost_center",
              "logical": "コストセンター",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に関連するコストセンター"
            },
            {
              "name": "created_by",
              "logical": "作成者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連付けを作成した担当者ID"
            },
            {
              "name": "development_plan",
              "logical": "育成計画",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種における育成計画（JSON形式）"
            },
            {
              "name": "effective_end_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種配属の終了日"
            },
            {
              "name": "effective_start_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種配属の開始日"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "対象社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "employee_job_type_id",
              "logical": "社員職種関連ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "社員職種関連を一意に識別するID"
            },
            {
              "name": "employeejobtype_id",
              "logical": "MST_EmployeeJobTypeの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_EmployeeJobTypeの主キー",
              "default": null
            },
            {
              "name": "evaluation_frequency",
              "logical": "評価頻度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価の実施頻度（MONTHLY:月次、QUARTERLY:四半期、SEMI_ANNUAL:半年、ANNUAL:年次）",
              "enum_values": [
                "MONTHLY",
                "QUARTERLY",
                "SEMI_ANNUAL",
                "ANNUAL"
              ],
              "default": "QUARTERLY"
            },
            {
              "name": "experience_requirements",
              "logical": "必要経験",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に必要な経験・実績（JSON形式）"
            },
            {
              "name": "goals",
              "logical": "目標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種での短期・中期目標"
            },
            {
              "name": "hourly_rate",
              "logical": "時間単価",
              "type": "DECIMAL",
              "length": "8,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種での時間単価"
            },
            {
              "name": "improvement_areas",
              "logical": "改善領域",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "改善が必要な領域・課題"
            },
            {
              "name": "job_type_id",
              "logical": "職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "last_evaluation_date",
              "logical": "最終評価日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後に評価を実施した日付"
            },
            {
              "name": "mentor_id",
              "logical": "メンターID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種指導担当者のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "next_evaluation_date",
              "logical": "次回評価日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回評価予定日"
            },
            {
              "name": "notes",
              "logical": "備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "その他の備考・特記事項"
            },
            {
              "name": "overtime_eligible",
              "logical": "残業対象フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "残業代支給対象かどうか",
              "default": true
            },
            {
              "name": "performance_rating",
              "logical": "パフォーマンス評価",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種でのパフォーマンス評価（EXCELLENT:優秀、GOOD:良好、SATISFACTORY:普通、NEEDS_IMPROVEMENT:要改善、UNSATISFACTORY:不満足）",
              "enum_values": [
                "EXCELLENT",
                "GOOD",
                "SATISFACTORY",
                "NEEDS_IMPROVEMENT",
                "UNSATISFACTORY"
              ]
            },
            {
              "name": "proficiency_level",
              "logical": "習熟度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種における習熟度（NOVICE:初心者、BEGINNER:初級、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "NOVICE",
                "BEGINNER",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ],
              "default": "NOVICE"
            },
            {
              "name": "remote_work_eligible",
              "logical": "リモートワーク可否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "リモートワーク可能な職種かどうか",
              "default": false
            },
            {
              "name": "security_clearance_required",
              "logical": "セキュリティクリアランス要否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "セキュリティクリアランスが必要かどうか",
              "default": false
            },
            {
              "name": "skill_requirements",
              "logical": "必要スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に必要なスキル一覧（JSON形式）"
            },
            {
              "name": "strengths",
              "logical": "強み",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種における強み・得意分野"
            },
            {
              "name": "supervisor_id",
              "logical": "上司ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種における直属上司のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "target_achievement_date",
              "logical": "目標達成日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標習熟度の達成予定日"
            },
            {
              "name": "target_proficiency_level",
              "logical": "目標習熟度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標とする習熟度（NOVICE:初心者、BEGINNER:初級、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "NOVICE",
                "BEGINNER",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ]
            },
            {
              "name": "training_plan",
              "logical": "研修計画",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "推奨研修プログラム（JSON形式）"
            },
            {
              "name": "travel_required",
              "logical": "出張要否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "出張が必要な職種かどうか",
              "default": false
            },
            {
              "name": "workload_percentage",
              "logical": "業務負荷率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "全業務に占める職種業務の割合（%）",
              "default": 100.0
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_employee_job_type_id",
              "columns": [
                "employee_job_type_id"
              ],
              "unique": true,
              "description": "社員職種関連ID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_job_type_id",
              "columns": [
                "job_type_id"
              ],
              "unique": false,
              "description": "職種ID検索用"
            },
            {
              "name": "idx_employee_job_type",
              "columns": [
                "employee_id",
                "job_type_id"
              ],
              "unique": false,
              "description": "社員・職種組み合わせ検索用"
            },
            {
              "name": "idx_assignment_type",
              "columns": [
                "assignment_type"
              ],
              "unique": false,
              "description": "配属種別検索用"
            },
            {
              "name": "idx_assignment_status",
              "columns": [
                "assignment_status"
              ],
              "unique": false,
              "description": "配属状況検索用"
            },
            {
              "name": "idx_proficiency_level",
              "columns": [
                "proficiency_level"
              ],
              "unique": false,
              "description": "習熟度検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_start_date",
                "effective_end_date"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_mentor_id",
              "columns": [
                "mentor_id"
              ],
              "unique": false,
              "description": "メンター検索用"
            },
            {
              "name": "idx_supervisor_id",
              "columns": [
                "supervisor_id"
              ],
              "unique": false,
              "description": "上司検索用"
            },
            {
              "name": "idx_performance_rating",
              "columns": [
                "performance_rating"
              ],
              "unique": false,
              "description": "パフォーマンス評価検索用"
            },
            {
              "name": "idx_mst_employeejobtype_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_employee_job_type_id",
              "type": "UNIQUE",
              "description": "社員職種関連ID一意制約",
              "columns": [
                [
                  "employee_job_type_id"
                ]
              ]
            },
            {
              "name": "chk_assignment_type",
              "type": "CHECK",
              "description": "配属種別値チェック制約",
              "condition": "assignment_type IN ('PRIMARY', 'SECONDARY', 'TEMPORARY', 'TRAINING', 'CANDIDATE')"
            },
            {
              "name": "chk_assignment_status",
              "type": "CHECK",
              "description": "配属状況値チェック制約",
              "condition": "assignment_status IN ('ACTIVE', 'INACTIVE', 'PENDING', 'SUSPENDED')"
            },
            {
              "name": "chk_proficiency_level",
              "type": "CHECK",
              "description": "習熟度値チェック制約",
              "condition": "proficiency_level IN ('NOVICE', 'BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_target_proficiency_level",
              "type": "CHECK",
              "description": "目標習熟度値チェック制約",
              "condition": "target_proficiency_level IN ('NOVICE', 'BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_assignment_reason",
              "type": "CHECK",
              "description": "配属理由値チェック制約",
              "condition": "assignment_reason IN ('NEW_HIRE', 'PROMOTION', 'TRANSFER', 'SKILL_DEVELOPMENT', 'PROJECT_NEED', 'REORGANIZATION')"
            },
            {
              "name": "chk_performance_rating",
              "type": "CHECK",
              "description": "パフォーマンス評価値チェック制約",
              "condition": "performance_rating IN ('EXCELLENT', 'GOOD', 'SATISFACTORY', 'NEEDS_IMPROVEMENT', 'UNSATISFACTORY')"
            },
            {
              "name": "chk_evaluation_frequency",
              "type": "CHECK",
              "description": "評価頻度値チェック制約",
              "condition": "evaluation_frequency IN ('MONTHLY', 'QUARTERLY', 'SEMI_ANNUAL', 'ANNUAL')"
            },
            {
              "name": "chk_assignment_ratio_range",
              "type": "CHECK",
              "description": "配属比率範囲チェック制約",
              "condition": "assignment_ratio >= 0 AND assignment_ratio <= 100"
            },
            {
              "name": "chk_workload_percentage_range",
              "type": "CHECK",
              "description": "業務負荷率範囲チェック制約",
              "condition": "workload_percentage >= 0 AND workload_percentage <= 100"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_end_date IS NULL OR effective_start_date <= effective_end_date"
            },
            {
              "name": "chk_budget_allocation_positive",
              "type": "CHECK",
              "description": "予算配分非負数チェック制約",
              "condition": "budget_allocation IS NULL OR budget_allocation >= 0"
            },
            {
              "name": "chk_hourly_rate_positive",
              "type": "CHECK",
              "description": "時間単価非負数チェック制約",
              "condition": "hourly_rate IS NULL OR hourly_rate >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_emp_job_type_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_emp_job_type_job_type",
              "columns": [
                "job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_emp_job_type_mentor",
              "columns": [
                "mentor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_emp_job_type_supervisor",
              "columns": [
                "supervisor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_emp_job_type_created_by",
              "columns": [
                "created_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_emp_job_type_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_job_type_id": "EJT_001",
              "employee_id": "EMP000001",
              "job_type_id": "JOB_001",
              "assignment_type": "PRIMARY",
              "assignment_ratio": 100.0,
              "effective_start_date": "2024-04-01",
              "effective_end_date": null,
              "assignment_reason": "NEW_HIRE",
              "assignment_status": "ACTIVE",
              "proficiency_level": "INTERMEDIATE",
              "target_proficiency_level": "ADVANCED",
              "target_achievement_date": "2025-03-31",
              "certification_requirements": "[\"基本情報技術者試験\", \"AWS認定\"]",
              "skill_requirements": "[\"Java\", \"Spring Boot\", \"AWS\", \"Docker\"]",
              "experience_requirements": "[\"Webアプリケーション開発\", \"チーム開発\"]",
              "development_plan": "{\"short_term\": \"AWS認定取得\", \"medium_term\": \"チームリーダー経験\", \"long_term\": \"アーキテクト昇格\"}",
              "training_plan": "[\"TRN_PROG_002\", \"TRN_PROG_006\"]",
              "mentor_id": "EMP000010",
              "supervisor_id": "EMP000005",
              "performance_rating": "GOOD",
              "last_evaluation_date": "2024-03-31",
              "next_evaluation_date": "2024-06-30",
              "evaluation_frequency": "QUARTERLY",
              "career_path": "シニアエンジニア → テックリード → アーキテクト",
              "strengths": "技術習得力、問題解決能力、チームワーク",
              "improvement_areas": "リーダーシップ、プレゼンテーション",
              "achievements": "新人研修システム開発、パフォーマンス改善20%達成",
              "goals": "AWS認定取得、チームリーダー経験積む",
              "workload_percentage": 100.0,
              "billable_flag": true,
              "cost_center": "DEV001",
              "budget_allocation": 5000000.0,
              "hourly_rate": 3500.0,
              "overtime_eligible": true,
              "remote_work_eligible": true,
              "travel_required": false,
              "security_clearance_required": false,
              "created_by": "EMP000005",
              "approved_by": "EMP000008",
              "approval_date": "2024-03-25",
              "notes": "新卒採用、高いポテンシャルを持つ"
            },
            {
              "employee_job_type_id": "EJT_002",
              "employee_id": "EMP000002",
              "job_type_id": "JOB_002",
              "assignment_type": "PRIMARY",
              "assignment_ratio": 80.0,
              "effective_start_date": "2024-01-01",
              "effective_end_date": null,
              "assignment_reason": "PROMOTION",
              "assignment_status": "ACTIVE",
              "proficiency_level": "ADVANCED",
              "target_proficiency_level": "EXPERT",
              "target_achievement_date": "2024-12-31",
              "certification_requirements": "[\"PMP\", \"ITストラテジスト\"]",
              "skill_requirements": "[\"プロジェクト管理\", \"リーダーシップ\", \"ステークホルダー管理\"]",
              "experience_requirements": "[\"大規模プロジェクト管理\", \"チームマネジメント\"]",
              "development_plan": "{\"short_term\": \"PMP取得\", \"medium_term\": \"大規模PM経験\", \"long_term\": \"PMO責任者\"}",
              "training_plan": "[\"TRN_PROG_001\", \"TRN_PROG_007\"]",
              "mentor_id": "EMP000015",
              "supervisor_id": "EMP000008",
              "performance_rating": "EXCELLENT",
              "last_evaluation_date": "2024-04-30",
              "next_evaluation_date": "2024-07-31",
              "evaluation_frequency": "QUARTERLY",
              "career_path": "プロジェクトマネージャー → シニアPM → PMO責任者",
              "strengths": "プロジェクト管理、コミュニケーション、問題解決",
              "improvement_areas": "戦略立案、予算管理",
              "achievements": "3つの大規模プロジェクト成功、チーム満足度向上",
              "goals": "PMP取得、PMO体制構築",
              "workload_percentage": 80.0,
              "billable_flag": true,
              "cost_center": "PMO001",
              "budget_allocation": 8000000.0,
              "hourly_rate": 5000.0,
              "overtime_eligible": false,
              "remote_work_eligible": true,
              "travel_required": true,
              "security_clearance_required": false,
              "created_by": "EMP000008",
              "approved_by": "EMP000001",
              "approval_date": "2023-12-15",
              "notes": "技術者からPMへの転身成功例"
            }
          ],
          "notes": [
            "複数職種の兼任に対応（配属比率で管理）",
            "職種変更履歴を時系列で追跡可能",
            "習熟度と目標設定で成長を管理",
            "メンター制度との連携で効果的な指導",
            "パフォーマンス評価で適性を判定",
            "コスト管理・請求管理との連携",
            "社員職種関連IDは一意である必要がある",
            "配属比率の合計は100%以下である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "主職種（PRIMARY）は1つのみ設定可能",
            "目標習熟度は現在の習熟度以上である必要がある",
            "評価日は定期的に更新される必要がある",
            "承認済み関連付けのみ有効",
            "メンターと上司は異なる人物である必要がある"
          ],
          "rules": [
            "社員職種関連IDは一意である必要がある",
            "配属比率の合計は100%以下である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "主職種（PRIMARY）は1つのみ設定可能",
            "目標習熟度は現在の習熟度以上である必要がある",
            "評価日は定期的に更新される必要がある",
            "承認済み関連付けのみ有効",
            "メンターと上司は異なる人物である必要がある"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_EmployeeJobType_社員職種関連.md"
        ]
      }
    },
    {
      "table_name": "MST_EmployeePosition",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_EmployeePosition",
          "logical_name": "社員役職関連",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 社員役職関連テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214906",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_EmployeePosition（社員役職関連）は、社員と役職の関連付けを管理するマスタテーブルです。\n\n主な目的：\n- 社員の役職任命履歴の管理\n- 複数役職兼任の管理\n- 昇進・降格履歴の追跡\n- 役職変更時の影響範囲把握\n- 役職別権限管理\n- 組織階層における権限委譲の管理\n\nこのテーブルにより、社員の役職変遷を詳細に管理し、\n人事評価や昇進管理の履歴を正確に追跡できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "appointment_reason",
              "logical": "任命理由",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "任命・昇進・降格の理由"
            },
            {
              "name": "appointment_status",
              "logical": "任命状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "任命状況（ACTIVE:有効、INACTIVE:無効、SUSPENDED:停止）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "SUSPENDED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "appointment_type",
              "logical": "任命区分",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "任命区分（PRIMARY:主役職、ACTING:代理、CONCURRENT:兼任）",
              "enum_values": [
                "PRIMARY",
                "ACTING",
                "CONCURRENT"
              ],
              "default": "PRIMARY"
            },
            {
              "name": "approval_status",
              "logical": "承認状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認状況（APPROVED:承認済、PENDING:承認待ち、REJECTED:却下）",
              "enum_values": [
                "APPROVED",
                "PENDING",
                "REJECTED"
              ],
              "default": "PENDING"
            },
            {
              "name": "approved_at",
              "logical": "承認日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "任命が承認された日時"
            },
            {
              "name": "approved_by",
              "logical": "承認者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "任命を承認した管理者のID"
            },
            {
              "name": "authority_level",
              "logical": "権限レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限レベル（1-10、数値が大きいほど高権限）"
            },
            {
              "name": "delegation_authority",
              "logical": "委譲権限",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "委譲された権限の詳細（JSON形式）"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "employeeposition_id",
              "logical": "MST_EmployeePositionの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_EmployeePositionの主キー",
              "default": null
            },
            {
              "name": "end_date",
              "logical": "任命終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職からの任命終了日（NULL:現在も任命中）"
            },
            {
              "name": "performance_target",
              "logical": "成果目標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該役職での成果目標・KPI"
            },
            {
              "name": "position_id",
              "logical": "役職ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職のID（MST_Positionへの外部キー）"
            },
            {
              "name": "responsibility_scope",
              "logical": "責任範囲",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該役職での責任範囲・職務内容"
            },
            {
              "name": "salary_grade",
              "logical": "給与等級",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職に対応する給与等級"
            },
            {
              "name": "start_date",
              "logical": "任命開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職への任命開始日"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_EmployeePosition_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_position_id",
              "columns": [
                "position_id"
              ],
              "unique": false,
              "description": "役職ID検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_employee_position",
              "columns": [
                "employee_id",
                "position_id"
              ],
              "unique": false,
              "description": "社員・役職複合検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_appointment_type",
              "columns": [
                "appointment_type"
              ],
              "unique": false,
              "description": "任命区分別検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_start_date",
              "columns": [
                "start_date"
              ],
              "unique": false,
              "description": "任命開始日検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_end_date",
              "columns": [
                "end_date"
              ],
              "unique": false,
              "description": "任命終了日検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_status",
              "columns": [
                "appointment_status"
              ],
              "unique": false,
              "description": "任命状況別検索用"
            },
            {
              "name": "idx_MST_EmployeePosition_authority_level",
              "columns": [
                "authority_level"
              ],
              "unique": false,
              "description": "権限レベル別検索用"
            },
            {
              "name": "idx_mst_employeeposition_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_EmployeePosition_employee_pos_primary",
              "type": "UNIQUE",
              "description": "社員・役職・任命区分・開始日一意制約",
              "columns": [
                [
                  "employee_id"
                ],
                [
                  "position_id"
                ],
                [
                  "appointment_type"
                ],
                [
                  "start_date"
                ]
              ]
            },
            {
              "name": "chk_MST_EmployeePosition_appointment_type",
              "type": "CHECK",
              "description": "任命区分値チェック制約",
              "condition": "appointment_type IN ('PRIMARY', 'ACTING', 'CONCURRENT')"
            },
            {
              "name": "chk_MST_EmployeePosition_appointment_status",
              "type": "CHECK",
              "description": "任命状況値チェック制約",
              "condition": "appointment_status IN ('ACTIVE', 'INACTIVE', 'SUSPENDED')"
            },
            {
              "name": "chk_MST_EmployeePosition_approval_status",
              "type": "CHECK",
              "description": "承認状況値チェック制約",
              "condition": "approval_status IN ('APPROVED', 'PENDING', 'REJECTED')"
            },
            {
              "name": "chk_MST_EmployeePosition_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "end_date IS NULL OR start_date <= end_date"
            },
            {
              "name": "chk_MST_EmployeePosition_authority_level",
              "type": "CHECK",
              "description": "権限レベル範囲チェック制約",
              "condition": "authority_level IS NULL OR (authority_level >= 1 AND authority_level <= 10)"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_EmployeePosition_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_EmployeePosition_position",
              "columns": [
                "position_id"
              ],
              "references": {
                "table": "MST_Position",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_EmployeePosition_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_id": "EMP000001",
              "position_id": "POS001",
              "appointment_type": "PRIMARY",
              "start_date": "2020-04-01",
              "end_date": null,
              "appointment_reason": "新卒入社時任命",
              "responsibility_scope": "チーム運営、メンバー指導、プロジェクト管理",
              "authority_level": 5,
              "salary_grade": "G5",
              "appointment_status": "ACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000010",
              "approved_at": "2020-03-25 10:00:00",
              "performance_target": "チーム生産性20%向上、メンバー育成2名",
              "delegation_authority": "{\"budget_approval\": 1000000, \"hiring_authority\": true, \"performance_evaluation\": true}"
            },
            {
              "employee_id": "EMP000002",
              "position_id": "POS002",
              "appointment_type": "PRIMARY",
              "start_date": "2021-04-01",
              "end_date": "2023-03-31",
              "appointment_reason": "新卒入社時任命",
              "responsibility_scope": "システム開発、技術調査",
              "authority_level": 3,
              "salary_grade": "G3",
              "appointment_status": "INACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000011",
              "approved_at": "2021-03-25 10:00:00",
              "performance_target": "開発効率向上、技術スキル習得",
              "delegation_authority": "{\"code_review\": true, \"technical_decision\": false}"
            },
            {
              "employee_id": "EMP000002",
              "position_id": "POS003",
              "appointment_type": "PRIMARY",
              "start_date": "2023-04-01",
              "end_date": null,
              "appointment_reason": "昇進による任命",
              "responsibility_scope": "シニア開発者、技術指導、アーキテクチャ設計",
              "authority_level": 4,
              "salary_grade": "G4",
              "appointment_status": "ACTIVE",
              "approval_status": "APPROVED",
              "approved_by": "EMP000011",
              "approved_at": "2023-03-20 14:00:00",
              "performance_target": "技術品質向上、後輩指導3名",
              "delegation_authority": "{\"technical_decision\": true, \"architecture_review\": true}"
            }
          ],
          "notes": [
            "社員は複数役職を同時に持つことが可能（兼任対応）",
            "PRIMARY任命は社員につき1つのみ",
            "ACTING（代理）は一時的な役職代行",
            "CONCURRENT（兼任）は複数役職の同時保持",
            "役職変更時は履歴として前の任命を残す",
            "承認フローにより役職変更を管理",
            "権限レベルにより システム内権限を制御",
            "論理削除は is_deleted フラグで管理",
            "社員は必ず1つのPRIMARY役職を持つ必要がある",
            "ACTING任命は期間限定の代理職務",
            "CONCURRENT任命は複数役職の兼任",
            "役職変更は承認者の承認が必要",
            "権限レベルは役職に応じて適切に設定",
            "昇進時は履歴として前の任命を残す",
            "給与等級は役職と連動して管理",
            "任命終了日は任命開始日以降である必要がある",
            "委譲権限はJSON形式で詳細な権限設定を管理"
          ],
          "rules": [
            "社員は必ず1つのPRIMARY役職を持つ必要がある",
            "ACTING任命は期間限定の代理職務",
            "CONCURRENT任命は複数役職の兼任",
            "役職変更は承認者の承認が必要",
            "権限レベルは役職に応じて適切に設定",
            "昇進時は履歴として前の任命を残す",
            "給与等級は役職と連動して管理",
            "任命終了日は任命開始日以降である必要がある",
            "委譲権限はJSON形式で詳細な権限設定を管理"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_EmployeePosition_社員役職関連.md"
        ]
      }
    },
    {
      "table_name": "MST_JobType",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_JobType",
          "logical_name": "職種マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 職種マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214906",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_JobType（職種マスタ）は、組織内の職種分類と各職種の基本情報を管理するマスタテーブルです。\n\n主な目的：\n- 職種の体系的な分類・管理\n- 職種別スキル要件の定義基盤\n- 人材配置・採用計画の基準\n- キャリアパス・昇進要件の管理\n- 職種別評価基準の設定\n\nこのテーブルにより、社員のキャリア開発や適材適所の人材配置、\n職種別スキル要件の管理を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "career_path",
              "logical": "キャリアパス",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種からの一般的なキャリアパス・昇進ルート"
            },
            {
              "name": "department_affinity",
              "logical": "部署親和性",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種が配属されやすい部署（JSON形式で複数格納）"
            },
            {
              "name": "description",
              "logical": "職種説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の詳細説明・役割・責任範囲"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種が有効かどうか",
              "default": true
            },
            {
              "name": "job_category",
              "logical": "職種カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の大分類（ENGINEERING:エンジニアリング、MANAGEMENT:マネジメント、SALES:営業、SUPPORT:サポート、OTHER:その他）",
              "enum_values": [
                "ENGINEERING",
                "MANAGEMENT",
                "SALES",
                "SUPPORT",
                "OTHER"
              ]
            },
            {
              "name": "job_level",
              "logical": "職種レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の階層レベル（JUNIOR:ジュニア、SENIOR:シニア、LEAD:リード、MANAGER:マネージャー、DIRECTOR:ディレクター）",
              "enum_values": [
                "JUNIOR",
                "SENIOR",
                "LEAD",
                "MANAGER",
                "DIRECTOR"
              ]
            },
            {
              "name": "job_type_code",
              "logical": "職種コード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "職種を一意に識別するコード（例：SE、PM、QA、BA）",
              "validation": "^[A-Z0-9_]+$"
            },
            {
              "name": "job_type_name",
              "logical": "職種名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の正式名称"
            },
            {
              "name": "job_type_name_en",
              "logical": "職種名（英語）",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "英語での職種名称"
            },
            {
              "name": "jobtype_id",
              "logical": "MST_JobTypeの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_JobTypeの主キー",
              "default": null
            },
            {
              "name": "remote_work_eligible",
              "logical": "リモートワーク可否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "リモートワークが可能な職種かどうか",
              "default": false
            },
            {
              "name": "required_certifications",
              "logical": "必要資格",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に必要または推奨される資格（JSON形式で複数格納）"
            },
            {
              "name": "required_experience_years",
              "logical": "必要経験年数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に就くために必要な経験年数（目安）"
            },
            {
              "name": "required_skills",
              "logical": "必要スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種に必要なスキル（JSON形式で複数格納）"
            },
            {
              "name": "salary_grade_max",
              "logical": "給与グレード上限",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の給与グレード上限値"
            },
            {
              "name": "salary_grade_min",
              "logical": "給与グレード下限",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種の給与グレード下限値"
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種一覧での表示順序",
              "default": 0
            },
            {
              "name": "travel_frequency",
              "logical": "出張頻度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "出張の頻度（NONE:なし、LOW:低、MEDIUM:中、HIGH:高）",
              "enum_values": [
                "NONE",
                "LOW",
                "MEDIUM",
                "HIGH"
              ]
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_job_type_code",
              "columns": [
                "job_type_code"
              ],
              "unique": true,
              "description": "職種コード検索用（一意）"
            },
            {
              "name": "idx_job_type_name",
              "columns": [
                "job_type_name"
              ],
              "unique": false,
              "description": "職種名検索用"
            },
            {
              "name": "idx_job_category",
              "columns": [
                "job_category"
              ],
              "unique": false,
              "description": "職種カテゴリ検索用"
            },
            {
              "name": "idx_job_level",
              "columns": [
                "job_level"
              ],
              "unique": false,
              "description": "職種レベル検索用"
            },
            {
              "name": "idx_category_level",
              "columns": [
                "job_category",
                "job_level"
              ],
              "unique": false,
              "description": "カテゴリ・レベル複合検索用"
            },
            {
              "name": "idx_remote_eligible",
              "columns": [
                "remote_work_eligible",
                "is_active"
              ],
              "unique": false,
              "description": "リモートワーク可能職種検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_jobtype_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_job_type_code",
              "type": "UNIQUE",
              "description": "職種コード一意制約",
              "columns": [
                [
                  "job_type_code"
                ]
              ]
            },
            {
              "name": "chk_job_category",
              "type": "CHECK",
              "description": "職種カテゴリ値チェック制約",
              "condition": "job_category IN ('ENGINEERING', 'MANAGEMENT', 'SALES', 'SUPPORT', 'OTHER')"
            },
            {
              "name": "chk_job_level",
              "type": "CHECK",
              "description": "職種レベル値チェック制約",
              "condition": "job_level IN ('JUNIOR', 'SENIOR', 'LEAD', 'MANAGER', 'DIRECTOR')"
            },
            {
              "name": "chk_travel_frequency",
              "type": "CHECK",
              "description": "出張頻度値チェック制約",
              "condition": "travel_frequency IN ('NONE', 'LOW', 'MEDIUM', 'HIGH')"
            },
            {
              "name": "chk_experience_years",
              "type": "CHECK",
              "description": "必要経験年数非負数チェック制約",
              "condition": "required_experience_years IS NULL OR required_experience_years >= 0"
            },
            {
              "name": "chk_salary_grade",
              "type": "CHECK",
              "description": "給与グレード範囲チェック制約",
              "condition": "salary_grade_min IS NULL OR salary_grade_max IS NULL OR salary_grade_min <= salary_grade_max"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "job_type_code": "SE",
              "job_type_name": "システムエンジニア",
              "job_type_name_en": "Systems Engineer",
              "job_category": "ENGINEERING",
              "job_level": "SENIOR",
              "description": "システムの設計・開発・テストを担当するエンジニア",
              "required_experience_years": 3,
              "salary_grade_min": 3,
              "salary_grade_max": 6,
              "career_path": "SE → シニアSE → テックリード → エンジニアリングマネージャー",
              "required_certifications": "[\"基本情報技術者\", \"応用情報技術者\"]",
              "required_skills": "[\"Java\", \"SQL\", \"システム設計\", \"要件定義\"]",
              "department_affinity": "[\"開発部\", \"システム部\"]",
              "remote_work_eligible": true,
              "travel_frequency": "LOW",
              "sort_order": 1,
              "is_active": true
            },
            {
              "job_type_code": "PM",
              "job_type_name": "プロジェクトマネージャー",
              "job_type_name_en": "Project Manager",
              "job_category": "MANAGEMENT",
              "job_level": "MANAGER",
              "description": "プロジェクトの計画・実行・管理を統括する責任者",
              "required_experience_years": 5,
              "salary_grade_min": 5,
              "salary_grade_max": 8,
              "career_path": "SE → リーダー → PM → 部門マネージャー",
              "required_certifications": "[\"PMP\", \"プロジェクトマネージャ試験\"]",
              "required_skills": "[\"プロジェクト管理\", \"リーダーシップ\", \"コミュニケーション\", \"リスク管理\"]",
              "department_affinity": "[\"開発部\", \"PMO\"]",
              "remote_work_eligible": true,
              "travel_frequency": "MEDIUM",
              "sort_order": 2,
              "is_active": true
            },
            {
              "job_type_code": "QA",
              "job_type_name": "品質保証エンジニア",
              "job_type_name_en": "Quality Assurance Engineer",
              "job_category": "ENGINEERING",
              "job_level": "SENIOR",
              "description": "ソフトウェアの品質保証・テスト設計・実行を担当",
              "required_experience_years": 2,
              "salary_grade_min": 3,
              "salary_grade_max": 6,
              "career_path": "QA → シニアQA → QAリード → QAマネージャー",
              "required_certifications": "[\"JSTQB\", \"ソフトウェア品質技術者資格\"]",
              "required_skills": "[\"テスト設計\", \"自動化テスト\", \"品質管理\", \"バグ分析\"]",
              "department_affinity": "[\"品質保証部\", \"開発部\"]",
              "remote_work_eligible": true,
              "travel_frequency": "NONE",
              "sort_order": 3,
              "is_active": true
            }
          ],
          "notes": [
            "職種コードは組織内で一意である必要がある",
            "必要資格・スキル・部署親和性はJSON形式で柔軟に管理",
            "給与グレードは人事制度との連携で使用",
            "キャリアパスは社員のキャリア開発指針として活用",
            "リモートワーク可否は働き方改革・採用要件で参照",
            "論理削除は is_active フラグで管理",
            "職種コードは英数字・アンダースコアのみ使用可能",
            "職種レベルは組織の階層構造と整合性を保つ",
            "給与グレードは下限 ≤ 上限の関係を維持",
            "必要経験年数は職種レベルと整合性を保つ",
            "リモートワーク可否は業務特性を考慮して設定",
            "出張頻度は職種の業務内容に応じて適切に設定",
            "表示順序は職種の重要度・階層に応じて設定"
          ],
          "rules": [
            "職種コードは英数字・アンダースコアのみ使用可能",
            "職種レベルは組織の階層構造と整合性を保つ",
            "給与グレードは下限 ≤ 上限の関係を維持",
            "必要経験年数は職種レベルと整合性を保つ",
            "リモートワーク可否は業務特性を考慮して設定",
            "出張頻度は職種の業務内容に応じて適切に設定",
            "表示順序は職種の重要度・階層に応じて設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_JobType_職種マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_JobTypeSkill",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_JobTypeSkill",
          "logical_name": "職種スキル関連",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 職種スキル関連テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214906",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_JobTypeSkill（職種スキル関連）は、職種と必要スキルの関連付けを管理するマスタテーブルです。\n\n主な目的：\n- 職種ごとの必要スキルの定義\n- スキル要求レベルの管理\n- 職種別スキル要件の標準化\n- 人材配置時のスキルマッチング\n- 教育計画立案の基礎データ\n- 採用要件定義の支援\n\nこのテーブルにより、各職種に求められるスキルセットを明確に定義し、\n人材育成や配置転換の判断基準として活用できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "alternative_skills",
              "logical": "代替スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "代替可能なスキルのリスト（JSON形式）"
            },
            {
              "name": "certification_required",
              "logical": "資格必須",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連資格の取得が必須かどうか",
              "default": false
            },
            {
              "name": "effective_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル要件の有効開始日"
            },
            {
              "name": "evaluation_criteria",
              "logical": "評価基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルレベルの評価基準・判定方法"
            },
            {
              "name": "experience_years",
              "logical": "必要経験年数",
              "type": "DECIMAL",
              "length": "4,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該スキルの必要経験年数"
            },
            {
              "name": "expiry_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル要件の有効終了日（NULL:無期限）"
            },
            {
              "name": "job_type_id",
              "logical": "職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "jobtypeskill_id",
              "logical": "MST_JobTypeSkillの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_JobTypeSkillの主キー",
              "default": null
            },
            {
              "name": "learning_path",
              "logical": "学習パス",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル習得のための推奨学習パス"
            },
            {
              "name": "prerequisite_skills",
              "logical": "前提スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "前提となるスキルのリスト（JSON形式）"
            },
            {
              "name": "required_level",
              "logical": "必要レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該職種で必要なスキルレベル（1-5、5が最高レベル）"
            },
            {
              "name": "skill_category",
              "logical": "スキル分類",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル分類（TECHNICAL:技術、BUSINESS:業務、MANAGEMENT:管理、COMMUNICATION:コミュニケーション）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "MANAGEMENT",
                "COMMUNICATION"
              ]
            },
            {
              "name": "skill_item_id",
              "logical": "スキル項目ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル項目のID（MST_SkillItemへの外部キー）"
            },
            {
              "name": "skill_priority",
              "logical": "スキル優先度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル優先度（CRITICAL:必須、HIGH:重要、MEDIUM:推奨、LOW:あれば良い）",
              "enum_values": [
                "CRITICAL",
                "HIGH",
                "MEDIUM",
                "LOW"
              ],
              "default": "MEDIUM"
            },
            {
              "name": "skill_status",
              "logical": "スキル状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル状況（ACTIVE:有効、DEPRECATED:非推奨、OBSOLETE:廃止）",
              "enum_values": [
                "ACTIVE",
                "DEPRECATED",
                "OBSOLETE"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "skill_weight",
              "logical": "スキル重み",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種内でのスキル重み（%、合計100%）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_JobTypeSkill_job_type_id",
              "columns": [
                "job_type_id"
              ],
              "unique": false,
              "description": "職種ID検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_skill_item_id",
              "columns": [
                "skill_item_id"
              ],
              "unique": false,
              "description": "スキル項目ID検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_job_skill",
              "columns": [
                "job_type_id",
                "skill_item_id"
              ],
              "unique": true,
              "description": "職種・スキル複合検索用（一意）"
            },
            {
              "name": "idx_MST_JobTypeSkill_required_level",
              "columns": [
                "required_level"
              ],
              "unique": false,
              "description": "必要レベル別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_priority",
              "columns": [
                "skill_priority"
              ],
              "unique": false,
              "description": "優先度別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_category",
              "columns": [
                "skill_category"
              ],
              "unique": false,
              "description": "スキル分類別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_status",
              "columns": [
                "skill_status"
              ],
              "unique": false,
              "description": "スキル状況別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkill_effective_date",
              "columns": [
                "effective_date"
              ],
              "unique": false,
              "description": "有効開始日検索用"
            },
            {
              "name": "idx_mst_jobtypeskill_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_JobTypeSkill_job_skill",
              "type": "UNIQUE",
              "description": "職種・スキル項目一意制約",
              "columns": [
                [
                  "job_type_id"
                ],
                [
                  "skill_item_id"
                ]
              ]
            },
            {
              "name": "chk_MST_JobTypeSkill_required_level",
              "type": "CHECK",
              "description": "必要レベル範囲チェック制約",
              "condition": "required_level >= 1 AND required_level <= 5"
            },
            {
              "name": "chk_MST_JobTypeSkill_priority",
              "type": "CHECK",
              "description": "スキル優先度値チェック制約",
              "condition": "skill_priority IN ('CRITICAL', 'HIGH', 'MEDIUM', 'LOW')"
            },
            {
              "name": "chk_MST_JobTypeSkill_category",
              "type": "CHECK",
              "description": "スキル分類値チェック制約",
              "condition": "skill_category IN ('TECHNICAL', 'BUSINESS', 'MANAGEMENT', 'COMMUNICATION')"
            },
            {
              "name": "chk_MST_JobTypeSkill_status",
              "type": "CHECK",
              "description": "スキル状況値チェック制約",
              "condition": "skill_status IN ('ACTIVE', 'DEPRECATED', 'OBSOLETE')"
            },
            {
              "name": "chk_MST_JobTypeSkill_experience_years",
              "type": "CHECK",
              "description": "必要経験年数非負値チェック制約",
              "condition": "experience_years IS NULL OR experience_years >= 0"
            },
            {
              "name": "chk_MST_JobTypeSkill_skill_weight",
              "type": "CHECK",
              "description": "スキル重み範囲チェック制約",
              "condition": "skill_weight IS NULL OR (skill_weight >= 0 AND skill_weight <= 100)"
            },
            {
              "name": "chk_MST_JobTypeSkill_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "expiry_date IS NULL OR effective_date <= expiry_date"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_JobTypeSkill_job_type",
              "columns": [
                "job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_JobTypeSkill_skill_item",
              "columns": [
                "skill_item_id"
              ],
              "references": {
                "table": "MST_SkillItem",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "job_type_id": "JOB001",
              "skill_item_id": "SKILL001",
              "required_level": 4,
              "skill_priority": "CRITICAL",
              "skill_category": "TECHNICAL",
              "experience_years": 3.0,
              "certification_required": true,
              "skill_weight": 25.0,
              "evaluation_criteria": "実務プロジェクトでの設計・実装経験、コードレビュー能力",
              "learning_path": "基礎研修→実践プロジェクト→上級研修→資格取得",
              "skill_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "alternative_skills": "[\"SKILL002\", \"SKILL003\"]",
              "prerequisite_skills": "[\"SKILL010\", \"SKILL011\"]"
            },
            {
              "job_type_id": "JOB001",
              "skill_item_id": "SKILL002",
              "required_level": 3,
              "skill_priority": "HIGH",
              "skill_category": "BUSINESS",
              "experience_years": 2.0,
              "certification_required": false,
              "skill_weight": 20.0,
              "evaluation_criteria": "業務要件の理解度、顧客とのコミュニケーション能力",
              "learning_path": "業務知識研修→OJT→実践経験",
              "skill_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "alternative_skills": "[\"SKILL004\"]",
              "prerequisite_skills": "[\"SKILL012\"]"
            },
            {
              "job_type_id": "JOB002",
              "skill_item_id": "SKILL003",
              "required_level": 5,
              "skill_priority": "CRITICAL",
              "skill_category": "MANAGEMENT",
              "experience_years": 5.0,
              "certification_required": true,
              "skill_weight": 30.0,
              "evaluation_criteria": "チーム運営実績、プロジェクト成功率、メンバー育成実績",
              "learning_path": "リーダーシップ研修→実践経験→管理職研修→資格取得",
              "skill_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "alternative_skills": null,
              "prerequisite_skills": "[\"SKILL001\", \"SKILL002\"]"
            }
          ],
          "notes": [
            "職種とスキル項目の組み合わせは一意",
            "必要レベルは1-5の5段階評価",
            "スキル重みの合計は職種内で100%となるよう運用で管理",
            "代替スキル・前提スキルはJSON形式で管理",
            "有効期限により時期に応じたスキル要件変更に対応",
            "論理削除は is_deleted フラグで管理",
            "資格必須フラグにより採用・昇進要件を明確化",
            "CRITICAL優先度のスキルは必須要件",
            "HIGH優先度のスキルは重要要件（推奨）",
            "MEDIUM/LOW優先度のスキルは付加価値要件",
            "必要レベル4以上は上級者レベル",
            "必要レベル3は中級者レベル",
            "必要レベル1-2は初級者レベル",
            "資格必須スキルは昇進・配置転換の条件",
            "前提スキルを満たさない場合は当該スキルの習得不可",
            "代替スキルは同等の価値を持つスキルとして扱う",
            "有効期限切れのスキル要件は自動的に無効化"
          ],
          "rules": [
            "CRITICAL優先度のスキルは必須要件",
            "HIGH優先度のスキルは重要要件（推奨）",
            "MEDIUM/LOW優先度のスキルは付加価値要件",
            "必要レベル4以上は上級者レベル",
            "必要レベル3は中級者レベル",
            "必要レベル1-2は初級者レベル",
            "資格必須スキルは昇進・配置転換の条件",
            "前提スキルを満たさない場合は当該スキルの習得不可",
            "代替スキルは同等の価値を持つスキルとして扱う",
            "有効期限切れのスキル要件は自動的に無効化"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_JobTypeSkill_職種スキル関連.md"
        ]
      }
    },
    {
      "table_name": "MST_JobTypeSkillGrade",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_JobTypeSkillGrade",
          "logical_name": "職種スキルグレード関連",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 職種スキルグレード関連テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_JobTypeSkillGrade（職種スキルグレード関連）は、職種とスキルグレードの関連付けを管理するマスタテーブルです。\n\n主な目的：\n- 職種ごとの必要スキルグレードの定義\n- 昇進・昇格要件の明確化\n- キャリアパス設計の基礎データ\n- 人材評価基準の標準化\n- 給与体系との連動管理\n- 教育計画の目標設定\n\nこのテーブルにより、各職種に求められるスキルグレードを明確に定義し、\n人材育成や昇進管理の判断基準として活用できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "business_impact",
              "logical": "事業影響度",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "事業への影響度レベル（1-10、10が最高）"
            },
            {
              "name": "certification_requirements",
              "logical": "資格要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "必要な資格・認定のリスト（JSON形式）"
            },
            {
              "name": "effective_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード要件の有効開始日"
            },
            {
              "name": "evaluation_frequency",
              "logical": "評価頻度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価頻度（ANNUAL:年次、SEMI_ANNUAL:半年、QUARTERLY:四半期）",
              "enum_values": [
                "ANNUAL",
                "SEMI_ANNUAL",
                "QUARTERLY"
              ],
              "default": "ANNUAL"
            },
            {
              "name": "expiry_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード要件の有効終了日（NULL:無期限）"
            },
            {
              "name": "grade_requirement_type",
              "logical": "グレード要件区分",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード要件区分（MINIMUM:最低要件、STANDARD:標準要件、ADVANCED:上級要件）",
              "enum_values": [
                "MINIMUM",
                "STANDARD",
                "ADVANCED"
              ],
              "default": "STANDARD"
            },
            {
              "name": "grade_status",
              "logical": "グレード状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード状況（ACTIVE:有効、DEPRECATED:非推奨、OBSOLETE:廃止）",
              "enum_values": [
                "ACTIVE",
                "DEPRECATED",
                "OBSOLETE"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "job_type_id",
              "logical": "職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "jobtypeskillgrade_id",
              "logical": "MST_JobTypeSkillGradeの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_JobTypeSkillGradeの主キー",
              "default": null
            },
            {
              "name": "leadership_requirements",
              "logical": "リーダーシップ要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレードで求められるリーダーシップ能力"
            },
            {
              "name": "next_grade_path",
              "logical": "次グレードパス",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次のグレードへの昇進パス（JSON形式）"
            },
            {
              "name": "performance_expectations",
              "logical": "成果期待値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレードでの期待される成果・パフォーマンス"
            },
            {
              "name": "promotion_criteria",
              "logical": "昇進基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレードへの昇進基準・評価項目"
            },
            {
              "name": "required_experience_years",
              "logical": "必要経験年数",
              "type": "DECIMAL",
              "length": "4,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレード到達に必要な経験年数"
            },
            {
              "name": "salary_range_max",
              "logical": "給与範囲上限",
              "type": "DECIMAL",
              "length": "10,0",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレードの給与範囲上限"
            },
            {
              "name": "salary_range_min",
              "logical": "給与範囲下限",
              "type": "DECIMAL",
              "length": "10,0",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当該グレードの給与範囲下限"
            },
            {
              "name": "skill_grade_id",
              "logical": "スキルグレードID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードのID（MST_SkillGradeへの外部キー）"
            },
            {
              "name": "team_size_expectation",
              "logical": "期待チームサイズ",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "管理が期待されるチームサイズ"
            },
            {
              "name": "technical_depth",
              "logical": "技術深度",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "技術的深度レベル（1-10、10が最高）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_JobTypeSkillGrade_job_type_id",
              "columns": [
                "job_type_id"
              ],
              "unique": false,
              "description": "職種ID検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_skill_grade_id",
              "columns": [
                "skill_grade_id"
              ],
              "unique": false,
              "description": "スキルグレードID検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_job_grade",
              "columns": [
                "job_type_id",
                "skill_grade_id"
              ],
              "unique": true,
              "description": "職種・スキルグレード複合検索用（一意）"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_requirement_type",
              "columns": [
                "grade_requirement_type"
              ],
              "unique": false,
              "description": "グレード要件区分別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_experience_years",
              "columns": [
                "required_experience_years"
              ],
              "unique": false,
              "description": "必要経験年数別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_status",
              "columns": [
                "grade_status"
              ],
              "unique": false,
              "description": "グレード状況別検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_effective_date",
              "columns": [
                "effective_date"
              ],
              "unique": false,
              "description": "有効開始日検索用"
            },
            {
              "name": "idx_MST_JobTypeSkillGrade_technical_depth",
              "columns": [
                "technical_depth"
              ],
              "unique": false,
              "description": "技術深度別検索用"
            },
            {
              "name": "idx_mst_jobtypeskillgrade_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_JobTypeSkillGrade_job_grade",
              "type": "UNIQUE",
              "description": "職種・スキルグレード一意制約",
              "columns": [
                [
                  "job_type_id"
                ],
                [
                  "skill_grade_id"
                ]
              ]
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_requirement_type",
              "type": "CHECK",
              "description": "グレード要件区分値チェック制約",
              "condition": "grade_requirement_type IN ('MINIMUM', 'STANDARD', 'ADVANCED')"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_status",
              "type": "CHECK",
              "description": "グレード状況値チェック制約",
              "condition": "grade_status IN ('ACTIVE', 'DEPRECATED', 'OBSOLETE')"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_evaluation_frequency",
              "type": "CHECK",
              "description": "評価頻度値チェック制約",
              "condition": "evaluation_frequency IN ('ANNUAL', 'SEMI_ANNUAL', 'QUARTERLY')"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_experience_years",
              "type": "CHECK",
              "description": "必要経験年数非負値チェック制約",
              "condition": "required_experience_years IS NULL OR required_experience_years >= 0"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_technical_depth",
              "type": "CHECK",
              "description": "技術深度範囲チェック制約",
              "condition": "technical_depth IS NULL OR (technical_depth >= 1 AND technical_depth <= 10)"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_business_impact",
              "type": "CHECK",
              "description": "事業影響度範囲チェック制約",
              "condition": "business_impact IS NULL OR (business_impact >= 1 AND business_impact <= 10)"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_team_size",
              "type": "CHECK",
              "description": "期待チームサイズ非負値チェック制約",
              "condition": "team_size_expectation IS NULL OR team_size_expectation >= 0"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_salary_range",
              "type": "CHECK",
              "description": "給与範囲整合性チェック制約",
              "condition": "salary_range_min IS NULL OR salary_range_max IS NULL OR salary_range_min <= salary_range_max"
            },
            {
              "name": "chk_MST_JobTypeSkillGrade_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "expiry_date IS NULL OR effective_date <= expiry_date"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_JobTypeSkillGrade_job_type",
              "columns": [
                "job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_JobTypeSkillGrade_skill_grade",
              "columns": [
                "skill_grade_id"
              ],
              "references": {
                "table": "MST_SkillGrade",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "job_type_id": "JOB001",
              "skill_grade_id": "GRADE001",
              "grade_requirement_type": "MINIMUM",
              "required_experience_years": 0.0,
              "promotion_criteria": "基礎研修修了、OJT完了、基本業務遂行能力",
              "salary_range_min": 3000000,
              "salary_range_max": 4000000,
              "performance_expectations": "指導の下での基本業務遂行、学習意欲の継続",
              "leadership_requirements": "チームワーク、積極的な学習姿勢",
              "technical_depth": 2,
              "business_impact": 2,
              "team_size_expectation": 0,
              "certification_requirements": "[\"基本情報技術者試験\"]",
              "grade_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "next_grade_path": "[\"GRADE002\"]",
              "evaluation_frequency": "SEMI_ANNUAL"
            },
            {
              "job_type_id": "JOB001",
              "skill_grade_id": "GRADE002",
              "grade_requirement_type": "STANDARD",
              "required_experience_years": 2.0,
              "promotion_criteria": "独立した業務遂行、技術スキル向上、プロジェクト貢献",
              "salary_range_min": 4000000,
              "salary_range_max": 5500000,
              "performance_expectations": "独立した業務遂行、品質向上への貢献、後輩指導",
              "leadership_requirements": "後輩指導、技術的リーダーシップ",
              "technical_depth": 4,
              "business_impact": 4,
              "team_size_expectation": 2,
              "certification_requirements": "[\"応用情報技術者試験\", \"専門資格1つ以上\"]",
              "grade_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "next_grade_path": "[\"GRADE003\"]",
              "evaluation_frequency": "ANNUAL"
            },
            {
              "job_type_id": "JOB002",
              "skill_grade_id": "GRADE003",
              "grade_requirement_type": "ADVANCED",
              "required_experience_years": 5.0,
              "promotion_criteria": "チーム運営実績、技術的専門性、事業貢献度",
              "salary_range_min": 6000000,
              "salary_range_max": 8000000,
              "performance_expectations": "チーム運営、技術戦略立案、事業成果創出",
              "leadership_requirements": "チームマネジメント、技術戦略、人材育成",
              "technical_depth": 7,
              "business_impact": 7,
              "team_size_expectation": 5,
              "certification_requirements": "[\"高度情報技術者試験\", \"マネジメント資格\", \"専門資格2つ以上\"]",
              "grade_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "next_grade_path": "[\"GRADE004\", \"GRADE005\"]",
              "evaluation_frequency": "ANNUAL"
            }
          ],
          "notes": [
            "職種とスキルグレードの組み合わせは一意",
            "給与範囲は参考値として管理（実際の給与は別途決定）",
            "技術深度・事業影響度は1-10の10段階評価",
            "資格要件・次グレードパスはJSON形式で管理",
            "有効期限により時期に応じたグレード要件変更に対応",
            "論理削除は is_deleted フラグで管理",
            "評価頻度により昇進評価のタイミングを管理",
            "MINIMUM要件は最低限の昇進条件",
            "STANDARD要件は一般的な昇進条件",
            "ADVANCED要件は優秀者向けの昇進条件",
            "必要経験年数は最短期間を示す",
            "技術深度7以上は技術エキスパートレベル",
            "事業影響度7以上は事業リーダーレベル",
            "チームサイズ期待値は管理職適性の指標",
            "資格要件は昇進の必要条件",
            "次グレードパスは複数の昇進ルートを定義可能",
            "有効期限切れのグレード要件は自動的に無効化"
          ],
          "rules": [
            "MINIMUM要件は最低限の昇進条件",
            "STANDARD要件は一般的な昇進条件",
            "ADVANCED要件は優秀者向けの昇進条件",
            "必要経験年数は最短期間を示す",
            "技術深度7以上は技術エキスパートレベル",
            "事業影響度7以上は事業リーダーレベル",
            "チームサイズ期待値は管理職適性の指標",
            "資格要件は昇進の必要条件",
            "次グレードパスは複数の昇進ルートを定義可能",
            "有効期限切れのグレード要件は自動的に無効化"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_JobTypeSkillGrade_職種スキルグレード関連.md"
        ]
      }
    },
    {
      "table_name": "MST_NotificationSettings",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_NotificationSettings",
          "logical_name": "通知設定",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 通知設定マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_NotificationSettings（通知設定）は、システム全体の通知機能に関する設定情報を管理するマスタテーブルです。\n\n主な目的：\n- 通知チャネル（メール、Slack、Teams等）の設定管理\n- 通知タイミング・頻度の制御設定\n- 通知対象者・グループの設定管理\n- 通知テンプレートとの紐付け設定\n- テナント別通知設定の管理\n\nこのテーブルは、通知・連携管理機能の基盤となる重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "channel_config",
              "logical": "チャネル設定",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知チャネル固有の設定情報（JSON形式）"
            },
            {
              "name": "frequency_type",
              "logical": "頻度タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知頻度（IMMEDIATE:即座、DAILY:日次、WEEKLY:週次、MONTHLY:月次）",
              "enum_values": [
                "IMMEDIATE",
                "DAILY",
                "WEEKLY",
                "MONTHLY"
              ],
              "default": "IMMEDIATE"
            },
            {
              "name": "frequency_value",
              "logical": "頻度値",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "頻度の具体的な値（日次の場合は時間、週次の場合は曜日等）"
            },
            {
              "name": "is_enabled",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知設定が有効かどうか",
              "default": true
            },
            {
              "name": "notification_type",
              "logical": "通知タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の種類（EMAIL:メール、SLACK:Slack、TEAMS:Teams、WEBHOOK:Webhook）",
              "enum_values": [
                "EMAIL",
                "SLACK",
                "TEAMS",
                "WEBHOOK"
              ]
            },
            {
              "name": "notificationsettings_id",
              "logical": "MST_NotificationSettingsの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_NotificationSettingsの主キー",
              "default": null
            },
            {
              "name": "priority_level",
              "logical": "優先度レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の優先度（HIGH:高、MEDIUM:中、LOW:低）",
              "enum_values": [
                "HIGH",
                "MEDIUM",
                "LOW"
              ],
              "default": "MEDIUM"
            },
            {
              "name": "setting_key",
              "logical": "設定キー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知設定の識別キー（例：skill_update_notification、goal_reminder等）"
            },
            {
              "name": "setting_name",
              "logical": "設定名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知設定の表示名"
            },
            {
              "name": "target_audience",
              "logical": "対象者",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知対象（ALL:全員、MANAGER:管理者、EMPLOYEE:一般社員、CUSTOM:カスタム）",
              "enum_values": [
                "ALL",
                "MANAGER",
                "EMPLOYEE",
                "CUSTOM"
              ]
            },
            {
              "name": "template_id",
              "logical": "テンプレートID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用する通知テンプレートのID（MST_NotificationTemplateへの参照）"
            },
            {
              "name": "trigger_event",
              "logical": "トリガーイベント",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知を発生させるイベント（例：skill_registered、goal_deadline_approaching等）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_notification_settings_tenant_key",
              "columns": [
                "tenant_id",
                "setting_key"
              ],
              "unique": true,
              "description": "テナント別設定キー検索用（一意）"
            },
            {
              "name": "idx_notification_settings_type",
              "columns": [
                "notification_type"
              ],
              "unique": false,
              "description": "通知タイプ別検索用"
            },
            {
              "name": "idx_notification_settings_event",
              "columns": [
                "trigger_event"
              ],
              "unique": false,
              "description": "トリガーイベント別検索用"
            },
            {
              "name": "idx_notification_settings_enabled",
              "columns": [
                "is_enabled"
              ],
              "unique": false,
              "description": "有効設定検索用"
            },
            {
              "name": "idx_notification_settings_template",
              "columns": [
                "template_id"
              ],
              "unique": false,
              "description": "テンプレート別検索用"
            },
            {
              "name": "idx_mst_notificationsettings_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_notification_settings_tenant_key",
              "type": "UNIQUE",
              "description": "テナント内設定キー一意制約",
              "columns": [
                [
                  "tenant_id"
                ],
                [
                  "setting_key"
                ]
              ]
            },
            {
              "name": "chk_notification_settings_type",
              "type": "CHECK",
              "description": "通知タイプ値チェック制約",
              "condition": "notification_type IN ('EMAIL', 'SLACK', 'TEAMS', 'WEBHOOK')"
            },
            {
              "name": "chk_notification_settings_audience",
              "type": "CHECK",
              "description": "対象者値チェック制約",
              "condition": "target_audience IN ('ALL', 'MANAGER', 'EMPLOYEE', 'CUSTOM')"
            },
            {
              "name": "chk_notification_settings_frequency",
              "type": "CHECK",
              "description": "頻度タイプ値チェック制約",
              "condition": "frequency_type IN ('IMMEDIATE', 'DAILY', 'WEEKLY', 'MONTHLY')"
            },
            {
              "name": "chk_notification_settings_priority",
              "type": "CHECK",
              "description": "優先度レベル値チェック制約",
              "condition": "priority_level IN ('HIGH', 'MEDIUM', 'LOW')"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_notification_settings_template",
              "columns": [
                "template_id"
              ],
              "references": {
                "table": "MST_NotificationTemplate",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "NS001",
              "tenant_id": "TENANT001",
              "setting_key": "skill_update_notification",
              "setting_name": "スキル更新通知",
              "notification_type": "EMAIL",
              "target_audience": "MANAGER",
              "trigger_event": "skill_registered",
              "frequency_type": "IMMEDIATE",
              "frequency_value": null,
              "template_id": "NT001",
              "channel_config": "{\"smtp_server\": \"smtp.company.com\", \"from_address\": \"noreply@company.com\"}",
              "is_enabled": true,
              "priority_level": "MEDIUM"
            },
            {
              "id": "NS002",
              "tenant_id": "TENANT001",
              "setting_key": "goal_deadline_reminder",
              "setting_name": "目標期限リマインダー",
              "notification_type": "SLACK",
              "target_audience": "EMPLOYEE",
              "trigger_event": "goal_deadline_approaching",
              "frequency_type": "DAILY",
              "frequency_value": 9,
              "template_id": "NT002",
              "channel_config": "{\"webhook_url\": \"https://hooks.slack.com/services/xxx\", \"channel\": \"#notifications\"}",
              "is_enabled": true,
              "priority_level": "HIGH"
            }
          ],
          "notes": [
            "通知設定はテナント別に管理され、同一テナント内で設定キーは一意",
            "channel_configはJSON形式で通知チャネル固有の設定を格納",
            "frequency_valueは頻度タイプに応じて異なる意味を持つ（時間、曜日等）",
            "論理削除は is_enabled フラグで管理",
            "通知テンプレートとの連携により柔軟な通知内容設定が可能",
            "優先度レベルにより通知の重要度を制御",
            "同一テナント内で設定キーは重複不可",
            "無効化された設定は通知処理から除外される",
            "テンプレートIDが指定されていない場合はデフォルトテンプレートを使用",
            "CUSTOM対象者の場合は別途対象者マスタで詳細設定が必要",
            "頻度タイプがIMMEDIATEの場合、frequency_valueは不要",
            "通知チャネル設定はJSON形式で各チャネルの仕様に準拠"
          ],
          "rules": [
            "同一テナント内で設定キーは重複不可",
            "無効化された設定は通知処理から除外される",
            "テンプレートIDが指定されていない場合はデフォルトテンプレートを使用",
            "CUSTOM対象者の場合は別途対象者マスタで詳細設定が必要",
            "頻度タイプがIMMEDIATEの場合、frequency_valueは不要",
            "通知チャネル設定はJSON形式で各チャネルの仕様に準拠"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_NotificationSettings_通知設定.md"
        ]
      }
    },
    {
      "table_name": "MST_NotificationTemplate",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_NotificationTemplate",
          "logical_name": "通知テンプレート",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 通知テンプレートマスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_214959",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_NotificationTemplate（通知テンプレート）は、システムで使用する通知メッセージのテンプレートを管理するマスタテーブルです。\n\n主な目的：\n- 通知メッセージの定型文管理\n- 多言語対応の通知テンプレート管理\n- 通知チャネル別のテンプレート管理\n- 動的パラメータを含むテンプレート管理\n- テナント別カスタマイズ対応\n\nこのテーブルは、通知・連携管理機能において一貫性のあるメッセージ配信を実現する重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "body_template",
              "logical": "本文テンプレート",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の本文テンプレート（プレースホルダー含む）"
            },
            {
              "name": "format_type",
              "logical": "フォーマットタイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートのフォーマット（PLAIN:プレーンテキスト、HTML:HTML、MARKDOWN:Markdown）",
              "enum_values": [
                "PLAIN",
                "HTML",
                "MARKDOWN"
              ],
              "default": "PLAIN"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートが有効かどうか",
              "default": true
            },
            {
              "name": "is_default",
              "logical": "デフォルトフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同一キー・タイプでのデフォルトテンプレートかどうか",
              "default": false
            },
            {
              "name": "language_code",
              "logical": "言語コード",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの言語（ja:日本語、en:英語等）",
              "default": "ja"
            },
            {
              "name": "notification_type",
              "logical": "通知タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "対応する通知の種類（EMAIL:メール、SLACK:Slack、TEAMS:Teams、WEBHOOK:Webhook）",
              "enum_values": [
                "EMAIL",
                "SLACK",
                "TEAMS",
                "WEBHOOK"
              ]
            },
            {
              "name": "notificationtemplate_id",
              "logical": "MST_NotificationTemplateの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_NotificationTemplateの主キー",
              "default": null
            },
            {
              "name": "parameters",
              "logical": "パラメータ定義",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートで使用可能なパラメータの定義（JSON形式）"
            },
            {
              "name": "sample_data",
              "logical": "サンプルデータ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレート確認用のサンプルデータ（JSON形式）"
            },
            {
              "name": "subject_template",
              "logical": "件名テンプレート",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の件名テンプレート（メール等で使用）"
            },
            {
              "name": "template_key",
              "logical": "テンプレートキー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの識別キー（例：skill_update_email、goal_reminder_slack等）"
            },
            {
              "name": "template_name",
              "logical": "テンプレート名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの表示名"
            },
            {
              "name": "version",
              "logical": "バージョン",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートのバージョン番号",
              "default": "1.0.0"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_notification_template_tenant_key_type",
              "columns": [
                "tenant_id",
                "template_key",
                "notification_type",
                "language_code"
              ],
              "unique": true,
              "description": "テナント別テンプレート検索用（一意）"
            },
            {
              "name": "idx_notification_template_type",
              "columns": [
                "notification_type"
              ],
              "unique": false,
              "description": "通知タイプ別検索用"
            },
            {
              "name": "idx_notification_template_language",
              "columns": [
                "language_code"
              ],
              "unique": false,
              "description": "言語別検索用"
            },
            {
              "name": "idx_notification_template_default",
              "columns": [
                "is_default",
                "is_active"
              ],
              "unique": false,
              "description": "デフォルト・有効テンプレート検索用"
            },
            {
              "name": "idx_notification_template_key",
              "columns": [
                "template_key"
              ],
              "unique": false,
              "description": "テンプレートキー別検索用"
            },
            {
              "name": "idx_mst_notificationtemplate_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_notification_template_tenant_key_type_lang",
              "type": "UNIQUE",
              "description": "テナント内テンプレート一意制約",
              "columns": [
                [
                  "tenant_id"
                ],
                [
                  "template_key"
                ],
                [
                  "notification_type"
                ],
                [
                  "language_code"
                ]
              ]
            },
            {
              "name": "chk_notification_template_type",
              "type": "CHECK",
              "description": "通知タイプ値チェック制約",
              "condition": "notification_type IN ('EMAIL', 'SLACK', 'TEAMS', 'WEBHOOK')"
            },
            {
              "name": "chk_notification_template_format",
              "type": "CHECK",
              "description": "フォーマットタイプ値チェック制約",
              "condition": "format_type IN ('PLAIN', 'HTML', 'MARKDOWN')"
            },
            {
              "name": "chk_notification_template_language",
              "type": "CHECK",
              "description": "言語コード値チェック制約",
              "condition": "language_code IN ('ja', 'en')"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "id": "NT001",
              "tenant_id": "TENANT001",
              "template_key": "skill_update_notification",
              "template_name": "スキル更新通知テンプレート",
              "notification_type": "EMAIL",
              "language_code": "ja",
              "subject_template": "【スキル更新】{{employee_name}}さんのスキル情報が更新されました",
              "body_template": "{{employee_name}}さん\n\n以下のスキル情報が更新されました。\n\nスキル名: {{skill_name}}\n更新日時: {{updated_at}}\n更新者: {{updated_by}}\n\n詳細は以下のリンクからご確認ください。\n{{skill_detail_url}}\n\n※このメールは自動送信されています。\n",
              "format_type": "PLAIN",
              "parameters": "{\"employee_name\": \"社員名\", \"skill_name\": \"スキル名\", \"updated_at\": \"更新日時\", \"updated_by\": \"更新者\", \"skill_detail_url\": \"詳細URL\"}",
              "sample_data": "{\"employee_name\": \"山田太郎\", \"skill_name\": \"Java\", \"updated_at\": \"2025-06-01 10:30:00\", \"updated_by\": \"佐藤花子\", \"skill_detail_url\": \"https://system.company.com/skills/123\"}",
              "is_default": true,
              "is_active": true,
              "version": "1.0.0"
            },
            {
              "id": "NT002",
              "tenant_id": "TENANT001",
              "template_key": "goal_deadline_reminder",
              "template_name": "目標期限リマインダーテンプレート",
              "notification_type": "SLACK",
              "language_code": "ja",
              "subject_template": null,
              "body_template": ":warning: *目標期限のお知らせ* :warning:\n\n{{employee_name}}さんの目標「{{goal_title}}」の期限が近づいています。\n\n• 期限: {{deadline_date}}\n• 残り日数: {{remaining_days}}日\n• 進捗率: {{progress_rate}}%\n\n<{{goal_detail_url}}|詳細を確認する>\n",
              "format_type": "MARKDOWN",
              "parameters": "{\"employee_name\": \"社員名\", \"goal_title\": \"目標タイトル\", \"deadline_date\": \"期限日\", \"remaining_days\": \"残り日数\", \"progress_rate\": \"進捗率\", \"goal_detail_url\": \"詳細URL\"}",
              "sample_data": "{\"employee_name\": \"山田太郎\", \"goal_title\": \"Java認定資格取得\", \"deadline_date\": \"2025-06-30\", \"remaining_days\": \"29\", \"progress_rate\": \"75\", \"goal_detail_url\": \"https://system.company.com/goals/456\"}",
              "is_default": true,
              "is_active": true,
              "version": "1.0.0"
            }
          ],
          "notes": [
            "テンプレートはテナント・キー・タイプ・言語の組み合わせで一意",
            "body_templateにはプレースホルダー（{{parameter_name}}）を使用可能",
            "parametersフィールドでテンプレートで使用可能なパラメータを定義",
            "sample_dataフィールドでテンプレートのプレビュー確認が可能",
            "is_defaultフラグにより同一条件での優先テンプレートを指定",
            "多言語対応により国際化に対応",
            "format_typeによりプレーンテキスト・HTML・Markdownに対応",
            "同一テナント・キー・タイプ・言語の組み合わせは重複不可",
            "無効化されたテンプレートは通知処理から除外される",
            "デフォルトテンプレートは同一条件で1つのみ設定可能",
            "プレースホルダーはparametersフィールドで定義されたもののみ使用可能",
            "subject_templateはメール系通知でのみ使用",
            "Slack・Teams等ではMarkdown形式の装飾が推奨",
            "テンプレートバージョンは変更時に更新が必要"
          ],
          "rules": [
            "同一テナント・キー・タイプ・言語の組み合わせは重複不可",
            "無効化されたテンプレートは通知処理から除外される",
            "デフォルトテンプレートは同一条件で1つのみ設定可能",
            "プレースホルダーはparametersフィールドで定義されたもののみ使用可能",
            "subject_templateはメール系通知でのみ使用",
            "Slack・Teams等ではMarkdown形式の装飾が推奨",
            "テンプレートバージョンは変更時に更新が必要"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_NotificationTemplate_通知テンプレート.md"
        ]
      }
    },
    {
      "table_name": "MST_Permission",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Permission",
          "logical_name": "権限情報",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 権限マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_Permission（権限情報）は、システム内の権限（許可）を管理するマスタテーブルです。\n\n主な目的：\n- システム内の権限定義・管理（画面アクセス、機能実行、データ操作等）\n- 権限の階層・グループ管理\n- 細粒度アクセス制御の実現\n- リソースベースアクセス制御（RBAC）の基盤\n- 動的権限管理・条件付きアクセス制御\n- 監査・コンプライアンス要件への対応\n- 最小権限の原則実装\n\nこのテーブルは、ロールと組み合わせてシステムセキュリティを構成し、\n適切なアクセス制御を実現する重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "action_type",
              "logical": "アクション種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "許可するアクション（CREATE:作成、READ:参照、UPDATE:更新、DELETE:削除、EXECUTE:実行）",
              "enum_values": [
                "CREATE",
                "READ",
                "UPDATE",
                "DELETE",
                "EXECUTE"
              ]
            },
            {
              "name": "audit_required",
              "logical": "監査要求フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限行使時の監査ログ記録が必要かどうか",
              "default": false
            },
            {
              "name": "condition_expression",
              "logical": "条件式",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限行使の条件式（SQL WHERE句形式等）"
            },
            {
              "name": "description",
              "logical": "権限説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の詳細説明・用途"
            },
            {
              "name": "effective_from",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の有効開始日"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の有効終了日"
            },
            {
              "name": "is_system_permission",
              "logical": "システム権限フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システム標準権限かどうか（削除・変更不可）",
              "default": false
            },
            {
              "name": "parent_permission_id",
              "logical": "親権限ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上位権限のID（MST_Permissionへの自己参照外部キー）"
            },
            {
              "name": "permission_category",
              "logical": "権限カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限のカテゴリ（SYSTEM:システム、SCREEN:画面、API:API、DATA:データ、FUNCTION:機能）",
              "enum_values": [
                "SYSTEM",
                "SCREEN",
                "API",
                "DATA",
                "FUNCTION"
              ]
            },
            {
              "name": "permission_code",
              "logical": "権限コード",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "権限を一意に識別するコード（例：PERM_USER_READ）",
              "validation": "^PERM_[A-Z_]+$"
            },
            {
              "name": "permission_id",
              "logical": "MST_Permissionの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_Permissionの主キー",
              "default": null
            },
            {
              "name": "permission_name",
              "logical": "権限名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の正式名称"
            },
            {
              "name": "permission_name_short",
              "logical": "権限名略称",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の略称・短縮名"
            },
            {
              "name": "permission_status",
              "logical": "権限状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限の状態（ACTIVE:有効、INACTIVE:無効、DEPRECATED:非推奨）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "DEPRECATED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "requires_approval",
              "logical": "承認要求フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限行使に承認が必要かどうか",
              "default": false
            },
            {
              "name": "requires_conditions",
              "logical": "条件要求フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限行使に条件が必要かどうか",
              "default": false
            },
            {
              "name": "resource_type",
              "logical": "リソース種別",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限対象のリソース種別（USER、SKILL、REPORT等）"
            },
            {
              "name": "risk_level",
              "logical": "リスクレベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限のリスクレベル（1:低、2:中、3:高、4:最高）",
              "default": 1
            },
            {
              "name": "scope_level",
              "logical": "スコープレベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限のスコープ（GLOBAL:全体、TENANT:テナント、DEPARTMENT:部署、SELF:自分のみ）",
              "enum_values": [
                "GLOBAL",
                "TENANT",
                "DEPARTMENT",
                "SELF"
              ]
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "画面表示時の順序"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_permission_code",
              "columns": [
                "permission_code"
              ],
              "unique": true,
              "description": "権限コード検索用（一意）"
            },
            {
              "name": "idx_permission_category",
              "columns": [
                "permission_category"
              ],
              "unique": false,
              "description": "権限カテゴリ別検索用"
            },
            {
              "name": "idx_resource_action",
              "columns": [
                "resource_type",
                "action_type"
              ],
              "unique": false,
              "description": "リソース・アクション別検索用"
            },
            {
              "name": "idx_scope_level",
              "columns": [
                "scope_level"
              ],
              "unique": false,
              "description": "スコープレベル別検索用"
            },
            {
              "name": "idx_parent_permission",
              "columns": [
                "parent_permission_id"
              ],
              "unique": false,
              "description": "親権限別検索用"
            },
            {
              "name": "idx_system_permission",
              "columns": [
                "is_system_permission"
              ],
              "unique": false,
              "description": "システム権限検索用"
            },
            {
              "name": "idx_risk_level",
              "columns": [
                "risk_level"
              ],
              "unique": false,
              "description": "リスクレベル別検索用"
            },
            {
              "name": "idx_permission_status",
              "columns": [
                "permission_status"
              ],
              "unique": false,
              "description": "権限状態別検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_from",
                "effective_to"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_mst_permission_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_permission_code",
              "type": "UNIQUE",
              "description": "権限コード一意制約",
              "columns": [
                [
                  "permission_code"
                ]
              ]
            },
            {
              "name": "chk_permission_category",
              "type": "CHECK",
              "description": "権限カテゴリ値チェック制約",
              "condition": "permission_category IN ('SYSTEM', 'SCREEN', 'API', 'DATA', 'FUNCTION')"
            },
            {
              "name": "chk_action_type",
              "type": "CHECK",
              "description": "アクション種別値チェック制約",
              "condition": "action_type IN ('CREATE', 'READ', 'UPDATE', 'DELETE', 'EXECUTE')"
            },
            {
              "name": "chk_scope_level",
              "type": "CHECK",
              "description": "スコープレベル値チェック制約",
              "condition": "scope_level IN ('GLOBAL', 'TENANT', 'DEPARTMENT', 'SELF')"
            },
            {
              "name": "chk_permission_status",
              "type": "CHECK",
              "description": "権限状態値チェック制約",
              "condition": "permission_status IN ('ACTIVE', 'INACTIVE', 'DEPRECATED')"
            },
            {
              "name": "chk_risk_level",
              "type": "CHECK",
              "description": "リスクレベル範囲チェック制約",
              "condition": "risk_level BETWEEN 1 AND 4"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from IS NULL OR effective_from <= effective_to"
            },
            {
              "name": "chk_sort_order",
              "type": "CHECK",
              "description": "表示順序非負値チェック制約",
              "condition": "sort_order IS NULL OR sort_order >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_permission_parent",
              "columns": [
                "parent_permission_id"
              ],
              "references": {
                "table": "MST_Permission",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "permission_code": "PERM_USER_READ",
              "permission_name": "ユーザー情報参照",
              "permission_name_short": "ユーザー参照",
              "permission_category": "DATA",
              "resource_type": "USER",
              "action_type": "READ",
              "scope_level": "TENANT",
              "parent_permission_id": null,
              "is_system_permission": true,
              "requires_conditions": false,
              "condition_expression": null,
              "risk_level": 1,
              "requires_approval": false,
              "audit_required": true,
              "permission_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 1,
              "description": "ユーザー情報の参照権限"
            },
            {
              "permission_code": "PERM_USER_UPDATE",
              "permission_name": "ユーザー情報更新",
              "permission_name_short": "ユーザー更新",
              "permission_category": "DATA",
              "resource_type": "USER",
              "action_type": "UPDATE",
              "scope_level": "DEPARTMENT",
              "parent_permission_id": null,
              "is_system_permission": true,
              "requires_conditions": true,
              "condition_expression": "department_id = :user_department_id",
              "risk_level": 2,
              "requires_approval": false,
              "audit_required": true,
              "permission_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 2,
              "description": "ユーザー情報の更新権限（同一部署のみ）"
            },
            {
              "permission_code": "PERM_SYSTEM_ADMIN",
              "permission_name": "システム管理",
              "permission_name_short": "システム管理",
              "permission_category": "SYSTEM",
              "resource_type": "SYSTEM",
              "action_type": "EXECUTE",
              "scope_level": "GLOBAL",
              "parent_permission_id": null,
              "is_system_permission": true,
              "requires_conditions": false,
              "condition_expression": null,
              "risk_level": 4,
              "requires_approval": true,
              "audit_required": true,
              "permission_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 100,
              "description": "システム全体の管理権限"
            }
          ],
          "notes": [
            "権限階層は自己参照外部キーで表現",
            "システム権限は削除・変更不可",
            "条件式はSQL WHERE句形式で記述",
            "リスクレベルに応じた承認・監査要件",
            "スコープレベルによる権限範囲制限",
            "有効期間による時限権限設定が可能",
            "権限コードは PERM_ + リソース + アクション 形式",
            "システム権限は is_system_permission = true で保護",
            "リスクレベル3以上は承認要求を推奨",
            "全ての権限行使は監査ログに記録",
            "条件付き権限は condition_expression で制御",
            "親権限が無効化される場合は子権限も無効化",
            "有効期間外の権限は自動的に無効化"
          ],
          "rules": [
            "権限コードは PERM_ + リソース + アクション 形式",
            "システム権限は is_system_permission = true で保護",
            "リスクレベル3以上は承認要求を推奨",
            "全ての権限行使は監査ログに記録",
            "条件付き権限は condition_expression で制御",
            "親権限が無効化される場合は子権限も無効化",
            "有効期間外の権限は自動的に無効化"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Permission_権限情報.md"
        ]
      }
    },
    {
      "table_name": "MST_Position",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Position",
          "logical_name": "役職マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 役職マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_Position（役職マスタ）は、組織内の役職・職位の階層構造と基本情報を管理するマスタテーブルです。\n\n主な目的：\n- 役職階層の構造管理（社長、部長、課長、主任等の階層関係）\n- 役職基本情報の管理（役職名、役職コード、権限レベル等）\n- 人事評価・昇進管理の基盤\n- 給与・手当計算の基礎データ\n- 権限・アクセス制御の役職単位設定\n- 組織図・名刺作成の基礎データ\n- 人事制度・キャリアパス管理\n\nこのテーブルは、人事管理、権限管理、給与計算、組織運営など、\n企業の階層的組織運営の基盤となる重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "position_code",
              "logical": "役職コード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "役職を一意に識別するコード（例：POS001）",
              "validation": "^POS[0-9]{3}$"
            },
            {
              "name": "position_name",
              "logical": "役職名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職の正式名称"
            },
            {
              "name": "allowance_amount",
              "logical": "役職手当額",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "月額役職手当（円）"
            },
            {
              "name": "approval_limit",
              "logical": "承認限度額",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認可能な金額の上限（円）"
            },
            {
              "name": "authority_level",
              "logical": "権限レベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システム権限レベル（1-10、数値が大きいほど高権限）"
            },
            {
              "name": "can_evaluate",
              "logical": "評価権限フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "人事評価権限を持つかどうか",
              "default": false
            },
            {
              "name": "can_hire",
              "logical": "採用権限フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "採用権限を持つかどうか",
              "default": false
            },
            {
              "name": "description",
              "logical": "役職説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職の責任・権限・業務内容の説明"
            },
            {
              "name": "is_executive",
              "logical": "役員フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役員かどうか",
              "default": false
            },
            {
              "name": "is_management",
              "logical": "管理職フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "管理職かどうか（労働基準法上の管理監督者判定）",
              "default": false
            },
            {
              "name": "position_category",
              "logical": "役職カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職のカテゴリ（EXECUTIVE:役員、MANAGER:管理職、SUPERVISOR:監督職、STAFF:一般職）",
              "enum_values": [
                "EXECUTIVE",
                "MANAGER",
                "SUPERVISOR",
                "STAFF"
              ]
            },
            {
              "name": "position_id",
              "logical": "MST_Positionの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_Positionの主キー",
              "default": null
            },
            {
              "name": "position_level",
              "logical": "役職レベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職の階層レベル（1:最上位、数値が大きいほど下位）"
            },
            {
              "name": "position_name_short",
              "logical": "役職名略称",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職の略称・短縮名"
            },
            {
              "name": "position_rank",
              "logical": "役職ランク",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同レベル内での序列・ランク"
            },
            {
              "name": "position_status",
              "logical": "役職状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "役職の状態（ACTIVE:有効、INACTIVE:無効、ABOLISHED:廃止）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "ABOLISHED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "requires_approval",
              "logical": "承認権限フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認権限を持つかどうか",
              "default": false
            },
            {
              "name": "salary_grade",
              "logical": "給与等級",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "給与計算用の等級コード"
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織図等での表示順序"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_position_code",
              "columns": [
                "position_code"
              ],
              "unique": true,
              "description": "役職コード検索用（一意）"
            },
            {
              "name": "idx_position_level",
              "columns": [
                "position_level"
              ],
              "unique": false,
              "description": "役職レベル別検索用"
            },
            {
              "name": "idx_position_rank",
              "columns": [
                "position_rank"
              ],
              "unique": false,
              "description": "役職ランク別検索用"
            },
            {
              "name": "idx_position_category",
              "columns": [
                "position_category"
              ],
              "unique": false,
              "description": "役職カテゴリ別検索用"
            },
            {
              "name": "idx_authority_level",
              "columns": [
                "authority_level"
              ],
              "unique": false,
              "description": "権限レベル別検索用"
            },
            {
              "name": "idx_salary_grade",
              "columns": [
                "salary_grade"
              ],
              "unique": false,
              "description": "給与等級別検索用"
            },
            {
              "name": "idx_status",
              "columns": [
                "position_status"
              ],
              "unique": false,
              "description": "役職状態別検索用"
            },
            {
              "name": "idx_management_flags",
              "columns": [
                "is_management",
                "is_executive"
              ],
              "unique": false,
              "description": "管理職・役員フラグ検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_position_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_position_code",
              "type": "UNIQUE",
              "description": "役職コード一意制約",
              "columns": [
                [
                  "position_code"
                ]
              ]
            },
            {
              "name": "chk_position_level",
              "type": "CHECK",
              "description": "役職レベル正値チェック制約",
              "condition": "position_level > 0"
            },
            {
              "name": "chk_position_rank",
              "type": "CHECK",
              "description": "役職ランク正値チェック制約",
              "condition": "position_rank > 0"
            },
            {
              "name": "chk_authority_level",
              "type": "CHECK",
              "description": "権限レベル範囲チェック制約",
              "condition": "authority_level BETWEEN 1 AND 10"
            },
            {
              "name": "chk_position_category",
              "type": "CHECK",
              "description": "役職カテゴリ値チェック制約",
              "condition": "position_category IN ('EXECUTIVE', 'MANAGER', 'SUPERVISOR', 'STAFF')"
            },
            {
              "name": "chk_position_status",
              "type": "CHECK",
              "description": "役職状態値チェック制約",
              "condition": "position_status IN ('ACTIVE', 'INACTIVE', 'ABOLISHED')"
            },
            {
              "name": "chk_approval_limit",
              "type": "CHECK",
              "description": "承認限度額非負値チェック制約",
              "condition": "approval_limit IS NULL OR approval_limit >= 0"
            },
            {
              "name": "chk_allowance_amount",
              "type": "CHECK",
              "description": "役職手当額非負値チェック制約",
              "condition": "allowance_amount IS NULL OR allowance_amount >= 0"
            },
            {
              "name": "chk_sort_order",
              "type": "CHECK",
              "description": "表示順序非負値チェック制約",
              "condition": "sort_order IS NULL OR sort_order >= 0"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "position_code": "POS001",
              "position_name": "代表取締役社長",
              "position_name_short": "社長",
              "position_level": 1,
              "position_rank": 1,
              "position_category": "EXECUTIVE",
              "authority_level": 10,
              "approval_limit": 999999999.99,
              "salary_grade": "E1",
              "allowance_amount": 500000.0,
              "is_management": true,
              "is_executive": true,
              "requires_approval": true,
              "can_hire": true,
              "can_evaluate": true,
              "position_status": "ACTIVE",
              "sort_order": 1,
              "description": "会社の最高責任者として経営全般を統括"
            },
            {
              "position_code": "POS002",
              "position_name": "取締役",
              "position_name_short": "取締役",
              "position_level": 2,
              "position_rank": 1,
              "position_category": "EXECUTIVE",
              "authority_level": 9,
              "approval_limit": 100000000.0,
              "salary_grade": "E2",
              "allowance_amount": 300000.0,
              "is_management": true,
              "is_executive": true,
              "requires_approval": true,
              "can_hire": true,
              "can_evaluate": true,
              "position_status": "ACTIVE",
              "sort_order": 2,
              "description": "取締役会メンバーとして経営方針決定に参画"
            },
            {
              "position_code": "POS003",
              "position_name": "部長",
              "position_name_short": "部長",
              "position_level": 3,
              "position_rank": 1,
              "position_category": "MANAGER",
              "authority_level": 7,
              "approval_limit": 10000000.0,
              "salary_grade": "M1",
              "allowance_amount": 100000.0,
              "is_management": true,
              "is_executive": false,
              "requires_approval": true,
              "can_hire": true,
              "can_evaluate": true,
              "position_status": "ACTIVE",
              "sort_order": 3,
              "description": "部門の責任者として業務全般を管理"
            }
          ],
          "notes": [
            "役職レベルは階層の深さを表す（1が最上位）",
            "同レベル内の序列は役職ランクで管理",
            "権限レベルはシステムアクセス制御に使用",
            "承認限度額は稟議・決裁システムと連携",
            "管理職フラグは労働基準法上の管理監督者判定に使用",
            "給与等級は給与計算システムと連携",
            "役職コードは新設時に自動採番（POS + 3桁連番）",
            "役員は必ず管理職フラグがtrueである必要がある",
            "承認権限を持つ役職は承認限度額の設定が必要",
            "廃止時は position_status を ABOLISHED に変更",
            "役職レベルと権限レベルは原則として対応関係にある",
            "管理職は評価権限を持つことを原則とする",
            "役職手当は月額で設定し、給与計算時に使用"
          ],
          "rules": [
            "役職コードは新設時に自動採番（POS + 3桁連番）",
            "役員は必ず管理職フラグがtrueである必要がある",
            "承認権限を持つ役職は承認限度額の設定が必要",
            "廃止時は position_status を ABOLISHED に変更",
            "役職レベルと権限レベルは原則として対応関係にある",
            "管理職は評価権限を持つことを原則とする",
            "役職手当は月額で設定し、給与計算時に使用"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Position_役職マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_ReportTemplate",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_ReportTemplate",
          "logical_name": "帳票テンプレート",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 帳票テンプレートマスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_ReportTemplate（帳票テンプレート）は、システムで生成する各種帳票のテンプレート情報を管理するマスタテーブルです。\n\n主な目的：\n- 帳票レイアウト・フォーマットの管理\n- 帳票生成パラメータの管理\n- 多言語対応の帳票テンプレート管理\n- テナント別カスタマイズ対応\n- 帳票出力形式の管理\n\nこのテーブルは、帳票・レポート機能において一貫性のある帳票出力を実現する重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "data_source_config",
              "logical": "データソース設定",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "データ取得に関する設定（JSON形式）"
            },
            {
              "name": "footer_template",
              "logical": "フッターテンプレート",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票フッター部分のテンプレート"
            },
            {
              "name": "header_template",
              "logical": "ヘッダーテンプレート",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票ヘッダー部分のテンプレート"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートが有効かどうか",
              "default": true
            },
            {
              "name": "is_default",
              "logical": "デフォルトフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同一キー・カテゴリでのデフォルトテンプレートかどうか",
              "default": false
            },
            {
              "name": "language_code",
              "logical": "言語コード",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの言語（ja:日本語、en:英語等）",
              "default": "ja"
            },
            {
              "name": "output_format",
              "logical": "出力形式",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票の出力形式（PDF:PDF、EXCEL:Excel、CSV:CSV、HTML:HTML）",
              "enum_values": [
                "PDF",
                "EXCEL",
                "CSV",
                "HTML"
              ]
            },
            {
              "name": "page_settings",
              "logical": "ページ設定",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ページサイズ・余白等の設定（JSON形式）"
            },
            {
              "name": "parameters_schema",
              "logical": "パラメータスキーマ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票生成に必要なパラメータの定義（JSON Schema形式）"
            },
            {
              "name": "preview_image_url",
              "logical": "プレビュー画像URL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートのプレビュー画像URL"
            },
            {
              "name": "report_category",
              "logical": "帳票カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票の分類（SKILL:スキル関連、GOAL:目標関連、EVALUATION:評価関連、SUMMARY:サマリー、ANALYTICS:分析）",
              "enum_values": [
                "SKILL",
                "GOAL",
                "EVALUATION",
                "SUMMARY",
                "ANALYTICS"
              ]
            },
            {
              "name": "reporttemplate_id",
              "logical": "MST_ReportTemplateの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_ReportTemplateの主キー",
              "default": null
            },
            {
              "name": "style_sheet",
              "logical": "スタイルシート",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票のスタイル定義（CSS等）"
            },
            {
              "name": "template_content",
              "logical": "テンプレート内容",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "帳票テンプレートの内容（HTML、XML等の形式）"
            },
            {
              "name": "template_key",
              "logical": "テンプレートキー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの識別キー（例：skill_report、goal_summary等）"
            },
            {
              "name": "template_name",
              "logical": "テンプレート名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートの表示名"
            },
            {
              "name": "version",
              "logical": "バージョン",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートのバージョン番号",
              "default": "1.0.0"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_report_template_tenant_key",
              "columns": [
                "tenant_id",
                "template_key",
                "language_code"
              ],
              "unique": true,
              "description": "テナント別テンプレートキー検索用（一意）"
            },
            {
              "name": "idx_report_template_category",
              "columns": [
                "report_category"
              ],
              "unique": false,
              "description": "帳票カテゴリ別検索用"
            },
            {
              "name": "idx_report_template_format",
              "columns": [
                "output_format"
              ],
              "unique": false,
              "description": "出力形式別検索用"
            },
            {
              "name": "idx_report_template_language",
              "columns": [
                "language_code"
              ],
              "unique": false,
              "description": "言語別検索用"
            },
            {
              "name": "idx_report_template_default",
              "columns": [
                "is_default",
                "is_active"
              ],
              "unique": false,
              "description": "デフォルト・有効テンプレート検索用"
            },
            {
              "name": "idx_mst_reporttemplate_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_report_template_tenant_key_lang",
              "type": "UNIQUE",
              "description": "テナント内テンプレート一意制約",
              "columns": [
                [
                  "tenant_id"
                ],
                [
                  "template_key"
                ],
                [
                  "language_code"
                ]
              ]
            },
            {
              "name": "chk_report_template_category",
              "type": "CHECK",
              "description": "帳票カテゴリ値チェック制約",
              "condition": "report_category IN ('SKILL', 'GOAL', 'EVALUATION', 'SUMMARY', 'ANALYTICS')"
            },
            {
              "name": "chk_report_template_format",
              "type": "CHECK",
              "description": "出力形式値チェック制約",
              "condition": "output_format IN ('PDF', 'EXCEL', 'CSV', 'HTML')"
            },
            {
              "name": "chk_report_template_language",
              "type": "CHECK",
              "description": "言語コード値チェック制約",
              "condition": "language_code IN ('ja', 'en')"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "id": "RT001",
              "tenant_id": "TENANT001",
              "template_key": "skill_summary_report",
              "template_name": "スキルサマリーレポート",
              "report_category": "SKILL",
              "output_format": "PDF",
              "language_code": "ja",
              "template_content": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>{{report_title}}</title>\n</head>\n<body>\n    <h1>{{employee_name}}さんのスキルサマリー</h1>\n    <div class=\"summary-section\">\n        <h2>保有スキル一覧</h2>\n        {{#skills}}\n        <div class=\"skill-item\">\n            <span class=\"skill-name\">{{skill_name}}</span>\n            <span class=\"skill-level\">レベル: {{skill_level}}</span>\n        </div>\n        {{/skills}}\n    </div>\n</body>\n</html>\n",
              "style_sheet": "body { font-family: 'Noto Sans JP', sans-serif; }\n.skill-item { margin: 10px 0; padding: 5px; border-bottom: 1px solid #ccc; }\n.skill-name { font-weight: bold; }\n.skill-level { color: #666; }\n",
              "parameters_schema": "{\"type\": \"object\", \"properties\": {\"employee_id\": {\"type\": \"string\"}, \"report_date\": {\"type\": \"string\", \"format\": \"date\"}}}",
              "data_source_config": "{\"tables\": [\"MST_Employee\", \"TRN_EmployeeSkill\", \"MST_Skill\"], \"joins\": [\"employee_skills\", \"skill_details\"]}",
              "page_settings": "{\"size\": \"A4\", \"orientation\": \"portrait\", \"margin\": {\"top\": \"20mm\", \"bottom\": \"20mm\", \"left\": \"15mm\", \"right\": \"15mm\"}}",
              "header_template": "<div style=\"text-align: center; font-size: 12px;\">{{company_name}} - スキル管理システム</div>",
              "footer_template": "<div style=\"text-align: center; font-size: 10px;\">出力日時: {{generated_at}} - ページ {{page_number}}</div>",
              "is_default": true,
              "is_active": true,
              "version": "1.0.0",
              "preview_image_url": "/assets/templates/skill_summary_preview.png"
            },
            {
              "id": "RT002",
              "tenant_id": "TENANT001",
              "template_key": "goal_progress_report",
              "template_name": "目標進捗レポート",
              "report_category": "GOAL",
              "output_format": "EXCEL",
              "language_code": "ja",
              "template_content": "<workbook>\n    <worksheet name=\"目標進捗\">\n        <row>\n            <cell>社員名</cell>\n            <cell>目標タイトル</cell>\n            <cell>進捗率</cell>\n            <cell>期限</cell>\n            <cell>状態</cell>\n        </row>\n        {{#goals}}\n        <row>\n            <cell>{{employee_name}}</cell>\n            <cell>{{goal_title}}</cell>\n            <cell>{{progress_rate}}%</cell>\n            <cell>{{deadline}}</cell>\n            <cell>{{status}}</cell>\n        </row>\n        {{/goals}}\n    </worksheet>\n</workbook>\n",
              "style_sheet": null,
              "parameters_schema": "{\"type\": \"object\", \"properties\": {\"department_id\": {\"type\": \"string\"}, \"period_start\": {\"type\": \"string\", \"format\": \"date\"}, \"period_end\": {\"type\": \"string\", \"format\": \"date\"}}}",
              "data_source_config": "{\"tables\": [\"MST_Employee\", \"TRN_Goal\"], \"joins\": [\"employee_goals\"]}",
              "page_settings": "{\"orientation\": \"landscape\"}",
              "header_template": null,
              "footer_template": null,
              "is_default": true,
              "is_active": true,
              "version": "1.0.0",
              "preview_image_url": "/assets/templates/goal_progress_preview.png"
            }
          ],
          "notes": [
            "テンプレートはテナント・キー・言語の組み合わせで一意",
            "template_contentにはMustache等のテンプレートエンジン記法を使用",
            "parameters_schemaでテンプレートで使用可能なパラメータを定義",
            "data_source_configで必要なデータの取得方法を定義",
            "多言語対応により国際化に対応",
            "出力形式により異なるテンプレート記法に対応",
            "プレビュー画像によりテンプレート選択時の視認性を向上",
            "同一テナント・キー・言語の組み合わせは重複不可",
            "無効化されたテンプレートは帳票生成から除外される",
            "デフォルトテンプレートは同一条件で1つのみ設定可能",
            "パラメータはparameters_schemaで定義されたもののみ使用可能",
            "データソース設定は実際のテーブル構造と整合性が必要",
            "出力形式に応じたテンプレート記法を使用",
            "テンプレートバージョンは変更時に更新が必要",
            "プレビュー画像は管理画面での選択性向上のため推奨"
          ],
          "rules": [
            "同一テナント・キー・言語の組み合わせは重複不可",
            "無効化されたテンプレートは帳票生成から除外される",
            "デフォルトテンプレートは同一条件で1つのみ設定可能",
            "パラメータはparameters_schemaで定義されたもののみ使用可能",
            "データソース設定は実際のテーブル構造と整合性が必要",
            "出力形式に応じたテンプレート記法を使用",
            "テンプレートバージョンは変更時に更新が必要",
            "プレビュー画像は管理画面での選択性向上のため推奨"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_ReportTemplate_帳票テンプレート.md"
        ]
      }
    },
    {
      "table_name": "MST_Role",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Role",
          "logical_name": "ロール情報",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - ロール情報テーブルの詳細定義"
            },
            {
              "version": "1.1.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "改版履歴管理機能追加、ロール階層・権限継承機能強化"
            },
            {
              "version": "3.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_Role（ロール情報）は、システム内のロール（役割）を管理するマスタテーブルです。\n\n主な目的：\n- システム内のロール定義・管理（管理者、一般ユーザー、閲覧者等）\n- ロール階層の管理（上位ロール、下位ロール）\n- ロール別権限設定の基盤\n- 職務分離・最小権限の原則実装\n- 動的権限管理・ロールベースアクセス制御（RBAC）\n- 組織変更に対応した柔軟な権限管理\n- 監査・コンプライアンス対応\n\nこのテーブルは、システムセキュリティの基盤となり、\n適切なアクセス制御と権限管理を実現する重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "auto_assign_conditions",
              "logical": "自動割り当て条件",
              "type": "JSON",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "自動ロール割り当ての条件（JSON形式）"
            },
            {
              "name": "description",
              "logical": "ロール説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの詳細説明・用途"
            },
            {
              "name": "effective_from",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの有効開始日"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの有効終了日"
            },
            {
              "name": "is_system_role",
              "logical": "システムロールフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システム標準ロールかどうか（削除・変更不可）",
              "default": false
            },
            {
              "name": "is_tenant_specific",
              "logical": "テナント固有フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナント固有のロールかどうか",
              "default": false
            },
            {
              "name": "max_users",
              "logical": "最大ユーザー数",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このロールに割り当て可能な最大ユーザー数"
            },
            {
              "name": "parent_role_id",
              "logical": "親ロールID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上位ロールのID（MST_Roleへの自己参照外部キー）"
            },
            {
              "name": "role_category",
              "logical": "ロールカテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールのカテゴリ（SYSTEM:システム、BUSINESS:業務、TENANT:テナント、CUSTOM:カスタム）",
              "enum_values": [
                "SYSTEM",
                "BUSINESS",
                "TENANT",
                "CUSTOM"
              ]
            },
            {
              "name": "role_code",
              "logical": "ロールコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "ロールを一意に識別するコード（例：ROLE001）",
              "validation": "^ROLE[0-9]{3}$"
            },
            {
              "name": "role_id",
              "logical": "MST_Roleの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_Roleの主キー",
              "default": null
            },
            {
              "name": "role_level",
              "logical": "ロールレベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの階層レベル（1:最上位、数値が大きいほど下位）"
            },
            {
              "name": "role_name",
              "logical": "ロール名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの正式名称"
            },
            {
              "name": "role_name_short",
              "logical": "ロール名略称",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの略称・短縮名"
            },
            {
              "name": "role_priority",
              "logical": "ロール優先度",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "複数ロール保持時の優先度（数値が小さいほど高優先）",
              "default": 999
            },
            {
              "name": "role_status",
              "logical": "ロール状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールの状態（ACTIVE:有効、INACTIVE:無効、DEPRECATED:非推奨）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "DEPRECATED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "画面表示時の順序"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_role_code",
              "columns": [
                "role_code"
              ],
              "unique": true,
              "description": "ロールコード検索用（一意）"
            },
            {
              "name": "idx_role_category",
              "columns": [
                "role_category"
              ],
              "unique": false,
              "description": "ロールカテゴリ別検索用"
            },
            {
              "name": "idx_role_level",
              "columns": [
                "role_level"
              ],
              "unique": false,
              "description": "ロールレベル別検索用"
            },
            {
              "name": "idx_parent_role",
              "columns": [
                "parent_role_id"
              ],
              "unique": false,
              "description": "親ロール別検索用"
            },
            {
              "name": "idx_system_role",
              "columns": [
                "is_system_role"
              ],
              "unique": false,
              "description": "システムロール検索用"
            },
            {
              "name": "idx_tenant_specific",
              "columns": [
                "is_tenant_specific"
              ],
              "unique": false,
              "description": "テナント固有ロール検索用"
            },
            {
              "name": "idx_role_status",
              "columns": [
                "role_status"
              ],
              "unique": false,
              "description": "ロール状態別検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_from",
                "effective_to"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_role_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_role_code",
              "type": "UNIQUE",
              "description": "ロールコード一意制約",
              "columns": [
                [
                  "role_code"
                ]
              ]
            },
            {
              "name": "chk_role_level",
              "type": "CHECK",
              "description": "ロールレベル正値チェック制約",
              "condition": "role_level > 0"
            },
            {
              "name": "chk_role_category",
              "type": "CHECK",
              "description": "ロールカテゴリ値チェック制約",
              "condition": "role_category IN ('SYSTEM', 'BUSINESS', 'TENANT', 'CUSTOM')"
            },
            {
              "name": "chk_role_status",
              "type": "CHECK",
              "description": "ロール状態値チェック制約",
              "condition": "role_status IN ('ACTIVE', 'INACTIVE', 'DEPRECATED')"
            },
            {
              "name": "chk_max_users",
              "type": "CHECK",
              "description": "最大ユーザー数正値チェック制約",
              "condition": "max_users IS NULL OR max_users > 0"
            },
            {
              "name": "chk_role_priority",
              "type": "CHECK",
              "description": "ロール優先度正値チェック制約",
              "condition": "role_priority > 0"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from IS NULL OR effective_from <= effective_to"
            },
            {
              "name": "chk_sort_order",
              "type": "CHECK",
              "description": "表示順序非負値チェック制約",
              "condition": "sort_order IS NULL OR sort_order >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_role_parent",
              "columns": [
                "parent_role_id"
              ],
              "references": {
                "table": "MST_Role",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "role_code": "ROLE001",
              "role_name": "システム管理者",
              "role_name_short": "システム管理者",
              "role_category": "SYSTEM",
              "role_level": 1,
              "parent_role_id": null,
              "is_system_role": true,
              "is_tenant_specific": false,
              "max_users": 5,
              "role_priority": 1,
              "auto_assign_conditions": null,
              "role_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 1,
              "description": "システム全体の管理権限を持つ最上位ロール"
            },
            {
              "role_code": "ROLE002",
              "role_name": "テナント管理者",
              "role_name_short": "テナント管理者",
              "role_category": "TENANT",
              "role_level": 2,
              "parent_role_id": null,
              "is_system_role": true,
              "is_tenant_specific": true,
              "max_users": 10,
              "role_priority": 2,
              "auto_assign_conditions": null,
              "role_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 2,
              "description": "テナント内の管理権限を持つロール"
            },
            {
              "role_code": "ROLE003",
              "role_name": "一般ユーザー",
              "role_name_short": "一般ユーザー",
              "role_category": "BUSINESS",
              "role_level": 3,
              "parent_role_id": null,
              "is_system_role": true,
              "is_tenant_specific": false,
              "max_users": null,
              "role_priority": 10,
              "auto_assign_conditions": "{\"default\": true}",
              "role_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "sort_order": 10,
              "description": "基本的な業務機能を利用できるロール"
            }
          ],
          "notes": [
            "ロール階層は自己参照外部キーで表現",
            "システムロールは削除・変更不可",
            "テナント固有ロールはテナント内でのみ有効",
            "複数ロール保持時は優先度で権限を決定",
            "自動割り当て条件はJSON形式で柔軟に設定",
            "有効期間による時限ロール設定が可能",
            "ロールコードは新設時に自動採番（ROLE + 3桁連番）",
            "システムロールは is_system_role = true で保護",
            "親ロールが無効化される場合は子ロールも無効化",
            "最大ユーザー数を超える割り当ては不可",
            "有効期間外のロールは自動的に無効化",
            "ロール削除時は関連するユーザーロール紐付けも削除",
            "テナント固有ロールは該当テナント内でのみ使用可能"
          ],
          "rules": [
            "ロールコードは新設時に自動採番（ROLE + 3桁連番）",
            "システムロールは is_system_role = true で保護",
            "親ロールが無効化される場合は子ロールも無効化",
            "最大ユーザー数を超える割り当ては不可",
            "有効期間外のロールは自動的に無効化",
            "ロール削除時は関連するユーザーロール紐付けも削除",
            "テナント固有ロールは該当テナント内でのみ使用可能"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Role_ロール情報.md"
        ]
      }
    },
    {
      "table_name": "MST_RolePermission",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_RolePermission",
          "logical_name": "ロール権限紐付け",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-21",
              "author": "開発チーム",
              "changes": "初版作成 - ロール権限紐付けテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "6.1.20250624_214209",
              "date": "2025-06-24",
              "author": "カラム順序修正ツール",
              "changes": "主キー（role_permission_id）を先頭に移動し、推奨カラム順序に修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_RolePermission（ロール権限紐付け）は、ロールと権限の多対多関係を管理するマスタテーブルです。\n\n主な目的：\n- ロールベースアクセス制御（RBAC）の実現\n- 権限付与・取消の履歴管理と監査証跡の保持\n- 細粒度な権限制御による情報セキュリティの確保\n- 権限変更の追跡可能性とコンプライアンス対応\n- システム機能へのアクセス制御の柔軟な管理\n\nこのテーブルは、システムのセキュリティ基盤として重要な役割を果たし、\n適切な権限管理により情報漏洩や不正アクセスを防止します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "granted_at",
              "logical": "この権限がロールに付与された日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "この権限がロールに付与された日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "granted_by",
              "logical": "この権限を付与したユーザーのID",
              "type": "BIGINT",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "この権限を付与したユーザーのID"
            },
            {
              "name": "is_active",
              "logical": "この権限付与が有効かどうか",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "この権限付与が有効かどうか",
              "default": true
            },
            {
              "name": "notes",
              "logical": "権限付与・取消に関する備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "権限付与・取消に関する備考"
            },
            {
              "name": "permission_id",
              "logical": "ロールに付与する権限のID",
              "type": "BIGINT",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "ロールに付与する権限のID"
            },
            {
              "name": "revoked_at",
              "logical": "この権限が取り消された日時（NULL=未取消）",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "この権限が取り消された日時（NULL=未取消）"
            },
            {
              "name": "revoked_by",
              "logical": "この権限を取り消したユーザーのID",
              "type": "BIGINT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "この権限を取り消したユーザーのID"
            },
            {
              "name": "role_id",
              "logical": "権限を付与するロールのID",
              "type": "BIGINT",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "権限を付与するロールのID"
            },
            {
              "name": "role_permission_id",
              "logical": "ロール権限紐付けの一意識別子",
              "type": "BIGINT",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "ロール権限紐付けの一意識別子"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "レコード作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "レコード作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "レコード最終更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "レコード最終更新日時",
              "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_mst_rolepermission_role_id",
              "columns": [
                "role_id"
              ],
              "unique": false,
              "description": "ロールIDによる検索用インデックス"
            },
            {
              "name": "idx_mst_rolepermission_permission_id",
              "columns": [
                "permission_id"
              ],
              "unique": false,
              "description": "権限IDによる検索用インデックス"
            },
            {
              "name": "idx_mst_rolepermission_role_permission",
              "columns": [
                "role_id",
                "permission_id"
              ],
              "unique": false,
              "description": "ロールと権限の組み合わせの一意性保証"
            },
            {
              "name": "idx_mst_rolepermission_active",
              "columns": [
                "is_active",
                "role_id"
              ],
              "unique": false,
              "description": "有効な権限の検索用インデックス"
            },
            {
              "name": "idx_mst_rolepermission_granted_at",
              "columns": [
                "granted_at"
              ],
              "unique": false,
              "description": "権限付与日時による検索用インデックス"
            }
          ],
          "constraints": [],
          "foreign_keys": [
            {
              "name": "fk_mst_rolepermission_role_id",
              "columns": [
                "role_id"
              ],
              "references": {
                "table": "MST_Role",
                "columns": [
                  "role_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "ロールマスタへの外部キー制約"
            },
            {
              "name": "fk_mst_rolepermission_permission_id",
              "columns": [
                "permission_id"
              ],
              "references": {
                "table": "MST_Permission",
                "columns": [
                  "permission_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "権限マスタへの外部キー制約"
            },
            {
              "name": "fk_mst_rolepermission_granted_by",
              "columns": [
                "granted_by"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "user_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "権限付与者への外部キー制約"
            },
            {
              "name": "fk_mst_rolepermission_revoked_by",
              "columns": [
                "revoked_by"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "user_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "権限取消者への外部キー制約"
            }
          ],
          "sample_data": [
            {
              "role_permission_id": 1,
              "role_id": 1,
              "permission_id": 1,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "システム管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 2,
              "role_id": 1,
              "permission_id": 2,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "システム管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 3,
              "role_id": 1,
              "permission_id": 3,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "システム管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 4,
              "role_id": 2,
              "permission_id": 4,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "人事管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 5,
              "role_id": 2,
              "permission_id": 5,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "人事管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 6,
              "role_id": 3,
              "permission_id": 6,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "スキル管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 7,
              "role_id": 3,
              "permission_id": 7,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "スキル管理者の基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 8,
              "role_id": 4,
              "permission_id": 8,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "一般ユーザーの基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 9,
              "role_id": 4,
              "permission_id": 9,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "一般ユーザーの基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 10,
              "role_id": 5,
              "permission_id": 8,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "閲覧専用ユーザーの基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 11,
              "role_id": 5,
              "permission_id": 10,
              "is_active": true,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "閲覧専用ユーザーの基本権限",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-01-01 00:00:00"
            },
            {
              "role_permission_id": 12,
              "role_id": 2,
              "permission_id": 11,
              "is_active": true,
              "granted_at": "2024-02-01 00:00:00",
              "granted_by": 1,
              "revoked_at": null,
              "revoked_by": null,
              "notes": "研修管理権限の追加付与",
              "created_at": "2024-02-01 00:00:00",
              "updated_at": "2024-02-01 00:00:00"
            },
            {
              "role_permission_id": 13,
              "role_id": 3,
              "permission_id": 12,
              "is_active": false,
              "granted_at": "2024-01-01 00:00:00",
              "granted_by": 1,
              "revoked_at": "2024-03-01 00:00:00",
              "revoked_by": 1,
              "notes": "権限範囲の見直しにより取消",
              "created_at": "2024-01-01 00:00:00",
              "updated_at": "2024-03-01 00:00:00"
            }
          ],
          "notes": [
            "ロールと権限の多対多関係を管理する中間テーブル",
            "権限の付与・取消履歴を管理し、監査証跡を保持",
            "有効フラグにより論理削除を実現",
            "権限変更時は新しいレコードを作成し、古いレコードを無効化",
            "ロールと権限の組み合わせは一意である必要がある",
            "権限の取消時は論理削除を行い、履歴を保持する",
            "権限変更は必ず承認者の記録と共に実施する"
          ],
          "rules": [
            "ロールと権限の組み合わせは一意である必要がある",
            "権限の取消時は論理削除を行い、履歴を保持する",
            "権限変更は必ず承認者の記録と共に実施する"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_RolePermission_ロール権限紐付け.md"
        ]
      }
    },
    {
      "table_name": "MST_Skill",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Skill",
          "logical_name": "スキルマスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - MST_Skillの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "スキルマスタテーブルは、システムで管理するスキル項目の基本情報を管理するマスタテーブルです。\n\n主な目的：\n- スキル項目の一元管理\n- スキルカテゴリとレベル定義の管理\n- スキル評価基準の標準化\n- スキル検索とフィルタリングの支援\n\nこのテーブルは、スキル管理システムの基盤となるマスタテーブルで、\n統一されたスキル評価基準と効率的なスキル管理を実現します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "スキルの一意識別子"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）"
            },
            {
              "name": "skill_name",
              "logical": "スキル名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの名称"
            },
            {
              "name": "category_id",
              "logical": "カテゴリID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリのID（MST_SkillCategoryへの外部キー）"
            },
            {
              "name": "certification_info",
              "logical": "資格情報",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する資格や認定情報（JSON形式）"
            },
            {
              "name": "description",
              "logical": "説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの詳細説明"
            },
            {
              "name": "difficulty_level",
              "logical": "難易度レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの習得難易度（1:易、2:普通、3:難、4:非常に難、5:最高難度）",
              "default": 3
            },
            {
              "name": "display_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同一カテゴリ内での表示順序",
              "default": 0
            },
            {
              "name": "effective_from",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの有効開始日"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの有効終了日"
            },
            {
              "name": "evaluation_criteria",
              "logical": "評価基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル評価の基準や指標（JSON形式）"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルが有効かどうか",
              "default": true
            },
            {
              "name": "is_core_skill",
              "logical": "コアスキルフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織のコアスキルかどうか",
              "default": false
            },
            {
              "name": "learning_resources",
              "logical": "学習リソース",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "学習に役立つリソースのURL一覧（JSON配列形式）"
            },
            {
              "name": "market_demand",
              "logical": "市場需要",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "市場での需要レベル（LOW:低、MEDIUM:中、HIGH:高、VERY_HIGH:非常に高）",
              "enum_values": [
                "LOW",
                "MEDIUM",
                "HIGH",
                "VERY_HIGH"
              ],
              "default": "MEDIUM"
            },
            {
              "name": "prerequisite_skills",
              "logical": "前提スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "習得前提となるスキルのID一覧（JSON配列形式）"
            },
            {
              "name": "related_skills",
              "logical": "関連スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するスキルのID一覧（JSON配列形式）"
            },
            {
              "name": "required_experience_months",
              "logical": "必要経験月数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル習得に必要な経験期間（月数）"
            },
            {
              "name": "skill_id",
              "logical": "MST_Skillの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_Skillの主キー",
              "default": null
            },
            {
              "name": "skill_name_en",
              "logical": "スキル名英語",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの英語名称"
            },
            {
              "name": "skill_type",
              "logical": "スキル種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの種別（TECHNICAL:技術スキル、BUSINESS:ビジネススキル、SOFT:ソフトスキル、LANGUAGE:言語スキル）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "SOFT",
                "LANGUAGE"
              ],
              "default": "TECHNICAL"
            },
            {
              "name": "technology_trend",
              "logical": "技術トレンド",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "技術トレンド（EMERGING:新興、GROWING:成長中、STABLE:安定、DECLINING:衰退）",
              "enum_values": [
                "EMERGING",
                "GROWING",
                "STABLE",
                "DECLINING"
              ],
              "default": "STABLE"
            },
            {
              "name": "is_deleted",
              "logical": "削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": false
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レコード更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_Skill_id",
              "columns": [
                "id"
              ],
              "unique": true,
              "description": "スキルID検索用（一意）"
            },
            {
              "name": "idx_MST_Skill_skill_name",
              "columns": [
                "skill_name"
              ],
              "unique": false,
              "description": "スキル名検索用"
            },
            {
              "name": "idx_MST_Skill_category_id",
              "columns": [
                "category_id"
              ],
              "unique": false,
              "description": "カテゴリID検索用"
            },
            {
              "name": "idx_MST_Skill_skill_type",
              "columns": [
                "skill_type"
              ],
              "unique": false,
              "description": "スキル種別検索用"
            },
            {
              "name": "idx_MST_Skill_category_order",
              "columns": [
                "category_id",
                "display_order"
              ],
              "unique": false,
              "description": "カテゴリ別表示順序検索用"
            },
            {
              "name": "idx_MST_Skill_market_demand",
              "columns": [
                "market_demand"
              ],
              "unique": false,
              "description": "市場需要検索用"
            },
            {
              "name": "idx_MST_Skill_is_active",
              "columns": [
                "is_active"
              ],
              "unique": false,
              "description": "有効フラグ検索用"
            },
            {
              "name": "idx_mst_skill_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_Skill_id",
              "type": "UNIQUE",
              "description": "スキルID一意制約",
              "columns": [
                [
                  "id"
                ]
              ]
            },
            {
              "name": "chk_MST_Skill_skill_type",
              "type": "CHECK",
              "description": "スキル種別値チェック制約",
              "condition": "skill_type IN ('TECHNICAL', 'BUSINESS', 'SOFT', 'LANGUAGE')"
            },
            {
              "name": "chk_MST_Skill_difficulty_level",
              "type": "CHECK",
              "description": "難易度レベル値チェック制約（1-5）",
              "condition": "difficulty_level BETWEEN 1 AND 5"
            },
            {
              "name": "chk_MST_Skill_required_experience",
              "type": "CHECK",
              "description": "必要経験月数非負数チェック制約",
              "condition": "required_experience_months IS NULL OR required_experience_months >= 0"
            },
            {
              "name": "chk_MST_Skill_market_demand",
              "type": "CHECK",
              "description": "市場需要値チェック制約",
              "condition": "market_demand IN ('LOW', 'MEDIUM', 'HIGH', 'VERY_HIGH')"
            },
            {
              "name": "chk_MST_Skill_technology_trend",
              "type": "CHECK",
              "description": "技術トレンド値チェック制約",
              "condition": "technology_trend IN ('EMERGING', 'GROWING', 'STABLE', 'DECLINING')"
            },
            {
              "name": "chk_MST_Skill_display_order",
              "type": "CHECK",
              "description": "表示順序非負数チェック制約",
              "condition": "display_order >= 0"
            },
            {
              "name": "chk_MST_Skill_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from IS NULL OR effective_to >= effective_from"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_Skill_tenant",
              "columns": [
                "tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_MST_Skill_category",
              "columns": [
                "category_id"
              ],
              "references": {
                "table": "MST_SkillCategory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "SKILL001",
              "skill_name": "React",
              "skill_name_en": "React",
              "category_id": "CAT_FRONTEND",
              "skill_type": "TECHNICAL",
              "difficulty_level": 3,
              "description": "Reactライブラリを使用したフロントエンド開発スキル。コンポーネント設計、状態管理、Hooksの理解が含まれます。",
              "evaluation_criteria": "{\"level1\":\"基本的なコンポーネント作成\",\"level2\":\"状態管理とイベント処理\",\"level3\":\"Hooks活用とパフォーマンス最適化\",\"level4\":\"複雑なアプリケーション設計\",\"level5\":\"ライブラリ開発とベストプラクティス\"}",
              "required_experience_months": 6,
              "related_skills": "[\"SKILL002\", \"SKILL003\", \"SKILL004\"]",
              "prerequisite_skills": "[\"SKILL_JS001\", \"SKILL_HTML001\"]",
              "certification_info": "{\"name\":\"React Developer Certification\",\"provider\":\"Meta\",\"url\":\"https://developers.facebook.com/certification/\"}",
              "learning_resources": "[\"https://reactjs.org/docs/\",\"https://react.dev/learn\",\"https://egghead.io/courses/react\"]",
              "market_demand": "HIGH",
              "technology_trend": "GROWING",
              "is_core_skill": true,
              "display_order": 1,
              "is_active": true,
              "effective_from": "2024-01-01",
              "effective_to": null
            },
            {
              "id": "SKILL002",
              "skill_name": "TypeScript",
              "skill_name_en": "TypeScript",
              "category_id": "CAT_FRONTEND",
              "skill_type": "TECHNICAL",
              "difficulty_level": 3,
              "description": "TypeScriptを使用した型安全なJavaScript開発スキル。型定義、ジェネリクス、高度な型操作が含まれます。",
              "evaluation_criteria": "{\"level1\":\"基本的な型定義\",\"level2\":\"インターフェースとクラス\",\"level3\":\"ジェネリクスと高度な型\",\"level4\":\"型レベルプログラミング\",\"level5\":\"ライブラリ型定義作成\"}",
              "required_experience_months": 4,
              "related_skills": "[\"SKILL001\", \"SKILL003\"]",
              "prerequisite_skills": "[\"SKILL_JS001\"]",
              "certification_info": null,
              "learning_resources": "[\"https://www.typescriptlang.org/docs/\",\"https://typescript-jp.gitbook.io/deep-dive/\"]",
              "market_demand": "VERY_HIGH",
              "technology_trend": "GROWING",
              "is_core_skill": true,
              "display_order": 2,
              "is_active": true,
              "effective_from": "2024-01-01",
              "effective_to": null
            },
            {
              "id": "SKILL003",
              "skill_name": "Node.js",
              "skill_name_en": "Node.js",
              "category_id": "CAT_BACKEND",
              "skill_type": "TECHNICAL",
              "difficulty_level": 3,
              "description": "Node.jsを使用したサーバーサイド開発スキル。非同期処理、API開発、パフォーマンス最適化が含まれます。",
              "evaluation_criteria": "{\"level1\":\"基本的なサーバー構築\",\"level2\":\"Express.jsでのAPI開発\",\"level3\":\"非同期処理とストリーム\",\"level4\":\"パフォーマンス最適化\",\"level5\":\"スケーラブルアーキテクチャ設計\"}",
              "required_experience_months": 8,
              "related_skills": "[\"SKILL001\", \"SKILL002\", \"SKILL004\"]",
              "prerequisite_skills": "[\"SKILL_JS001\"]",
              "certification_info": null,
              "learning_resources": "[\"https://nodejs.org/en/docs/\",\"https://expressjs.com/\",\"https://nodeschool.io/\"]",
              "market_demand": "HIGH",
              "technology_trend": "STABLE",
              "is_core_skill": true,
              "display_order": 1,
              "is_active": true,
              "effective_from": "2024-01-01",
              "effective_to": null
            }
          ],
          "notes": [
            "スキルIDは一意である必要がある",
            "スキル名は重複可能（異なるカテゴリで同名スキルが存在する場合）",
            "評価基準はJSON形式でレベル別に定義する",
            "関連スキルと前提スキルはJSON配列形式で管理",
            "学習リソースはURL一覧をJSON配列で管理",
            "有効期間を設定することで、廃止予定スキルの管理が可能",
            "論理削除は is_active フラグで管理",
            "スキルIDは「SKILL + 連番」形式で生成する",
            "新しいスキル追加時は適切なカテゴリに分類する",
            "評価基準は5段階で定義し、各レベルの説明を含める",
            "前提スキルは循環参照しないよう注意する",
            "市場需要と技術トレンドは定期的に見直しを行う",
            "コアスキルは組織戦略に基づいて設定する",
            "廃止予定のスキルは有効終了日を設定し、段階的に無効化する",
            "関連スキルの設定により、スキルマップの可視化を支援する"
          ],
          "rules": [
            "スキルIDは「SKILL + 連番」形式で生成する",
            "新しいスキル追加時は適切なカテゴリに分類する",
            "評価基準は5段階で定義し、各レベルの説明を含める",
            "前提スキルは循環参照しないよう注意する",
            "市場需要と技術トレンドは定期的に見直しを行う",
            "コアスキルは組織戦略に基づいて設定する",
            "廃止予定のスキルは有効終了日を設定し、段階的に無効化する",
            "関連スキルの設定により、スキルマップの可視化を支援する"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Skill_スキルマスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_SkillCategory",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SkillCategory",
          "logical_name": "スキルカテゴリマスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキルカテゴリマスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SkillCategory（スキルカテゴリマスタ）は、スキルの分類・カテゴリを管理するマスタテーブルです。\n\n主な目的：\n- スキルの体系的分類・階層管理\n- スキル検索・絞り込みの基盤\n- スキルマップ・スキル評価の構造化\n- 業界標準・企業独自のスキル分類対応\n- スキル統計・分析の軸設定\n- キャリアパス・研修計画の基盤\n- スキル可視化・レポート生成の支援\n\nこのテーブルは、スキル管理システムの基盤となり、\n効率的なスキル管理と戦略的人材育成を支援します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "category_code",
              "logical": "カテゴリコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "スキルカテゴリを一意に識別するコード（例：CAT001）",
              "validation": "^CAT[0-9]{3}$"
            },
            {
              "name": "category_name",
              "logical": "カテゴリ名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリの正式名称"
            },
            {
              "name": "category_level",
              "logical": "カテゴリレベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの階層レベル（1:最上位、数値が大きいほど下位）",
              "default": 1
            },
            {
              "name": "category_name_en",
              "logical": "カテゴリ名英語",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリの英語名称"
            },
            {
              "name": "category_name_short",
              "logical": "カテゴリ名略称",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリの略称・短縮名"
            },
            {
              "name": "category_path",
              "logical": "カテゴリパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ルートからのカテゴリパス（例：/技術/プログラミング/Java）"
            },
            {
              "name": "category_status",
              "logical": "カテゴリ状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの状態（ACTIVE:有効、INACTIVE:無効、DEPRECATED:非推奨）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "DEPRECATED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "category_type",
              "logical": "カテゴリ種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの種別（TECHNICAL:技術、BUSINESS:ビジネス、SOFT:ソフト、CERTIFICATION:資格、LANGUAGE:言語）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "SOFT",
                "CERTIFICATION",
                "LANGUAGE"
              ]
            },
            {
              "name": "color_code",
              "logical": "カラーコード",
              "type": "VARCHAR",
              "length": 7,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリ表示用カラーコード（#RRGGBB形式）",
              "validation": "^#[0-9A-Fa-f]{6}$"
            },
            {
              "name": "description",
              "logical": "カテゴリ説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの詳細説明・用途"
            },
            {
              "name": "display_order",
              "logical": "表示順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同階層内での表示順序",
              "default": 999
            },
            {
              "name": "effective_from",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの有効開始日"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリの有効終了日"
            },
            {
              "name": "evaluation_method",
              "logical": "評価方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このカテゴリのスキル評価方法（LEVEL:レベル、SCORE:スコア、BINARY:有無、CERTIFICATION:資格）",
              "enum_values": [
                "LEVEL",
                "SCORE",
                "BINARY",
                "CERTIFICATION"
              ]
            },
            {
              "name": "icon_url",
              "logical": "アイコンURL",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "カテゴリ表示用アイコンのURL"
            },
            {
              "name": "is_leaf_category",
              "logical": "末端カテゴリフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "末端カテゴリ（子カテゴリを持たない）かどうか",
              "default": true
            },
            {
              "name": "is_popular",
              "logical": "人気カテゴリフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "人気・注目カテゴリかどうか",
              "default": false
            },
            {
              "name": "is_system_category",
              "logical": "システムカテゴリフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システム標準カテゴリかどうか（削除・変更不可）",
              "default": false
            },
            {
              "name": "max_level",
              "logical": "最大レベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レベル評価時の最大レベル数"
            },
            {
              "name": "parent_category_id",
              "logical": "親カテゴリID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上位カテゴリのID（MST_SkillCategoryへの自己参照外部キー）"
            },
            {
              "name": "skill_count",
              "logical": "スキル数",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このカテゴリに属するスキル数",
              "default": 0
            },
            {
              "name": "skillcategory_id",
              "logical": "MST_SkillCategoryの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SkillCategoryの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_category_code",
              "columns": [
                "category_code"
              ],
              "unique": true,
              "description": "カテゴリコード検索用（一意）"
            },
            {
              "name": "idx_category_type",
              "columns": [
                "category_type"
              ],
              "unique": false,
              "description": "カテゴリ種別検索用"
            },
            {
              "name": "idx_parent_category",
              "columns": [
                "parent_category_id"
              ],
              "unique": false,
              "description": "親カテゴリ別検索用"
            },
            {
              "name": "idx_category_level",
              "columns": [
                "category_level"
              ],
              "unique": false,
              "description": "カテゴリレベル別検索用"
            },
            {
              "name": "idx_category_path",
              "columns": [
                "category_path"
              ],
              "unique": false,
              "description": "カテゴリパス検索用"
            },
            {
              "name": "idx_system_category",
              "columns": [
                "is_system_category"
              ],
              "unique": false,
              "description": "システムカテゴリ検索用"
            },
            {
              "name": "idx_leaf_category",
              "columns": [
                "is_leaf_category"
              ],
              "unique": false,
              "description": "末端カテゴリ検索用"
            },
            {
              "name": "idx_category_status",
              "columns": [
                "category_status"
              ],
              "unique": false,
              "description": "カテゴリ状態別検索用"
            },
            {
              "name": "idx_display_order",
              "columns": [
                "parent_category_id",
                "display_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_popular_category",
              "columns": [
                "is_popular"
              ],
              "unique": false,
              "description": "人気カテゴリ検索用"
            },
            {
              "name": "idx_mst_skillcategory_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_category_code",
              "type": "UNIQUE",
              "description": "カテゴリコード一意制約",
              "columns": [
                [
                  "category_code"
                ]
              ]
            },
            {
              "name": "chk_category_type",
              "type": "CHECK",
              "description": "カテゴリ種別値チェック制約",
              "condition": "category_type IN ('TECHNICAL', 'BUSINESS', 'SOFT', 'CERTIFICATION', 'LANGUAGE')"
            },
            {
              "name": "chk_category_status",
              "type": "CHECK",
              "description": "カテゴリ状態値チェック制約",
              "condition": "category_status IN ('ACTIVE', 'INACTIVE', 'DEPRECATED')"
            },
            {
              "name": "chk_evaluation_method",
              "type": "CHECK",
              "description": "評価方法値チェック制約",
              "condition": "evaluation_method IS NULL OR evaluation_method IN ('LEVEL', 'SCORE', 'BINARY', 'CERTIFICATION')"
            },
            {
              "name": "chk_category_level",
              "type": "CHECK",
              "description": "カテゴリレベル正値チェック制約",
              "condition": "category_level > 0"
            },
            {
              "name": "chk_max_level",
              "type": "CHECK",
              "description": "最大レベル正値チェック制約",
              "condition": "max_level IS NULL OR max_level > 0"
            },
            {
              "name": "chk_skill_count",
              "type": "CHECK",
              "description": "スキル数非負値チェック制約",
              "condition": "skill_count >= 0"
            },
            {
              "name": "chk_display_order",
              "type": "CHECK",
              "description": "表示順序非負値チェック制約",
              "condition": "display_order >= 0"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from IS NULL OR effective_from <= effective_to"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_skillcategory_parent",
              "columns": [
                "parent_category_id"
              ],
              "references": {
                "table": "MST_SkillCategory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "category_code": "CAT001",
              "category_name": "プログラミング言語",
              "category_name_short": "プログラミング",
              "category_name_en": "Programming Languages",
              "category_type": "TECHNICAL",
              "parent_category_id": null,
              "category_level": 1,
              "category_path": "/プログラミング言語",
              "is_system_category": true,
              "is_leaf_category": false,
              "skill_count": 25,
              "evaluation_method": "LEVEL",
              "max_level": 5,
              "icon_url": "/icons/programming.svg",
              "color_code": "#007ACC",
              "display_order": 1,
              "is_popular": true,
              "category_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "description": "各種プログラミング言語のスキル"
            },
            {
              "category_code": "CAT002",
              "category_name": "Java",
              "category_name_short": "Java",
              "category_name_en": "Java",
              "category_type": "TECHNICAL",
              "parent_category_id": "CAT001",
              "category_level": 2,
              "category_path": "/プログラミング言語/Java",
              "is_system_category": true,
              "is_leaf_category": true,
              "skill_count": 8,
              "evaluation_method": "LEVEL",
              "max_level": 5,
              "icon_url": "/icons/java.svg",
              "color_code": "#ED8B00",
              "display_order": 1,
              "is_popular": true,
              "category_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "description": "Java言語に関するスキル"
            },
            {
              "category_code": "CAT003",
              "category_name": "コミュニケーション",
              "category_name_short": "コミュニケーション",
              "category_name_en": "Communication",
              "category_type": "SOFT",
              "parent_category_id": null,
              "category_level": 1,
              "category_path": "/コミュニケーション",
              "is_system_category": true,
              "is_leaf_category": true,
              "skill_count": 12,
              "evaluation_method": "LEVEL",
              "max_level": 4,
              "icon_url": "/icons/communication.svg",
              "color_code": "#28A745",
              "display_order": 10,
              "is_popular": true,
              "category_status": "ACTIVE",
              "effective_from": "2025-01-01",
              "effective_to": null,
              "description": "コミュニケーション能力に関するスキル"
            }
          ],
          "notes": [
            "カテゴリ階層は自己参照外部キーで表現",
            "システムカテゴリは削除・変更不可",
            "カテゴリパスで階層構造を可視化",
            "評価方法はカテゴリ単位で設定可能",
            "アイコン・カラーコードで視覚的識別",
            "人気カテゴリフラグで注目度管理",
            "カテゴリコードは新設時に自動採番（CAT + 3桁連番）",
            "システムカテゴリは is_system_category = true で保護",
            "親カテゴリが無効化される場合は子カテゴリも無効化",
            "末端カテゴリのみにスキルを直接紐付け可能",
            "カテゴリパスは親カテゴリ変更時に自動更新",
            "スキル数は関連スキルの増減時に自動更新",
            "有効期間外のカテゴリは自動的に無効化"
          ],
          "rules": [
            "カテゴリコードは新設時に自動採番（CAT + 3桁連番）",
            "システムカテゴリは is_system_category = true で保護",
            "親カテゴリが無効化される場合は子カテゴリも無効化",
            "末端カテゴリのみにスキルを直接紐付け可能",
            "カテゴリパスは親カテゴリ変更時に自動更新",
            "スキル数は関連スキルの増減時に自動更新",
            "有効期間外のカテゴリは自動的に無効化"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SkillCategory_スキルカテゴリマスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_SkillGrade",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SkillGrade",
          "logical_name": "スキルグレードマスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキルグレードマスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SkillGrade（スキルグレードマスタ）は、スキルの習熟度レベルを定義・管理するマスタテーブルです。\n\n主な目的：\n- スキル習熟度の標準化・統一\n- スキル評価基準の明確化\n- 職種別スキル要件の定義基盤\n- スキル成長パスの可視化\n- 人材育成計画の策定支援\n\nこのテーブルにより、組織全体で統一されたスキル評価基準を確立し、\n社員のスキル開発と適切な人材配置を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "grade_code",
              "logical": "グレードコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "スキルグレードを一意に識別するコード（例：BEGINNER、INTERMEDIATE、ADVANCED、EXPERT）",
              "validation": "^[A-Z_]+$"
            },
            {
              "name": "grade_name",
              "logical": "グレード名",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードの名称"
            },
            {
              "name": "certification_requirements",
              "logical": "資格要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード認定に必要な資格（JSON形式）"
            },
            {
              "name": "color_code",
              "logical": "表示色コード",
              "type": "VARCHAR",
              "length": 7,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "UI表示用の色コード（例：#FF0000）",
              "validation": "^#[0-9A-Fa-f]{6}$"
            },
            {
              "name": "competency_requirements",
              "logical": "能力要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレードに求められる能力・知識要件（JSON形式）"
            },
            {
              "name": "description",
              "logical": "グレード説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードの詳細説明・到達基準"
            },
            {
              "name": "evaluation_criteria",
              "logical": "評価基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード判定のための具体的な評価基準"
            },
            {
              "name": "grade_level",
              "logical": "グレードレベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "グレードの数値レベル（1:初級、2:中級、3:上級、4:専門、5:エキスパート）",
              "validation": "1 <= grade_level <= 5"
            },
            {
              "name": "grade_name_short",
              "logical": "グレード名（短縮）",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "表示用の短縮名称（例：初級、中級、上級、専門）"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレードが有効かどうか",
              "default": true
            },
            {
              "name": "leadership_level",
              "logical": "リーダーシップレベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "発揮できるリーダーシップレベル（NONE:なし、TEAM:チーム、PROJECT:プロジェクト、ORGANIZATION:組織）",
              "enum_values": [
                "NONE",
                "TEAM",
                "PROJECT",
                "ORGANIZATION"
              ]
            },
            {
              "name": "mentoring_capability",
              "logical": "指導能力",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "他者への指導・メンタリング能力があるか",
              "default": false
            },
            {
              "name": "project_complexity",
              "logical": "プロジェクト複雑度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "担当可能なプロジェクトの複雑度（SIMPLE:単純、MODERATE:中程度、COMPLEX:複雑、CRITICAL:重要）",
              "enum_values": [
                "SIMPLE",
                "MODERATE",
                "COMPLEX",
                "CRITICAL"
              ]
            },
            {
              "name": "promotion_eligibility",
              "logical": "昇進資格",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "昇進要件として考慮されるグレードか",
              "default": false
            },
            {
              "name": "required_experience_months",
              "logical": "必要経験期間（月）",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード到達に必要な経験期間の目安（月数）"
            },
            {
              "name": "salary_impact_factor",
              "logical": "給与影響係数",
              "type": "DECIMAL",
              "length": "3,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "給与計算への影響係数（1.0を基準とした倍率）"
            },
            {
              "name": "skill_indicators",
              "logical": "スキル指標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード判定のためのスキル指標（JSON形式）"
            },
            {
              "name": "skillgrade_id",
              "logical": "MST_SkillGradeの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SkillGradeの主キー",
              "default": null
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード一覧での表示順序",
              "default": 0
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_grade_code",
              "columns": [
                "grade_code"
              ],
              "unique": true,
              "description": "グレードコード検索用（一意）"
            },
            {
              "name": "idx_grade_level",
              "columns": [
                "grade_level"
              ],
              "unique": true,
              "description": "グレードレベル検索用（一意）"
            },
            {
              "name": "idx_grade_name",
              "columns": [
                "grade_name"
              ],
              "unique": false,
              "description": "グレード名検索用"
            },
            {
              "name": "idx_mentoring",
              "columns": [
                "mentoring_capability",
                "is_active"
              ],
              "unique": false,
              "description": "指導能力検索用"
            },
            {
              "name": "idx_promotion",
              "columns": [
                "promotion_eligibility",
                "is_active"
              ],
              "unique": false,
              "description": "昇進資格検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_skillgrade_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_grade_code",
              "type": "UNIQUE",
              "description": "グレードコード一意制約",
              "columns": [
                [
                  "grade_code"
                ]
              ]
            },
            {
              "name": "uk_grade_level",
              "type": "UNIQUE",
              "description": "グレードレベル一意制約",
              "columns": [
                [
                  "grade_level"
                ]
              ]
            },
            {
              "name": "chk_grade_level",
              "type": "CHECK",
              "description": "グレードレベル範囲チェック制約",
              "condition": "grade_level >= 1 AND grade_level <= 5"
            },
            {
              "name": "chk_project_complexity",
              "type": "CHECK",
              "description": "プロジェクト複雑度値チェック制約",
              "condition": "project_complexity IN ('SIMPLE', 'MODERATE', 'COMPLEX', 'CRITICAL')"
            },
            {
              "name": "chk_leadership_level",
              "type": "CHECK",
              "description": "リーダーシップレベル値チェック制約",
              "condition": "leadership_level IN ('NONE', 'TEAM', 'PROJECT', 'ORGANIZATION')"
            },
            {
              "name": "chk_experience_months",
              "type": "CHECK",
              "description": "必要経験期間非負数チェック制約",
              "condition": "required_experience_months IS NULL OR required_experience_months >= 0"
            },
            {
              "name": "chk_salary_factor",
              "type": "CHECK",
              "description": "給与影響係数正数チェック制約",
              "condition": "salary_impact_factor IS NULL OR salary_impact_factor > 0"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "grade_code": "BEGINNER",
              "grade_name": "初級",
              "grade_name_short": "初級",
              "grade_level": 1,
              "description": "基本的な知識を持ち、指導の下で業務を遂行できるレベル",
              "evaluation_criteria": "基本概念の理解、簡単なタスクの実行、指導者のサポートが必要",
              "required_experience_months": 6,
              "skill_indicators": "[\"基本知識\", \"指導下での作業\", \"学習意欲\"]",
              "competency_requirements": "[\"基礎理論の理解\", \"基本操作の習得\"]",
              "certification_requirements": "[]",
              "project_complexity": "SIMPLE",
              "mentoring_capability": false,
              "leadership_level": "NONE",
              "salary_impact_factor": 1.0,
              "promotion_eligibility": false,
              "color_code": "#90EE90",
              "sort_order": 1,
              "is_active": true
            },
            {
              "grade_code": "INTERMEDIATE",
              "grade_name": "中級",
              "grade_name_short": "中級",
              "grade_level": 2,
              "description": "一般的な業務を独立して遂行でき、部分的に他者を指導できるレベル",
              "evaluation_criteria": "独立した作業遂行、問題解決能力、基本的な指導スキル",
              "required_experience_months": 18,
              "skill_indicators": "[\"独立作業\", \"問題解決\", \"基本指導\"]",
              "competency_requirements": "[\"実践的スキル\", \"問題分析能力\", \"コミュニケーション能力\"]",
              "certification_requirements": "[\"基本情報技術者\"]",
              "project_complexity": "MODERATE",
              "mentoring_capability": true,
              "leadership_level": "TEAM",
              "salary_impact_factor": 1.2,
              "promotion_eligibility": true,
              "color_code": "#FFD700",
              "sort_order": 2,
              "is_active": true
            },
            {
              "grade_code": "ADVANCED",
              "grade_name": "上級",
              "grade_name_short": "上級",
              "grade_level": 3,
              "description": "複雑な業務をリードし、チーム全体の技術指導ができるレベル",
              "evaluation_criteria": "高度な技術力、リーダーシップ、戦略的思考",
              "required_experience_months": 36,
              "skill_indicators": "[\"高度技術\", \"リーダーシップ\", \"戦略思考\"]",
              "competency_requirements": "[\"専門技術\", \"チーム管理\", \"技術戦略立案\"]",
              "certification_requirements": "[\"応用情報技術者\", \"専門資格\"]",
              "project_complexity": "COMPLEX",
              "mentoring_capability": true,
              "leadership_level": "PROJECT",
              "salary_impact_factor": 1.5,
              "promotion_eligibility": true,
              "color_code": "#FF8C00",
              "sort_order": 3,
              "is_active": true
            },
            {
              "grade_code": "EXPERT",
              "grade_name": "専門家",
              "grade_name_short": "専門",
              "grade_level": 4,
              "description": "組織全体の技術方針に影響を与え、業界レベルでの専門性を持つレベル",
              "evaluation_criteria": "業界専門性、組織への影響力、イノベーション創出",
              "required_experience_months": 60,
              "skill_indicators": "[\"業界専門性\", \"組織影響力\", \"イノベーション\"]",
              "competency_requirements": "[\"業界知識\", \"組織運営\", \"技術革新\"]",
              "certification_requirements": "[\"高度情報技術者\", \"業界認定資格\"]",
              "project_complexity": "CRITICAL",
              "mentoring_capability": true,
              "leadership_level": "ORGANIZATION",
              "salary_impact_factor": 2.0,
              "promotion_eligibility": true,
              "color_code": "#DC143C",
              "sort_order": 4,
              "is_active": true
            }
          ],
          "notes": [
            "グレードレベルは1-5の範囲で一意である必要がある",
            "スキル指標・能力要件・資格要件はJSON形式で柔軟に管理",
            "給与影響係数は人事制度との連携で使用",
            "色コードはUI表示でのグレード識別に使用",
            "昇進資格フラグは人事評価との連携で使用",
            "論理削除は is_active フラグで管理",
            "グレードコードは英大文字・アンダースコアのみ使用可能",
            "グレードレベルは昇順で連続した値を設定",
            "必要経験期間はグレードレベルに比例して設定",
            "指導能力は中級以上で true に設定",
            "リーダーシップレベルはグレードレベルと整合性を保つ",
            "給与影響係数はグレードレベルに応じて段階的に設定",
            "昇進資格は中級以上で考慮対象とする"
          ],
          "rules": [
            "グレードコードは英大文字・アンダースコアのみ使用可能",
            "グレードレベルは昇順で連続した値を設定",
            "必要経験期間はグレードレベルに比例して設定",
            "指導能力は中級以上で true に設定",
            "リーダーシップレベルはグレードレベルと整合性を保つ",
            "給与影響係数はグレードレベルに応じて段階的に設定",
            "昇進資格は中級以上で考慮対象とする"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SkillGrade_スキルグレードマスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_SkillGradeRequirement",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SkillGradeRequirement",
          "logical_name": "スキルグレード要件",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキルグレード要件テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SkillGradeRequirement（スキルグレード要件）は、スキルグレードごとの詳細要件を管理するマスタテーブルです。\n\n主な目的：\n- スキルグレード別の詳細要件定義\n- 昇格基準の明確化\n- 評価項目の標準化\n- 学習目標の設定\n- 能力開発計画の基礎データ\n- 人材評価の客観化\n\nこのテーブルにより、各スキルグレードに求められる具体的な要件を明確に定義し、\n公正で透明性の高い人材評価・育成システムを構築できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "assessment_frequency",
              "logical": "評価頻度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価頻度（ANNUAL:年次、SEMI_ANNUAL:半年、QUARTERLY:四半期、ON_DEMAND:随時）",
              "enum_values": [
                "ANNUAL",
                "SEMI_ANNUAL",
                "QUARTERLY",
                "ON_DEMAND"
              ],
              "default": "ANNUAL"
            },
            {
              "name": "assessment_method",
              "logical": "評価方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価方法（EXAM:試験、PORTFOLIO:ポートフォリオ、INTERVIEW:面接、PROJECT:プロジェクト、PEER_REVIEW:同僚評価）",
              "enum_values": [
                "EXAM",
                "PORTFOLIO",
                "INTERVIEW",
                "PROJECT",
                "PEER_REVIEW"
              ]
            },
            {
              "name": "certification_mapping",
              "logical": "資格マッピング",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する外部資格・認定のマッピング（JSON形式）"
            },
            {
              "name": "effective_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の有効開始日"
            },
            {
              "name": "evaluation_criteria",
              "logical": "評価基準",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "具体的な評価基準・判定方法"
            },
            {
              "name": "evidence_requirements",
              "logical": "エビデンス要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価に必要なエビデンス・証拠"
            },
            {
              "name": "expiry_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の有効終了日（NULL:無期限）"
            },
            {
              "name": "learning_resources",
              "logical": "学習リソース",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "推奨学習リソース・教材（JSON形式）"
            },
            {
              "name": "minimum_score",
              "logical": "最低スコア",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "合格に必要な最低スコア"
            },
            {
              "name": "prerequisite_requirements",
              "logical": "前提要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "前提となる要件のリスト（JSON形式）"
            },
            {
              "name": "proficiency_level",
              "logical": "習熟度レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要求される習熟度レベル（1-5、5が最高）"
            },
            {
              "name": "requirement_category",
              "logical": "要件カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件カテゴリ（TECHNICAL:技術、BUSINESS:業務、LEADERSHIP:リーダーシップ、COMMUNICATION:コミュニケーション）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "LEADERSHIP",
                "COMMUNICATION"
              ]
            },
            {
              "name": "requirement_description",
              "logical": "要件説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の詳細説明"
            },
            {
              "name": "requirement_name",
              "logical": "要件名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件の名称"
            },
            {
              "name": "requirement_status",
              "logical": "要件状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件状況（ACTIVE:有効、DEPRECATED:非推奨、OBSOLETE:廃止）",
              "enum_values": [
                "ACTIVE",
                "DEPRECATED",
                "OBSOLETE"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "revision_notes",
              "logical": "改版備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "要件変更時の備考・理由"
            },
            {
              "name": "skill_grade_id",
              "logical": "スキルグレードID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードのID（MST_SkillGradeへの外部キー）"
            },
            {
              "name": "skillgraderequirement_id",
              "logical": "MST_SkillGradeRequirementの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SkillGradeRequirementの主キー",
              "default": null
            },
            {
              "name": "validity_period",
              "logical": "有効期間",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価結果の有効期間（月数）"
            },
            {
              "name": "weight_percentage",
              "logical": "重み比率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "グレード内での重み比率（%）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_MST_SkillGradeRequirement_skill_grade_id",
              "columns": [
                "skill_grade_id"
              ],
              "unique": false,
              "description": "スキルグレードID検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_category",
              "columns": [
                "requirement_category"
              ],
              "unique": false,
              "description": "要件カテゴリ別検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_grade_category",
              "columns": [
                "skill_grade_id",
                "requirement_category"
              ],
              "unique": false,
              "description": "グレード・カテゴリ複合検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_proficiency_level",
              "columns": [
                "proficiency_level"
              ],
              "unique": false,
              "description": "習熟度レベル別検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_assessment_method",
              "columns": [
                "assessment_method"
              ],
              "unique": false,
              "description": "評価方法別検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_status",
              "columns": [
                "requirement_status"
              ],
              "unique": false,
              "description": "要件状況別検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_effective_date",
              "columns": [
                "effective_date"
              ],
              "unique": false,
              "description": "有効開始日検索用"
            },
            {
              "name": "idx_MST_SkillGradeRequirement_weight",
              "columns": [
                "weight_percentage"
              ],
              "unique": false,
              "description": "重み比率別検索用"
            },
            {
              "name": "idx_mst_skillgraderequirement_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_MST_SkillGradeRequirement_grade_name",
              "type": "UNIQUE",
              "description": "グレード・要件名一意制約",
              "columns": [
                [
                  "skill_grade_id"
                ],
                [
                  "requirement_name"
                ]
              ]
            },
            {
              "name": "chk_MST_SkillGradeRequirement_category",
              "type": "CHECK",
              "description": "要件カテゴリ値チェック制約",
              "condition": "requirement_category IN ('TECHNICAL', 'BUSINESS', 'LEADERSHIP', 'COMMUNICATION')"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_proficiency_level",
              "type": "CHECK",
              "description": "習熟度レベル範囲チェック制約",
              "condition": "proficiency_level >= 1 AND proficiency_level <= 5"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_weight_percentage",
              "type": "CHECK",
              "description": "重み比率範囲チェック制約",
              "condition": "weight_percentage >= 0 AND weight_percentage <= 100"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_minimum_score",
              "type": "CHECK",
              "description": "最低スコア範囲チェック制約",
              "condition": "minimum_score IS NULL OR (minimum_score >= 0 AND minimum_score <= 100)"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_assessment_method",
              "type": "CHECK",
              "description": "評価方法値チェック制約",
              "condition": "assessment_method IN ('EXAM', 'PORTFOLIO', 'INTERVIEW', 'PROJECT', 'PEER_REVIEW')"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_assessment_frequency",
              "type": "CHECK",
              "description": "評価頻度値チェック制約",
              "condition": "assessment_frequency IN ('ANNUAL', 'SEMI_ANNUAL', 'QUARTERLY', 'ON_DEMAND')"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_status",
              "type": "CHECK",
              "description": "要件状況値チェック制約",
              "condition": "requirement_status IN ('ACTIVE', 'DEPRECATED', 'OBSOLETE')"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_validity_period",
              "type": "CHECK",
              "description": "有効期間正値チェック制約",
              "condition": "validity_period IS NULL OR validity_period > 0"
            },
            {
              "name": "chk_MST_SkillGradeRequirement_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "expiry_date IS NULL OR effective_date <= expiry_date"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_MST_SkillGradeRequirement_skill_grade",
              "columns": [
                "skill_grade_id"
              ],
              "references": {
                "table": "MST_SkillGrade",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "skill_grade_id": "GRADE001",
              "requirement_category": "TECHNICAL",
              "requirement_name": "プログラミング基礎",
              "requirement_description": "基本的なプログラミング言語の理解と簡単なプログラムの作成能力",
              "evaluation_criteria": "指定された仕様に基づく簡単なプログラムの作成、基本的なアルゴリズムの理解",
              "proficiency_level": 2,
              "weight_percentage": 30.0,
              "minimum_score": 70.0,
              "evidence_requirements": "作成したプログラムのソースコード、動作確認結果",
              "learning_resources": "[\"プログラミング入門書\", \"オンライン学習サイト\", \"基礎研修\"]",
              "prerequisite_requirements": "[\"コンピュータ基礎知識\"]",
              "assessment_method": "PROJECT",
              "assessment_frequency": "SEMI_ANNUAL",
              "validity_period": 24,
              "certification_mapping": "[\"基本情報技術者試験\"]",
              "requirement_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "revision_notes": "初版作成"
            },
            {
              "skill_grade_id": "GRADE001",
              "requirement_category": "BUSINESS",
              "requirement_name": "業務理解",
              "requirement_description": "担当業務の基本的な理解と顧客要件の把握能力",
              "evaluation_criteria": "業務フローの説明、顧客要件の整理と文書化",
              "proficiency_level": 2,
              "weight_percentage": 25.0,
              "minimum_score": 75.0,
              "evidence_requirements": "業務分析レポート、要件定義書",
              "learning_resources": "[\"業務知識研修\", \"業界動向資料\", \"先輩社員からのOJT\"]",
              "prerequisite_requirements": null,
              "assessment_method": "PORTFOLIO",
              "assessment_frequency": "ANNUAL",
              "validity_period": 12,
              "certification_mapping": null,
              "requirement_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "revision_notes": "初版作成"
            },
            {
              "skill_grade_id": "GRADE003",
              "requirement_category": "LEADERSHIP",
              "requirement_name": "チームマネジメント",
              "requirement_description": "チームの運営管理と成果創出のためのリーダーシップ能力",
              "evaluation_criteria": "チーム運営実績、メンバー育成成果、プロジェクト成功率",
              "proficiency_level": 4,
              "weight_percentage": 35.0,
              "minimum_score": 80.0,
              "evidence_requirements": "チーム運営レポート、メンバー評価、プロジェクト成果物",
              "learning_resources": "[\"リーダーシップ研修\", \"マネジメント書籍\", \"外部セミナー\"]",
              "prerequisite_requirements": "[\"チームリーダー経験\", \"プロジェクト管理経験\"]",
              "assessment_method": "PEER_REVIEW",
              "assessment_frequency": "ANNUAL",
              "validity_period": 36,
              "certification_mapping": "[\"PMP\", \"プロジェクトマネージャ試験\"]",
              "requirement_status": "ACTIVE",
              "effective_date": "2025-01-01",
              "expiry_date": null,
              "revision_notes": "初版作成"
            }
          ],
          "notes": [
            "スキルグレード内での要件名は一意",
            "重み比率の合計はグレード内で100%となるよう運用で管理",
            "習熟度レベルは1-5の5段階評価",
            "学習リソース・前提要件・資格マッピングはJSON形式で管理",
            "有効期限により時期に応じた要件変更に対応",
            "論理削除は is_deleted フラグで管理",
            "評価結果の有効期間により再評価タイミングを管理",
            "TECHNICAL要件は技術的能力を評価",
            "BUSINESS要件は業務遂行能力を評価",
            "LEADERSHIP要件は指導・管理能力を評価",
            "COMMUNICATION要件はコミュニケーション能力を評価",
            "習熟度レベル4以上は上級者レベル",
            "習熟度レベル3は中級者レベル",
            "習熟度レベル1-2は初級者レベル",
            "最低スコア未満は不合格",
            "前提要件を満たさない場合は評価対象外",
            "有効期限切れの要件は自動的に無効化",
            "評価結果は有効期間内で有効"
          ],
          "rules": [
            "TECHNICAL要件は技術的能力を評価",
            "BUSINESS要件は業務遂行能力を評価",
            "LEADERSHIP要件は指導・管理能力を評価",
            "COMMUNICATION要件はコミュニケーション能力を評価",
            "習熟度レベル4以上は上級者レベル",
            "習熟度レベル3は中級者レベル",
            "習熟度レベル1-2は初級者レベル",
            "最低スコア未満は不合格",
            "前提要件を満たさない場合は評価対象外",
            "有効期限切れの要件は自動的に無効化",
            "評価結果は有効期間内で有効"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SkillGradeRequirement_スキルグレード要件.md"
        ]
      }
    },
    {
      "table_name": "MST_SkillHierarchy",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SkillHierarchy",
          "logical_name": "スキル階層マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキル階層マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SkillHierarchy（スキル階層マスタ）は、スキル項目間の階層関係を管理するマスタテーブルです。\n\n主な目的：\n- スキルの親子関係・階層構造の管理\n- スキル分類の体系化（大分類→中分類→小分類）\n- スキル検索・フィルタリングの基盤提供\n- スキルマップ・スキルツリーの表示支援\n- 関連スキルの推薦機能の基盤\n\nこのテーブルにより、技術スキル、ビジネススキル、資格等を体系的に分類し、\n社員のスキル管理を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "description",
              "logical": "説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル階層の詳細説明"
            },
            {
              "name": "hierarchy_level",
              "logical": "階層レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "階層の深さ（1:大分類、2:中分類、3:小分類、最大5階層まで）",
              "validation": "1 <= hierarchy_level <= 5"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "階層が有効かどうか",
              "default": true
            },
            {
              "name": "is_leaf",
              "logical": "末端フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "末端ノード（子を持たない）かどうか",
              "default": true
            },
            {
              "name": "parent_skill_id",
              "logical": "親スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "親スキルのID（MST_SkillHierarchyへの自己参照外部キー、NULLの場合はルートスキル）"
            },
            {
              "name": "skill_category",
              "logical": "スキルカテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの大分類（TECHNICAL:技術、BUSINESS:ビジネス、CERTIFICATION:資格、SOFT:ソフトスキル）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "CERTIFICATION",
                "SOFT"
              ]
            },
            {
              "name": "skill_id",
              "logical": "スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル項目のID（MST_SkillItemへの外部キー）"
            },
            {
              "name": "skill_path",
              "logical": "スキルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ルートからのスキルパス（例：/技術スキル/プログラミング/Java）"
            },
            {
              "name": "skillhierarchy_id",
              "logical": "MST_SkillHierarchyの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SkillHierarchyの主キー",
              "default": null
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同一階層内での表示順序",
              "default": 0
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_skill_id",
              "columns": [
                "skill_id"
              ],
              "unique": false,
              "description": "スキルID検索用"
            },
            {
              "name": "idx_parent_skill",
              "columns": [
                "parent_skill_id"
              ],
              "unique": false,
              "description": "親スキル検索用"
            },
            {
              "name": "idx_hierarchy_level",
              "columns": [
                "hierarchy_level"
              ],
              "unique": false,
              "description": "階層レベル検索用"
            },
            {
              "name": "idx_skill_path",
              "columns": [
                "skill_path"
              ],
              "unique": false,
              "description": "スキルパス検索用"
            },
            {
              "name": "idx_category_level",
              "columns": [
                "skill_category",
                "hierarchy_level"
              ],
              "unique": false,
              "description": "カテゴリ別階層検索用"
            },
            {
              "name": "idx_parent_sort",
              "columns": [
                "parent_skill_id",
                "sort_order"
              ],
              "unique": false,
              "description": "親スキル内での順序検索用"
            },
            {
              "name": "idx_mst_skillhierarchy_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_skill_hierarchy",
              "type": "UNIQUE",
              "description": "スキルと親スキルの組み合わせ一意制約",
              "columns": [
                [
                  "skill_id"
                ],
                [
                  "parent_skill_id"
                ]
              ]
            },
            {
              "name": "chk_hierarchy_level",
              "type": "CHECK",
              "description": "階層レベル範囲チェック制約",
              "condition": "hierarchy_level >= 1 AND hierarchy_level <= 5"
            },
            {
              "name": "chk_skill_category",
              "type": "CHECK",
              "description": "スキルカテゴリ値チェック制約",
              "condition": "skill_category IN ('TECHNICAL', 'BUSINESS', 'CERTIFICATION', 'SOFT')"
            },
            {
              "name": "chk_no_self_reference",
              "type": "CHECK",
              "description": "自己参照防止制約",
              "condition": "skill_id != parent_skill_id"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_hierarchy_skill",
              "columns": [
                "skill_id"
              ],
              "references": {
                "table": "MST_SkillItem",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_hierarchy_parent",
              "columns": [
                "parent_skill_id"
              ],
              "references": {
                "table": "MST_SkillHierarchy",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "skill_id": "SKILL_TECH_001",
              "parent_skill_id": null,
              "hierarchy_level": 1,
              "skill_path": "/技術スキル",
              "sort_order": 1,
              "is_leaf": false,
              "skill_category": "TECHNICAL",
              "description": "技術系スキルの大分類",
              "is_active": true
            },
            {
              "skill_id": "SKILL_PROG_001",
              "parent_skill_id": "SKILL_TECH_001",
              "hierarchy_level": 2,
              "skill_path": "/技術スキル/プログラミング",
              "sort_order": 1,
              "is_leaf": false,
              "skill_category": "TECHNICAL",
              "description": "プログラミング言語・技術",
              "is_active": true
            },
            {
              "skill_id": "SKILL_JAVA_001",
              "parent_skill_id": "SKILL_PROG_001",
              "hierarchy_level": 3,
              "skill_path": "/技術スキル/プログラミング/Java",
              "sort_order": 1,
              "is_leaf": true,
              "skill_category": "TECHNICAL",
              "description": "Java言語でのプログラミングスキル",
              "is_active": true
            }
          ],
          "notes": [
            "階層の最大深度は5階層まで制限",
            "循環参照を防ぐため、自己参照チェック制約を設定",
            "スキルパスは検索・表示用に事前計算して格納",
            "is_leafフラグは子ノード追加時に自動更新",
            "論理削除は is_active フラグで管理",
            "階層変更時は関連する子ノードのパス更新が必要",
            "ルートスキル（parent_skill_id = NULL）は各カテゴリに1つまで",
            "階層レベルは親の階層レベル + 1 である必要がある",
            "スキルパスは親のパス + '/' + 自スキル名で構成",
            "子ノードが存在する場合、is_leaf = false に自動更新",
            "階層削除時は子ノードも含めて論理削除",
            "同一親内での表示順序は重複可能だが、連番推奨",
            "スキルカテゴリは階層全体で統一する必要がある"
          ],
          "rules": [
            "ルートスキル（parent_skill_id = NULL）は各カテゴリに1つまで",
            "階層レベルは親の階層レベル + 1 である必要がある",
            "スキルパスは親のパス + '/' + 自スキル名で構成",
            "子ノードが存在する場合、is_leaf = false に自動更新",
            "階層削除時は子ノードも含めて論理削除",
            "同一親内での表示順序は重複可能だが、連番推奨",
            "スキルカテゴリは階層全体で統一する必要がある"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SkillHierarchy_スキル階層マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_SkillItem",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SkillItem",
          "logical_name": "スキル項目マスタ",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキル項目マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SkillItem（スキル項目マスタ）は、組織で管理・評価対象となるスキル項目の詳細情報を管理するマスタテーブルです。\n\n主な目的：\n- スキル項目の体系的管理（技術スキル、ビジネススキル、資格等）\n- スキル評価基準の標準化（レベル定義、評価指標等）\n- スキルカテゴリ・分類の階層管理\n- 人材育成計画・研修プログラムの基盤\n- プロジェクトアサインメント・スキルマッチングの基礎\n- 組織スキル分析・可視化の基盤\n- 外部資格・認定との連携管理\n\nこのテーブルは、人材のスキル管理、キャリア開発、組織能力分析など、\n戦略的人材マネジメントの基盤となる重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "skill_code",
              "logical": "スキルコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "スキル項目を一意に識別するコード（例：SKILL001）"
            },
            {
              "name": "skill_name",
              "logical": "スキル名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル項目の正式名称"
            },
            {
              "name": "difficulty_level",
              "logical": "習得難易度",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル習得の難易度（1-5段階）"
            },
            {
              "name": "importance_level",
              "logical": "重要度",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "組織における重要度（1-5段階）"
            },
            {
              "name": "skill_category_id",
              "logical": "スキルカテゴリID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリのID"
            },
            {
              "name": "skill_type",
              "logical": "スキル種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの種別（TECHNICAL:技術、BUSINESS:ビジネス、CERTIFICATION:資格）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "CERTIFICATION"
              ]
            },
            {
              "name": "skillitem_id",
              "logical": "MST_SkillItemの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SkillItemの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_skill_code",
              "columns": [
                "skill_code"
              ],
              "unique": true,
              "description": "スキルコード検索用"
            },
            {
              "name": "idx_skill_category",
              "columns": [
                "skill_category_id"
              ],
              "unique": false,
              "description": "スキルカテゴリ別検索用"
            },
            {
              "name": "idx_mst_skillitem_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_skill_code",
              "type": "UNIQUE",
              "description": "スキルコード一意制約",
              "columns": [
                [
                  "skill_code"
                ]
              ]
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "skill_code": "SKILL001",
              "skill_name": "Java",
              "skill_category_id": "CAT001",
              "skill_type": "TECHNICAL",
              "difficulty_level": 3,
              "importance_level": 4
            }
          ],
          "notes": [
            "スキル項目は階層構造で管理",
            "評価基準は標準化されたレベル定義を使用",
            "スキル項目の追加・変更は承認プロセスを経て実施",
            "スキルコードは自動採番（SKILL + 3桁連番）",
            "重要度・難易度は1-5の5段階評価",
            "スキル項目の削除は論理削除で実施し、履歴を保持"
          ],
          "rules": [
            "スキルコードは自動採番（SKILL + 3桁連番）",
            "重要度・難易度は1-5の5段階評価",
            "スキル項目の削除は論理削除で実施し、履歴を保持"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SkillItem_スキル項目マスタ.md"
        ]
      }
    },
    {
      "table_name": "MST_SystemConfig",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_SystemConfig",
          "logical_name": "システム設定",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - システム設定マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_SystemConfig（システム設定）は、システム全体の設定値・パラメータを管理するマスタテーブルです。\n\n主な目的：\n- システム運用パラメータの一元管理\n- 機能ON/OFF設定の管理\n- 業務ルール・閾値の設定管理\n- 外部連携設定の管理\n- セキュリティ設定の管理\n\nこのテーブルにより、システムの動作を柔軟に制御し、\n運用環境に応じた設定変更を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "config_key",
              "logical": "設定キー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "設定項目を一意に識別するキー（例：MAX_LOGIN_ATTEMPTS、SESSION_TIMEOUT）",
              "validation": "^[A-Z0-9_]+$"
            },
            {
              "name": "config_category",
              "logical": "設定カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定の分類（SECURITY:セキュリティ、SYSTEM:システム、BUSINESS:業務、UI:ユーザーインターフェース、INTEGRATION:連携）",
              "enum_values": [
                "SECURITY",
                "SYSTEM",
                "BUSINESS",
                "UI",
                "INTEGRATION"
              ]
            },
            {
              "name": "config_name",
              "logical": "設定名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定項目の表示名・説明"
            },
            {
              "name": "config_type",
              "logical": "設定タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値のデータタイプ（STRING:文字列、INTEGER:整数、DECIMAL:小数、BOOLEAN:真偽値、JSON:JSON、ENCRYPTED:暗号化）",
              "enum_values": [
                "STRING",
                "INTEGER",
                "DECIMAL",
                "BOOLEAN",
                "JSON",
                "ENCRYPTED"
              ]
            },
            {
              "name": "config_value",
              "logical": "設定値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定の値（文字列、数値、JSON等）"
            },
            {
              "name": "default_value",
              "logical": "デフォルト値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定のデフォルト値"
            },
            {
              "name": "description",
              "logical": "説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定項目の詳細説明・用途"
            },
            {
              "name": "environment",
              "logical": "環境",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定が適用される環境（DEV:開発、TEST:テスト、PROD:本番、ALL:全環境）",
              "enum_values": [
                "DEV",
                "TEST",
                "PROD",
                "ALL"
              ],
              "default": "ALL"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定が有効かどうか",
              "default": true
            },
            {
              "name": "is_encrypted",
              "logical": "暗号化フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値が暗号化されているかどうか",
              "default": false
            },
            {
              "name": "is_system_only",
              "logical": "システム専用フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システム内部でのみ使用される設定かどうか",
              "default": false
            },
            {
              "name": "is_user_configurable",
              "logical": "ユーザー設定可能フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "管理者がUI経由で変更可能かどうか",
              "default": true
            },
            {
              "name": "last_modified_by",
              "logical": "最終更新者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定を最後に更新したユーザーID"
            },
            {
              "name": "last_modified_reason",
              "logical": "更新理由",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定変更の理由・目的"
            },
            {
              "name": "requires_restart",
              "logical": "再起動要否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定変更時にシステム再起動が必要かどうか",
              "default": false
            },
            {
              "name": "sort_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定一覧での表示順序",
              "default": 0
            },
            {
              "name": "systemconfig_id",
              "logical": "MST_SystemConfigの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_SystemConfigの主キー",
              "default": null
            },
            {
              "name": "tenant_specific",
              "logical": "テナント固有フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントごとに異なる値を持つ設定かどうか",
              "default": false
            },
            {
              "name": "validation_rule",
              "logical": "検証ルール",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値の検証ルール（正規表現、範囲等）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_config_key",
              "columns": [
                "config_key"
              ],
              "unique": true,
              "description": "設定キー検索用（一意）"
            },
            {
              "name": "idx_config_category",
              "columns": [
                "config_category"
              ],
              "unique": false,
              "description": "設定カテゴリ検索用"
            },
            {
              "name": "idx_config_type",
              "columns": [
                "config_type"
              ],
              "unique": false,
              "description": "設定タイプ検索用"
            },
            {
              "name": "idx_user_configurable",
              "columns": [
                "is_user_configurable",
                "is_active"
              ],
              "unique": false,
              "description": "ユーザー設定可能項目検索用"
            },
            {
              "name": "idx_environment",
              "columns": [
                "environment",
                "is_active"
              ],
              "unique": false,
              "description": "環境別設定検索用"
            },
            {
              "name": "idx_tenant_specific",
              "columns": [
                "tenant_specific",
                "is_active"
              ],
              "unique": false,
              "description": "テナント固有設定検索用"
            },
            {
              "name": "idx_sort_order",
              "columns": [
                "sort_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_mst_systemconfig_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_config_key",
              "type": "UNIQUE",
              "description": "設定キー一意制約",
              "columns": [
                [
                  "config_key"
                ]
              ]
            },
            {
              "name": "chk_config_type",
              "type": "CHECK",
              "description": "設定タイプ値チェック制約",
              "condition": "config_type IN ('STRING', 'INTEGER', 'DECIMAL', 'BOOLEAN', 'JSON', 'ENCRYPTED')"
            },
            {
              "name": "chk_config_category",
              "type": "CHECK",
              "description": "設定カテゴリ値チェック制約",
              "condition": "config_category IN ('SECURITY', 'SYSTEM', 'BUSINESS', 'UI', 'INTEGRATION')"
            },
            {
              "name": "chk_environment",
              "type": "CHECK",
              "description": "環境値チェック制約",
              "condition": "environment IN ('DEV', 'TEST', 'PROD', 'ALL')"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "config_key": "MAX_LOGIN_ATTEMPTS",
              "config_name": "最大ログイン試行回数",
              "config_value": "5",
              "config_type": "INTEGER",
              "config_category": "SECURITY",
              "default_value": "3",
              "validation_rule": "^[1-9][0-9]*$",
              "description": "アカウントロックまでの最大ログイン失敗回数",
              "is_encrypted": false,
              "is_system_only": false,
              "is_user_configurable": true,
              "requires_restart": false,
              "environment": "ALL",
              "tenant_specific": true,
              "last_modified_by": "admin",
              "last_modified_reason": "セキュリティ強化のため",
              "sort_order": 1,
              "is_active": true
            },
            {
              "config_key": "SESSION_TIMEOUT_MINUTES",
              "config_name": "セッションタイムアウト時間（分）",
              "config_value": "30",
              "config_type": "INTEGER",
              "config_category": "SECURITY",
              "default_value": "60",
              "validation_rule": "^[1-9][0-9]*$",
              "description": "ユーザーセッションの自動タイムアウト時間",
              "is_encrypted": false,
              "is_system_only": false,
              "is_user_configurable": true,
              "requires_restart": false,
              "environment": "ALL",
              "tenant_specific": true,
              "last_modified_by": "admin",
              "last_modified_reason": "セキュリティポリシー変更",
              "sort_order": 2,
              "is_active": true
            },
            {
              "config_key": "SKILL_EVALUATION_PERIOD_MONTHS",
              "config_name": "スキル評価期間（月）",
              "config_value": "6",
              "config_type": "INTEGER",
              "config_category": "BUSINESS",
              "default_value": "12",
              "validation_rule": "^[1-9][0-9]*$",
              "description": "スキル評価の実施間隔",
              "is_encrypted": false,
              "is_system_only": false,
              "is_user_configurable": true,
              "requires_restart": false,
              "environment": "ALL",
              "tenant_specific": true,
              "last_modified_by": "hr_admin",
              "last_modified_reason": "評価頻度の見直し",
              "sort_order": 10,
              "is_active": true
            },
            {
              "config_key": "EMAIL_SMTP_PASSWORD",
              "config_name": "SMTP認証パスワード",
              "config_value": "encrypted_password_value",
              "config_type": "ENCRYPTED",
              "config_category": "INTEGRATION",
              "default_value": null,
              "validation_rule": null,
              "description": "メール送信用SMTP認証パスワード",
              "is_encrypted": true,
              "is_system_only": true,
              "is_user_configurable": false,
              "requires_restart": true,
              "environment": "PROD",
              "tenant_specific": false,
              "last_modified_by": "system",
              "last_modified_reason": "初期設定",
              "sort_order": 100,
              "is_active": true
            }
          ],
          "notes": [
            "設定キーは英大文字・数字・アンダースコアのみ使用可能",
            "暗号化設定は config_type = 'ENCRYPTED' かつ is_encrypted = true で管理",
            "テナント固有設定は別途テナント設定テーブルとの連携が必要",
            "システム専用設定は管理画面に表示しない",
            "再起動要否フラグは運用時の注意喚起に使用",
            "論理削除は is_active フラグで管理",
            "設定キーは一意である必要がある",
            "暗号化設定は config_type = 'ENCRYPTED' に設定",
            "システム専用設定は is_user_configurable = false に設定",
            "検証ルールは設定値の妥当性チェックに使用",
            "環境固有設定は適切な environment 値を設定",
            "テナント固有設定は tenant_specific = true に設定",
            "設定変更時は last_modified_by と last_modified_reason を必須記録"
          ],
          "rules": [
            "設定キーは一意である必要がある",
            "暗号化設定は config_type = 'ENCRYPTED' に設定",
            "システム専用設定は is_user_configurable = false に設定",
            "検証ルールは設定値の妥当性チェックに使用",
            "環境固有設定は適切な environment 値を設定",
            "テナント固有設定は tenant_specific = true に設定",
            "設定変更時は last_modified_by と last_modified_reason を必須記録"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_SystemConfig_システム設定.md"
        ]
      }
    },
    {
      "table_name": "MST_Tenant",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_Tenant",
          "logical_name": "テナント（組織）",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - MST_Tenantテーブルの詳細定義"
            },
            {
              "version": "1.1.0",
              "date": "2025-06-12",
              "author": "開発チーム",
              "changes": "必須セクション追加 - revision_history, overview, notes, business_rules"
            },
            {
              "version": "3.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.1.20250624_214048",
              "date": "2025-06-24",
              "author": "MST_Tenant修正ツール",
              "changes": "tenant_id重複問題を解決し、カラム順序を統一テンプレートに従って修正"
            },
            {
              "version": "8.0.20250624_214439",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール",
              "changes": "主キー（id）を先頭に移動し、推奨カラム順序に最終修正"
            },
            {
              "version": "9.0.20250624_214522",
              "date": "2025-06-24",
              "author": "完全カラム順序修正ツール",
              "changes": "推奨カラム順序（1.主キー 2.tenant_id 3.その他）に完全修正"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "10.0.20250624_223346",
              "date": "2025-06-24",
              "author": "MST_Tenant特殊ケース修正ツール",
              "changes": "MST_Tenantテーブルの特殊ケース対応：tenant_idを実質的な主キーとして先頭に配置"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "マルチテナント対応システムにおける組織・会社情報を管理するマスタテーブル。\n\n主な目的：\n- 複数の組織・会社（テナント）の基本情報管理\n- テナント別のシステム設定・カスタマイズ情報の管理\n- 階層構造による組織関係の表現（親子関係）\n- テナント別のブランディング設定（ロゴ、カラー）\n- 契約・課金情報の管理（プラン、ユーザー数制限）\n- マルチテナント認証・認可の基盤データ提供\n\nこのテーブルはマルチテナントシステムの中核となるマスタデータであり、\n全ての業務データがテナント単位で分離される基盤を提供する。\n現在はシングルテナント実装だが、将来のマルチテナント化に備えた設計。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントを一意に識別するID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "テナントを一意に識別するID"
            },
            {
              "name": "address",
              "logical": "テナントの住所",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントの住所"
            },
            {
              "name": "admin_email",
              "logical": "テナント管理者のメールアドレス",
              "type": "VARCHAR(255)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナント管理者のメールアドレス"
            },
            {
              "name": "contact_email",
              "logical": "テナントの一般連絡先メールアドレス",
              "type": "VARCHAR(255)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントの一般連絡先メールアドレス"
            },
            {
              "name": "contract_end_date",
              "logical": "テナント契約の終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナント契約の終了日"
            },
            {
              "name": "contract_start_date",
              "logical": "テナント契約の開始日",
              "type": "DATE",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナント契約の開始日"
            },
            {
              "name": "country_code",
              "logical": "国コード（ISO 3166-1 alpha-2）",
              "type": "VARCHAR(2)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "国コード（ISO 3166-1 alpha-2）",
              "default": "JP"
            },
            {
              "name": "currency_code",
              "logical": "テナントで使用する通貨コード（ISO 4217）",
              "type": "VARCHAR(3)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントで使用する通貨コード（ISO 4217）",
              "default": "JPY"
            },
            {
              "name": "domain_name",
              "logical": "テナント専用ドメイン名",
              "type": "VARCHAR(100)",
              "length": null,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "テナント専用ドメイン名"
            },
            {
              "name": "locale",
              "logical": "テナントのデフォルトロケール",
              "type": "VARCHAR(10)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントのデフォルトロケール",
              "default": "ja_JP"
            },
            {
              "name": "logo_url",
              "logical": "テナントロゴ画像のURL",
              "type": "VARCHAR(500)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントロゴ画像のURL"
            },
            {
              "name": "max_storage_gb",
              "logical": "契約上の最大ストレージ容量（GB）",
              "type": "INTEGER",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "契約上の最大ストレージ容量（GB）",
              "default": 10
            },
            {
              "name": "max_users",
              "logical": "契約上の最大ユーザー数",
              "type": "INTEGER",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "契約上の最大ユーザー数",
              "default": 100
            },
            {
              "name": "parent_tenant_id",
              "logical": "親テナントのID（階層構造の場合）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "親テナントのID（階層構造の場合）"
            },
            {
              "name": "phone_number",
              "logical": "テナントの電話番号",
              "type": "VARCHAR(20)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントの電話番号"
            },
            {
              "name": "postal_code",
              "logical": "郵便番号",
              "type": "VARCHAR(10)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "郵便番号"
            },
            {
              "name": "primary_color",
              "logical": "テナントのプライマリカラー（#RRGGBB）",
              "type": "VARCHAR(7)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントのプライマリカラー（#RRGGBB）"
            },
            {
              "name": "secondary_color",
              "logical": "テナントのセカンダリカラー（#RRGGBB）",
              "type": "VARCHAR(7)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントのセカンダリカラー（#RRGGBB）"
            },
            {
              "name": "status",
              "logical": "テナントの状態（ACTIVE:有効、INACTIVE:無効、SUSPENDED:停止、TRIAL:試用中、EXPIRED:期限切れ）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントの状態（ACTIVE:有効、INACTIVE:無効、SUSPENDED:停止、TRIAL:試用中、EXPIRED:期限切れ）",
              "default": "TRIAL"
            },
            {
              "name": "subdomain",
              "logical": "サブドメイン名（xxx.system.com）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "サブドメイン名（xxx.system.com）"
            },
            {
              "name": "subscription_plan",
              "logical": "契約プラン（FREE:無料、BASIC:基本、STANDARD:標準、PREMIUM:プレミアム、ENTERPRISE:エンタープライズ）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "契約プラン（FREE:無料、BASIC:基本、STANDARD:標準、PREMIUM:プレミアム、ENTERPRISE:エンタープライズ）",
              "default": "BASIC"
            },
            {
              "name": "tenant_code",
              "logical": "テナントの識別コード（URL等で使用）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "テナントの識別コード（URL等で使用）"
            },
            {
              "name": "tenant_level",
              "logical": "テナント階層のレベル（1が最上位）",
              "type": "INTEGER",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナント階層のレベル（1が最上位）",
              "default": 1
            },
            {
              "name": "tenant_name",
              "logical": "テナント（組織・会社）の正式名称",
              "type": "VARCHAR(200)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナント（組織・会社）の正式名称"
            },
            {
              "name": "tenant_name_en",
              "logical": "テナントの英語名称",
              "type": "VARCHAR(200)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントの英語名称"
            },
            {
              "name": "tenant_short_name",
              "logical": "テナントの略称・短縮名",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントの略称・短縮名"
            },
            {
              "name": "tenant_type",
              "logical": "テナントの種別（ENTERPRISE:企業、DEPARTMENT:部門、SUBSIDIARY:子会社、PARTNER:パートナー、TRIAL:試用）",
              "type": "VARCHAR(20)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントの種別（ENTERPRISE:企業、DEPARTMENT:部門、SUBSIDIARY:子会社、PARTNER:パートナー、TRIAL:試用）",
              "default": "ENTERPRISE"
            },
            {
              "name": "timezone",
              "logical": "テナントのデフォルトタイムゾーン",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントのデフォルトタイムゾーン",
              "default": "Asia/Tokyo"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": false
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": true,
              "description": "テナントID検索用（一意）"
            },
            {
              "name": "idx_tenant_code",
              "columns": [
                "tenant_code"
              ],
              "unique": true,
              "description": "テナントコード検索用（一意）"
            },
            {
              "name": "idx_domain_name",
              "columns": [
                "domain_name"
              ],
              "unique": true,
              "description": "ドメイン名検索用（一意）"
            },
            {
              "name": "idx_subdomain",
              "columns": [
                "subdomain"
              ],
              "unique": true,
              "description": "サブドメイン検索用（一意）"
            },
            {
              "name": "idx_tenant_type",
              "columns": [
                "tenant_type"
              ],
              "unique": false,
              "description": "テナント種別検索用"
            },
            {
              "name": "idx_parent_tenant_id",
              "columns": [
                "parent_tenant_id"
              ],
              "unique": false,
              "description": "親テナント検索用"
            },
            {
              "name": "idx_subscription_plan",
              "columns": [
                "subscription_plan"
              ],
              "unique": false,
              "description": "サブスクリプションプラン検索用"
            },
            {
              "name": "idx_status",
              "columns": [
                "status"
              ],
              "unique": false,
              "description": "ステータス検索用"
            },
            {
              "name": "idx_admin_email",
              "columns": [
                "admin_email"
              ],
              "unique": false,
              "description": "管理者メール検索用"
            }
          ],
          "constraints": [],
          "foreign_keys": [
            {
              "name": "fk_tenant_parent",
              "columns": [
                "parent_tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "tenant_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "tenant_id": "tenant_001",
              "tenant_code": "main-corp",
              "tenant_name": "メイン株式会社",
              "tenant_name_en": "Main Corporation",
              "tenant_short_name": "メイン",
              "tenant_type": "ENTERPRISE",
              "parent_tenant_id": null,
              "tenant_level": 1,
              "domain_name": "main-corp.com",
              "subdomain": "main",
              "logo_url": "https://cdn.example.com/logos/main-corp.png",
              "primary_color": "#0066CC",
              "secondary_color": "#FF6600",
              "timezone": "Asia/Tokyo",
              "locale": "ja_JP",
              "currency_code": "JPY",
              "admin_email": "admin@main-corp.com",
              "contact_email": "contact@main-corp.com",
              "phone_number": "03-1234-5678",
              "address": "東京都千代田区丸の内1-1-1",
              "postal_code": "100-0005",
              "country_code": "JP",
              "subscription_plan": "ENTERPRISE",
              "max_users": 1000,
              "max_storage_gb": 100,
              "status": "ACTIVE",
              "contract_start_date": "2025-04-01",
              "contract_end_date": null,
              "is_deleted": false
            },
            {
              "tenant_id": "tenant_002",
              "tenant_code": "sub-division",
              "tenant_name": "サブ事業部",
              "tenant_name_en": "Sub Division",
              "tenant_short_name": "サブ",
              "tenant_type": "DEPARTMENT",
              "parent_tenant_id": "tenant_001",
              "tenant_level": 2,
              "domain_name": null,
              "subdomain": "sub",
              "logo_url": null,
              "primary_color": "#0066CC",
              "secondary_color": "#FF6600",
              "timezone": "Asia/Tokyo",
              "locale": "ja_JP",
              "currency_code": "JPY",
              "admin_email": "admin@sub.main-corp.com",
              "contact_email": null,
              "phone_number": null,
              "address": null,
              "postal_code": null,
              "country_code": "JP",
              "subscription_plan": "STANDARD",
              "max_users": 100,
              "max_storage_gb": 20,
              "status": "ACTIVE",
              "contract_start_date": "2025-04-01",
              "contract_end_date": null,
              "is_deleted": false
            }
          ],
          "notes": [
            "現在はシングルテナント実装のため、1レコードのみ存在",
            "将来のマルチテナント化に備えた完全な設計を実装",
            "parent_tenant_idによる自己参照で組織階層を表現",
            "domain_name、subdomainは一意制約でテナント分離を保証",
            "カラーコードは#RRGGBB形式で統一（UI表示用）",
            "契約情報（プラン、制限値）は課金システムとの連携を想定",
            "論理削除は is_deleted フラグで管理",
            "タイムゾーン・ロケール設定でグローバル対応",
            "テナントID（tenant_id）は一意で変更不可",
            "テナントコード（tenant_code）はURL等で使用するため英数字のみ",
            "ドメイン名・サブドメインは重複不可（テナント分離保証）",
            "親テナント（parent_tenant_id）は同一テナント種別内のみ設定可能",
            "契約開始日（contract_start_date）は必須、終了日は無期限契約の場合NULL",
            "最大ユーザー数・ストレージ容量は契約プランに応じて設定",
            "ステータスがINACTIVE/SUSPENDEDの場合、ログイン不可",
            "管理者メール（admin_email）は必須、システム通知の送信先",
            "論理削除時は関連する全データも論理削除対象",
            "階層レベル（tenant_level）は親子関係の整合性を保証"
          ],
          "rules": [
            "テナントID（tenant_id）は一意で変更不可",
            "テナントコード（tenant_code）はURL等で使用するため英数字のみ",
            "ドメイン名・サブドメインは重複不可（テナント分離保証）",
            "親テナント（parent_tenant_id）は同一テナント種別内のみ設定可能",
            "契約開始日（contract_start_date）は必須、終了日は無期限契約の場合NULL",
            "最大ユーザー数・ストレージ容量は契約プランに応じて設定",
            "ステータスがINACTIVE/SUSPENDEDの場合、ログイン不可",
            "管理者メール（admin_email）は必須、システム通知の送信先",
            "論理削除時は関連する全データも論理削除対象",
            "階層レベル（tenant_level）は親子関係の整合性を保証"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Tenant_テナント（組織）.md",
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_Tenant_テナント管理.md"
        ]
      }
    },
    {
      "table_name": "MST_TenantSettings",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_TenantSettings",
          "logical_name": "テナント設定",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - テナント設定マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_TenantSettings（テナント設定）は、マルチテナントシステムにおける各テナント固有の設定情報を管理するマスタテーブルです。\n\n主な目的：\n- テナント別システム設定の管理\n- 機能有効/無効の制御設定\n- UI・表示設定のカスタマイズ\n- 業務ルール・制限値の設定\n- 外部連携設定の管理\n\nこのテーブルは、マルチテナント管理機能において各テナントの個別要件に対応する重要なマスタデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定対象のテナントID（MST_Tenantへの参照）"
            },
            {
              "name": "data_type",
              "logical": "データ型",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値のデータ型（STRING:文字列、INTEGER:整数、BOOLEAN:真偽値、JSON:JSON、DECIMAL:小数）",
              "enum_values": [
                "STRING",
                "INTEGER",
                "BOOLEAN",
                "JSON",
                "DECIMAL"
              ]
            },
            {
              "name": "default_value",
              "logical": "デフォルト値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定のデフォルト値"
            },
            {
              "name": "display_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "管理画面での表示順序",
              "default": 0
            },
            {
              "name": "effective_from",
              "logical": "有効開始日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定が有効になる日時"
            },
            {
              "name": "effective_until",
              "logical": "有効終了日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定が無効になる日時"
            },
            {
              "name": "is_encrypted",
              "logical": "暗号化フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値を暗号化するかどうか",
              "default": false
            },
            {
              "name": "is_required",
              "logical": "必須フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定が必須かどうか",
              "default": false
            },
            {
              "name": "is_system_managed",
              "logical": "システム管理フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システムが自動管理する設定かどうか",
              "default": false
            },
            {
              "name": "is_user_configurable",
              "logical": "ユーザー設定可能フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナント管理者が変更可能かどうか",
              "default": true
            },
            {
              "name": "last_modified_by",
              "logical": "最終更新者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定を最後に更新したユーザーID"
            },
            {
              "name": "setting_category",
              "logical": "設定カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定の分類（SYSTEM:システム、UI:ユーザーインターフェース、BUSINESS:業務、SECURITY:セキュリティ、INTEGRATION:連携）",
              "enum_values": [
                "SYSTEM",
                "UI",
                "BUSINESS",
                "SECURITY",
                "INTEGRATION"
              ]
            },
            {
              "name": "setting_description",
              "logical": "設定説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定項目の詳細説明"
            },
            {
              "name": "setting_key",
              "logical": "設定キー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定項目の識別キー（例：max_users、theme_color、skill_approval_required等）"
            },
            {
              "name": "setting_name",
              "logical": "設定名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定項目の表示名"
            },
            {
              "name": "setting_value",
              "logical": "設定値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際の設定値（文字列として格納、data_typeに応じて解釈）"
            },
            {
              "name": "tenantsettings_id",
              "logical": "MST_TenantSettingsの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_TenantSettingsの主キー",
              "default": null
            },
            {
              "name": "validation_rules",
              "logical": "バリデーションルール",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "設定値のバリデーションルール（JSON形式）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_tenant_settings_tenant_key",
              "columns": [
                "tenant_id",
                "setting_key"
              ],
              "unique": true,
              "description": "テナント別設定キー検索用（一意）"
            },
            {
              "name": "idx_tenant_settings_category",
              "columns": [
                "setting_category"
              ],
              "unique": false,
              "description": "設定カテゴリ別検索用"
            },
            {
              "name": "idx_tenant_settings_configurable",
              "columns": [
                "is_user_configurable"
              ],
              "unique": false,
              "description": "ユーザー設定可能フラグ検索用"
            },
            {
              "name": "idx_tenant_settings_system_managed",
              "columns": [
                "is_system_managed"
              ],
              "unique": false,
              "description": "システム管理フラグ検索用"
            },
            {
              "name": "idx_tenant_settings_display_order",
              "columns": [
                "tenant_id",
                "setting_category",
                "display_order"
              ],
              "unique": false,
              "description": "表示順序検索用"
            },
            {
              "name": "idx_tenant_settings_effective",
              "columns": [
                "effective_from",
                "effective_until"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_mst_tenantsettings_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_tenant_settings_tenant_key",
              "type": "UNIQUE",
              "description": "テナント内設定キー一意制約",
              "columns": [
                [
                  "tenant_id"
                ],
                [
                  "setting_key"
                ]
              ]
            },
            {
              "name": "chk_tenant_settings_category",
              "type": "CHECK",
              "description": "設定カテゴリ値チェック制約",
              "condition": "setting_category IN ('SYSTEM', 'UI', 'BUSINESS', 'SECURITY', 'INTEGRATION')"
            },
            {
              "name": "chk_tenant_settings_data_type",
              "type": "CHECK",
              "description": "データ型値チェック制約",
              "condition": "data_type IN ('STRING', 'INTEGER', 'BOOLEAN', 'JSON', 'DECIMAL')"
            },
            {
              "name": "chk_tenant_settings_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_until IS NULL OR effective_from IS NULL OR effective_until >= effective_from"
            },
            {
              "name": "chk_tenant_settings_display_order_positive",
              "type": "CHECK",
              "description": "表示順序正数チェック制約",
              "condition": "display_order >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_tenant_settings_tenant",
              "columns": [
                "tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "TS001",
              "tenant_id": "TENANT001",
              "setting_category": "SYSTEM",
              "setting_key": "max_users",
              "setting_name": "最大ユーザー数",
              "setting_description": "このテナントで作成可能な最大ユーザー数",
              "data_type": "INTEGER",
              "setting_value": "100",
              "default_value": "50",
              "validation_rules": "{\"min\": 1, \"max\": 1000}",
              "is_required": true,
              "is_encrypted": false,
              "is_system_managed": false,
              "is_user_configurable": false,
              "display_order": 1,
              "effective_from": "2025-01-01 00:00:00",
              "effective_until": null,
              "last_modified_by": "SYSTEM"
            },
            {
              "id": "TS002",
              "tenant_id": "TENANT001",
              "setting_category": "UI",
              "setting_key": "theme_color",
              "setting_name": "テーマカラー",
              "setting_description": "システムのメインテーマカラー",
              "data_type": "STRING",
              "setting_value": "#2563eb",
              "default_value": "#3b82f6",
              "validation_rules": "{\"pattern\": \"^#[0-9a-fA-F]{6}$\"}",
              "is_required": false,
              "is_encrypted": false,
              "is_system_managed": false,
              "is_user_configurable": true,
              "display_order": 1,
              "effective_from": null,
              "effective_until": null,
              "last_modified_by": "USER001"
            },
            {
              "id": "TS003",
              "tenant_id": "TENANT001",
              "setting_category": "BUSINESS",
              "setting_key": "skill_approval_required",
              "setting_name": "スキル承認必須",
              "setting_description": "スキル登録時に承認が必要かどうか",
              "data_type": "BOOLEAN",
              "setting_value": "true",
              "default_value": "false",
              "validation_rules": null,
              "is_required": true,
              "is_encrypted": false,
              "is_system_managed": false,
              "is_user_configurable": true,
              "display_order": 1,
              "effective_from": null,
              "effective_until": null,
              "last_modified_by": "USER001"
            },
            {
              "id": "TS004",
              "tenant_id": "TENANT001",
              "setting_category": "SECURITY",
              "setting_key": "password_policy",
              "setting_name": "パスワードポリシー",
              "setting_description": "パスワードの複雑性要件",
              "data_type": "JSON",
              "setting_value": "{\"min_length\": 8, \"require_uppercase\": true, \"require_lowercase\": true, \"require_numbers\": true, \"require_symbols\": false}",
              "default_value": "{\"min_length\": 6, \"require_uppercase\": false, \"require_lowercase\": false, \"require_numbers\": false, \"require_symbols\": false}",
              "validation_rules": "{\"type\": \"object\", \"properties\": {\"min_length\": {\"type\": \"integer\", \"minimum\": 4, \"maximum\": 128}}}",
              "is_required": true,
              "is_encrypted": false,
              "is_system_managed": false,
              "is_user_configurable": true,
              "display_order": 1,
              "effective_from": null,
              "effective_until": null,
              "last_modified_by": "USER001"
            }
          ],
          "notes": [
            "設定はテナント・キーの組み合わせで一意",
            "setting_valueは文字列として格納し、data_typeに応じて解釈",
            "暗号化フラグがtrueの場合、setting_valueは暗号化して保存",
            "validation_rulesはJSON Schema形式で設定値の検証ルールを定義",
            "有効期間により時限的な設定変更に対応",
            "システム管理フラグによりシステム専用設定を区別",
            "表示順序により管理画面での設定項目の並び順を制御",
            "同一テナント内で設定キーは重複不可",
            "必須設定は削除不可",
            "システム管理設定はユーザーによる変更不可",
            "暗号化設定の値は復号化して表示",
            "有効期間外の設定は無効として扱う",
            "バリデーションルールに違反する設定値は保存不可",
            "デフォルト値は設定値が未設定の場合に使用",
            "設定変更時は最終更新者を記録"
          ],
          "rules": [
            "同一テナント内で設定キーは重複不可",
            "必須設定は削除不可",
            "システム管理設定はユーザーによる変更不可",
            "暗号化設定の値は復号化して表示",
            "有効期間外の設定は無効として扱う",
            "バリデーションルールに違反する設定値は保存不可",
            "デフォルト値は設定値が未設定の場合に使用",
            "設定変更時は最終更新者を記録"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_TenantSettings_テナント設定.md"
        ]
      }
    },
    {
      "table_name": "MST_TrainingProgram",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_TrainingProgram",
          "logical_name": "研修プログラム",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 研修プログラムマスタの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215053",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223432",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_TrainingProgram（研修プログラム）は、組織で提供される研修・教育プログラムの詳細情報を管理するマスタテーブルです。\n\n主な目的：\n- 研修プログラムの体系的管理\n- 研修内容・カリキュラムの標準化\n- スキル開発との連携\n- 研修効果の測定・評価\n- 人材育成計画の支援\n\nこのテーブルにより、効果的な研修体系を構築し、\n組織全体のスキル向上と人材育成を促進できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "active_flag",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "現在提供中の研修かどうか",
              "default": true
            },
            {
              "name": "approval_date",
              "logical": "承認日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プログラムが承認された日付"
            },
            {
              "name": "approved_by",
              "logical": "承認者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プログラムを承認した責任者ID"
            },
            {
              "name": "assessment_method",
              "logical": "評価方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の評価方法（NONE:なし、TEST:テスト、ASSIGNMENT:課題、PRESENTATION:発表、PRACTICAL:実技、COMPREHENSIVE:総合評価）",
              "enum_values": [
                "NONE",
                "TEST",
                "ASSIGNMENT",
                "PRESENTATION",
                "PRACTICAL",
                "COMPREHENSIVE"
              ]
            },
            {
              "name": "certification_provided",
              "logical": "認定証発行",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "修了時に認定証を発行するかどうか",
              "default": false
            },
            {
              "name": "cost_per_participant",
              "logical": "参加者単価",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "参加者1人あたりの研修費用"
            },
            {
              "name": "created_by",
              "logical": "作成者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プログラムを作成した担当者ID"
            },
            {
              "name": "curriculum_details",
              "logical": "カリキュラム詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "詳細なカリキュラム内容（JSON形式）"
            },
            {
              "name": "curriculum_outline",
              "logical": "カリキュラム概要",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修のカリキュラム・内容概要"
            },
            {
              "name": "difficulty_level",
              "logical": "難易度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の難易度（BEGINNER:初級、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "BEGINNER",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ]
            },
            {
              "name": "duration_days",
              "logical": "研修日数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の実施日数"
            },
            {
              "name": "duration_hours",
              "logical": "研修時間",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の総時間数"
            },
            {
              "name": "effective_end_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムの提供終了日"
            },
            {
              "name": "effective_start_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムの提供開始日"
            },
            {
              "name": "equipment_required",
              "logical": "必要機材",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修に必要な機材・設備（JSON形式）"
            },
            {
              "name": "external_provider",
              "logical": "外部提供者",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部研修の場合の提供会社・機関名"
            },
            {
              "name": "external_url",
              "logical": "外部URL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部研修の詳細情報URL"
            },
            {
              "name": "instructor_requirements",
              "logical": "講師要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "講師に求められる要件・資格"
            },
            {
              "name": "language",
              "logical": "実施言語",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の実施言語（JA:日本語、EN:英語、BILINGUAL:バイリンガル）",
              "enum_values": [
                "JA",
                "EN",
                "BILINGUAL"
              ],
              "default": "JA"
            },
            {
              "name": "learning_objectives",
              "logical": "学習目標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の学習目標・到達目標"
            },
            {
              "name": "mandatory_flag",
              "logical": "必須研修フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "必須研修かどうか",
              "default": false
            },
            {
              "name": "materials_required",
              "logical": "必要教材",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修に必要な教材・資料（JSON形式）"
            },
            {
              "name": "max_participants",
              "logical": "最大参加者数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "1回の研修での最大参加者数"
            },
            {
              "name": "min_participants",
              "logical": "最小参加者数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "開催に必要な最小参加者数"
            },
            {
              "name": "passing_score",
              "logical": "合格点",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修合格に必要な点数"
            },
            {
              "name": "pdu_credits",
              "logical": "PDUクレジット",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "取得可能なPDUクレジット数"
            },
            {
              "name": "prerequisites",
              "logical": "前提条件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "受講に必要な前提知識・条件"
            },
            {
              "name": "program_category",
              "logical": "プログラムカテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の分類（TECHNICAL:技術、BUSINESS:ビジネス、MANAGEMENT:管理、COMPLIANCE:コンプライアンス、SOFT_SKILL:ソフトスキル、CERTIFICATION:資格、ORIENTATION:新人研修）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "MANAGEMENT",
                "COMPLIANCE",
                "SOFT_SKILL",
                "CERTIFICATION",
                "ORIENTATION"
              ]
            },
            {
              "name": "program_code",
              "logical": "プログラムコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "研修プログラムの識別コード"
            },
            {
              "name": "program_description",
              "logical": "プログラム説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムの詳細説明"
            },
            {
              "name": "program_name",
              "logical": "プログラム名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムの名称"
            },
            {
              "name": "program_name_en",
              "logical": "プログラム名（英語）",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムの英語名称"
            },
            {
              "name": "program_type",
              "logical": "プログラム種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の実施形態（CLASSROOM:集合研修、ONLINE:オンライン、BLENDED:ブレンド、OJT:OJT、SELF_STUDY:自習、EXTERNAL:外部研修）",
              "enum_values": [
                "CLASSROOM",
                "ONLINE",
                "BLENDED",
                "OJT",
                "SELF_STUDY",
                "EXTERNAL"
              ]
            },
            {
              "name": "related_certifications",
              "logical": "関連資格",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修に関連する資格（JSON形式）"
            },
            {
              "name": "related_skills",
              "logical": "関連スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修で習得・向上するスキル（JSON形式）"
            },
            {
              "name": "repeat_interval",
              "logical": "再受講間隔",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "再受講可能な間隔（月数）"
            },
            {
              "name": "revision_notes",
              "logical": "改訂メモ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バージョン改訂時のメモ・変更内容"
            },
            {
              "name": "tags",
              "logical": "タグ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索・分類用のタグ（JSON形式）"
            },
            {
              "name": "target_audience",
              "logical": "対象者",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の対象者（ALL:全社員、NEW_HIRE:新入社員、JUNIOR:若手、MIDDLE:中堅、SENIOR:シニア、MANAGER:管理職、EXECUTIVE:役員、SPECIALIST:専門職）",
              "enum_values": [
                "ALL",
                "NEW_HIRE",
                "JUNIOR",
                "MIDDLE",
                "SENIOR",
                "MANAGER",
                "EXECUTIVE",
                "SPECIALIST"
              ]
            },
            {
              "name": "training_program_id",
              "logical": "研修プログラムID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "研修プログラムを一意に識別するID"
            },
            {
              "name": "trainingprogram_id",
              "logical": "MST_TrainingProgramの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_TrainingProgramの主キー",
              "default": null
            },
            {
              "name": "venue_requirements",
              "logical": "会場要件",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修会場に必要な設備・条件"
            },
            {
              "name": "venue_type",
              "logical": "会場種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修会場の種別（INTERNAL:社内、EXTERNAL:社外、ONLINE:オンライン、HYBRID:ハイブリッド）",
              "enum_values": [
                "INTERNAL",
                "EXTERNAL",
                "ONLINE",
                "HYBRID"
              ]
            },
            {
              "name": "version_number",
              "logical": "バージョン番号",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プログラムのバージョン番号",
              "default": "1.0"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_training_program_id",
              "columns": [
                "training_program_id"
              ],
              "unique": true,
              "description": "研修プログラムID検索用（一意）"
            },
            {
              "name": "idx_program_code",
              "columns": [
                "program_code"
              ],
              "unique": true,
              "description": "プログラムコード検索用（一意）"
            },
            {
              "name": "idx_program_category",
              "columns": [
                "program_category"
              ],
              "unique": false,
              "description": "プログラムカテゴリ検索用"
            },
            {
              "name": "idx_program_type",
              "columns": [
                "program_type"
              ],
              "unique": false,
              "description": "プログラム種別検索用"
            },
            {
              "name": "idx_target_audience",
              "columns": [
                "target_audience"
              ],
              "unique": false,
              "description": "対象者検索用"
            },
            {
              "name": "idx_difficulty_level",
              "columns": [
                "difficulty_level"
              ],
              "unique": false,
              "description": "難易度検索用"
            },
            {
              "name": "idx_active_flag",
              "columns": [
                "active_flag"
              ],
              "unique": false,
              "description": "有効フラグ検索用"
            },
            {
              "name": "idx_mandatory_flag",
              "columns": [
                "mandatory_flag"
              ],
              "unique": false,
              "description": "必須研修フラグ検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_start_date",
                "effective_end_date"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_external_provider",
              "columns": [
                "external_provider"
              ],
              "unique": false,
              "description": "外部提供者検索用"
            },
            {
              "name": "idx_language",
              "columns": [
                "language"
              ],
              "unique": false,
              "description": "実施言語検索用"
            },
            {
              "name": "idx_mst_trainingprogram_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_training_program_id",
              "type": "UNIQUE",
              "description": "研修プログラムID一意制約",
              "columns": [
                [
                  "training_program_id"
                ]
              ]
            },
            {
              "name": "uk_program_code",
              "type": "UNIQUE",
              "description": "プログラムコード一意制約",
              "columns": [
                [
                  "program_code"
                ]
              ]
            },
            {
              "name": "chk_program_category",
              "type": "CHECK",
              "description": "プログラムカテゴリ値チェック制約",
              "condition": "program_category IN ('TECHNICAL', 'BUSINESS', 'MANAGEMENT', 'COMPLIANCE', 'SOFT_SKILL', 'CERTIFICATION', 'ORIENTATION')"
            },
            {
              "name": "chk_program_type",
              "type": "CHECK",
              "description": "プログラム種別値チェック制約",
              "condition": "program_type IN ('CLASSROOM', 'ONLINE', 'BLENDED', 'OJT', 'SELF_STUDY', 'EXTERNAL')"
            },
            {
              "name": "chk_target_audience",
              "type": "CHECK",
              "description": "対象者値チェック制約",
              "condition": "target_audience IN ('ALL', 'NEW_HIRE', 'JUNIOR', 'MIDDLE', 'SENIOR', 'MANAGER', 'EXECUTIVE', 'SPECIALIST')"
            },
            {
              "name": "chk_difficulty_level",
              "type": "CHECK",
              "description": "難易度値チェック制約",
              "condition": "difficulty_level IN ('BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_assessment_method",
              "type": "CHECK",
              "description": "評価方法値チェック制約",
              "condition": "assessment_method IN ('NONE', 'TEST', 'ASSIGNMENT', 'PRESENTATION', 'PRACTICAL', 'COMPREHENSIVE')"
            },
            {
              "name": "chk_venue_type",
              "type": "CHECK",
              "description": "会場種別値チェック制約",
              "condition": "venue_type IN ('INTERNAL', 'EXTERNAL', 'ONLINE', 'HYBRID')"
            },
            {
              "name": "chk_language",
              "type": "CHECK",
              "description": "実施言語値チェック制約",
              "condition": "language IN ('JA', 'EN', 'BILINGUAL')"
            },
            {
              "name": "chk_duration_positive",
              "type": "CHECK",
              "description": "研修時間・日数正数チェック制約",
              "condition": "duration_hours > 0 AND duration_days > 0"
            },
            {
              "name": "chk_participants_range",
              "type": "CHECK",
              "description": "参加者数範囲チェック制約",
              "condition": "min_participants IS NULL OR max_participants IS NULL OR min_participants <= max_participants"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_end_date IS NULL OR effective_start_date <= effective_end_date"
            },
            {
              "name": "chk_passing_score_range",
              "type": "CHECK",
              "description": "合格点範囲チェック制約",
              "condition": "passing_score IS NULL OR (passing_score >= 0 AND passing_score <= 100)"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_training_program_created_by",
              "columns": [
                "created_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_training_program_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "training_program_id": "TRN_PROG_001",
              "program_code": "PM-BASIC-001",
              "program_name": "プロジェクトマネジメント基礎研修",
              "program_name_en": "Project Management Fundamentals",
              "program_description": "プロジェクトマネジメントの基本概念と手法を学ぶ研修",
              "program_category": "MANAGEMENT",
              "program_type": "CLASSROOM",
              "target_audience": "MIDDLE",
              "difficulty_level": "INTERMEDIATE",
              "duration_hours": 16.0,
              "duration_days": 2,
              "max_participants": 20,
              "min_participants": 8,
              "prerequisites": "実務経験2年以上、基本的なビジネススキル",
              "learning_objectives": "PMBOKの基本概念理解、プロジェクト計画立案、リスク管理手法の習得",
              "curriculum_outline": "1日目：PM概論、計画立案　2日目：実行・監視、リスク管理",
              "curriculum_details": "{\"day1\": [\"PM概論\", \"プロジェクト憲章\", \"WBS作成\"], \"day2\": [\"進捗管理\", \"リスク分析\", \"ケーススタディ\"]}",
              "materials_required": "[\"テキスト\", \"演習用PC\", \"プロジェクト計画テンプレート\"]",
              "equipment_required": "[\"プロジェクター\", \"ホワイトボード\", \"PC環境\"]",
              "instructor_requirements": "PMP資格保有、実務経験5年以上",
              "assessment_method": "COMPREHENSIVE",
              "passing_score": 70.0,
              "certification_provided": true,
              "pdu_credits": 16.0,
              "related_skills": "[\"プロジェクト管理\", \"リーダーシップ\", \"コミュニケーション\"]",
              "related_certifications": "[\"PMP\", \"プロジェクトマネージャ試験\"]",
              "cost_per_participant": 50000.0,
              "external_provider": null,
              "external_url": null,
              "venue_type": "INTERNAL",
              "venue_requirements": "20名収容可能な研修室、プロジェクター設備",
              "language": "JA",
              "repeat_interval": 24,
              "mandatory_flag": false,
              "active_flag": true,
              "effective_start_date": "2024-01-01",
              "effective_end_date": null,
              "created_by": "EMP000010",
              "approved_by": "EMP000005",
              "approval_date": "2023-12-15",
              "version_number": "1.0",
              "revision_notes": "初版作成",
              "tags": "[\"プロジェクト管理\", \"PMBOK\", \"リーダーシップ\", \"中級\"]"
            },
            {
              "training_program_id": "TRN_PROG_002",
              "program_code": "AWS-ARCH-001",
              "program_name": "AWS認定ソリューションアーキテクト対策研修",
              "program_name_en": "AWS Certified Solutions Architect Preparation",
              "program_description": "AWS認定ソリューションアーキテクト資格取得のための対策研修",
              "program_category": "TECHNICAL",
              "program_type": "BLENDED",
              "target_audience": "SENIOR",
              "difficulty_level": "ADVANCED",
              "duration_hours": 24.0,
              "duration_days": 3,
              "max_participants": 15,
              "min_participants": 5,
              "prerequisites": "AWS基礎知識、クラウド実務経験1年以上",
              "learning_objectives": "AWSサービス理解、アーキテクチャ設計、試験合格",
              "curriculum_outline": "1日目：AWS基礎　2日目：アーキテクチャ設計　3日目：模擬試験・解説",
              "curriculum_details": "{\"day1\": [\"EC2\", \"S3\", \"VPC\"], \"day2\": [\"高可用性設計\", \"セキュリティ\", \"コスト最適化\"], \"day3\": [\"模擬試験\", \"解説\", \"試験対策\"]}",
              "materials_required": "[\"AWS公式テキスト\", \"模擬試験問題集\", \"ハンズオン環境\"]",
              "equipment_required": "[\"AWS環境\", \"PC\", \"インターネット接続\"]",
              "instructor_requirements": "AWS認定資格保有、実務経験3年以上",
              "assessment_method": "TEST",
              "passing_score": 80.0,
              "certification_provided": true,
              "pdu_credits": 24.0,
              "related_skills": "[\"AWS\", \"クラウドアーキテクチャ\", \"インフラ設計\"]",
              "related_certifications": "[\"AWS認定ソリューションアーキテクト\"]",
              "cost_per_participant": 80000.0,
              "external_provider": "AWSトレーニングパートナー",
              "external_url": "https://aws.amazon.com/training/",
              "venue_type": "HYBRID",
              "venue_requirements": "PC環境、AWS環境アクセス可能",
              "language": "JA",
              "repeat_interval": 12,
              "mandatory_flag": false,
              "active_flag": true,
              "effective_start_date": "2024-02-01",
              "effective_end_date": null,
              "created_by": "EMP000015",
              "approved_by": "EMP000008",
              "approval_date": "2024-01-20",
              "version_number": "1.1",
              "revision_notes": "ハンズオン内容を強化",
              "tags": "[\"AWS\", \"クラウド\", \"認定資格\", \"アーキテクチャ\", \"上級\"]"
            }
          ],
          "notes": [
            "カリキュラム詳細はJSON形式で柔軟に管理",
            "外部研修との連携により多様な学習機会を提供",
            "PDUクレジットにより継続教育を支援",
            "バージョン管理により研修内容の改善を追跡",
            "タグ機能により柔軟な検索・分類が可能",
            "多言語対応によりグローバル展開に対応",
            "研修プログラムIDとプログラムコードは一意である必要がある",
            "研修時間と日数は正数である必要がある",
            "最小参加者数は最大参加者数以下である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "合格点は0-100の範囲で設定",
            "必須研修は有効期間内である必要がある",
            "外部研修の場合は提供者情報が必要",
            "承認済みプログラムのみ実施可能"
          ],
          "rules": [
            "研修プログラムIDとプログラムコードは一意である必要がある",
            "研修時間と日数は正数である必要がある",
            "最小参加者数は最大参加者数以下である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "合格点は0-100の範囲で設定",
            "必須研修は有効期間内である必要がある",
            "外部研修の場合は提供者情報が必要",
            "承認済みプログラムのみ実施可能"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_TrainingProgram_研修プログラム.md"
        ]
      }
    },
    {
      "table_name": "MST_UserAuth",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_UserAuth",
          "logical_name": "ユーザー認証情報",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - ユーザ認証マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "8.0.20250624_214439",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール",
              "changes": "主キー（id）を先頭に移動し、推奨カラム順序に最終修正"
            },
            {
              "version": "9.0.20250624_214522",
              "date": "2025-06-24",
              "author": "完全カラム順序修正ツール",
              "changes": "推奨カラム順序（1.UUID 2.tenant_id 3.主キー 4.その他）に完全修正"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_UserAuth（ユーザー認証情報）は、システムにアクセスする全ユーザーの認証・認可情報を管理するマスタテーブルです。\n\n主な目的：\n- ユーザーアカウントの一元管理（ログインID、パスワード等）\n- 認証情報のセキュアな保存（パスワードハッシュ化、多要素認証対応）\n- アカウント状態管理（有効/無効、ロック状態等）\n- セッション管理・トークン管理\n- パスワードポリシーの適用・管理\n- ログイン履歴・セキュリティ監査\n- 外部認証システム連携（SSO、LDAP等）\n\nこのテーブルは、システム全体のセキュリティの基盤となり、不正アクセス防止、\n個人情報保護、コンプライアンス対応において重要な役割を果たします。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "account_status",
              "logical": "アカウント状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "アカウントの状態（ACTIVE:有効、INACTIVE:無効、LOCKED:ロック、SUSPENDED:停止）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "LOCKED",
                "SUSPENDED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "関連する社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "external_auth_id",
              "logical": "外部認証ID",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部認証システムでのユーザーID"
            },
            {
              "name": "external_auth_provider",
              "logical": "外部認証プロバイダ",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部認証プロバイダ（LDAP、SAML、OAuth等）"
            },
            {
              "name": "failed_login_count",
              "logical": "ログイン失敗回数",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連続ログイン失敗回数（アカウントロック判定用）",
              "default": 0
            },
            {
              "name": "last_failed_login_at",
              "logical": "最終ログイン失敗日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にログインに失敗した日時"
            },
            {
              "name": "last_login_at",
              "logical": "最終ログイン日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にログインした日時"
            },
            {
              "name": "last_login_ip",
              "logical": "最終ログインIP",
              "type": "VARCHAR",
              "length": 45,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にログインしたIPアドレス（IPv4/IPv6対応）"
            },
            {
              "name": "login_id",
              "logical": "ログインID",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "ログイン時に使用するID（通常はメールアドレス）"
            },
            {
              "name": "mfa_enabled",
              "logical": "多要素認証有効",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "多要素認証が有効かどうか",
              "default": false
            },
            {
              "name": "mfa_secret",
              "logical": "多要素認証シークレット",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "TOTP等の多要素認証用シークレットキー"
            },
            {
              "name": "password_changed_at",
              "logical": "パスワード変更日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "パスワードを最後に変更した日時"
            },
            {
              "name": "password_expires_at",
              "logical": "パスワード有効期限",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "パスワードの有効期限"
            },
            {
              "name": "password_hash",
              "logical": "パスワードハッシュ",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "ハッシュ化されたパスワード（bcrypt等）"
            },
            {
              "name": "password_salt",
              "logical": "パスワードソルト",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "パスワードハッシュ化用のソルト値"
            },
            {
              "name": "recovery_token",
              "logical": "復旧トークン",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "パスワードリセット等の復旧用トークン"
            },
            {
              "name": "recovery_token_expires_at",
              "logical": "復旧トークン有効期限",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "復旧トークンの有効期限"
            },
            {
              "name": "session_timeout",
              "logical": "セッションタイムアウト",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "セッションタイムアウト時間（分）"
            },
            {
              "name": "user_id",
              "logical": "ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "ユーザーを一意に識別するID（例：USER000001）",
              "validation": "^USER[0-9]{6}$"
            },
            {
              "name": "userauth_id",
              "logical": "MST_UserAuthの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_UserAuthの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_user_id",
              "columns": [
                "user_id"
              ],
              "unique": true,
              "description": "ユーザーID検索用（一意）"
            },
            {
              "name": "idx_login_id",
              "columns": [
                "login_id"
              ],
              "unique": true,
              "description": "ログインID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": true,
              "description": "社員ID検索用（一意）"
            },
            {
              "name": "idx_account_status",
              "columns": [
                "account_status"
              ],
              "unique": false,
              "description": "アカウント状態別検索用"
            },
            {
              "name": "idx_last_login",
              "columns": [
                "last_login_at"
              ],
              "unique": false,
              "description": "最終ログイン日時検索用"
            },
            {
              "name": "idx_password_expires",
              "columns": [
                "password_expires_at"
              ],
              "unique": false,
              "description": "パスワード有効期限検索用"
            },
            {
              "name": "idx_external_auth",
              "columns": [
                "external_auth_provider",
                "external_auth_id"
              ],
              "unique": false,
              "description": "外部認証検索用"
            },
            {
              "name": "idx_mst_userauth_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_user_id",
              "type": "UNIQUE",
              "description": "ユーザーID一意制約",
              "columns": [
                [
                  "user_id"
                ]
              ]
            },
            {
              "name": "uk_login_id",
              "type": "UNIQUE",
              "description": "ログインID一意制約",
              "columns": [
                [
                  "login_id"
                ]
              ]
            },
            {
              "name": "uk_employee_id",
              "type": "UNIQUE",
              "description": "社員ID一意制約",
              "columns": [
                [
                  "employee_id"
                ]
              ]
            },
            {
              "name": "chk_account_status",
              "type": "CHECK",
              "description": "アカウント状態値チェック制約",
              "condition": "account_status IN ('ACTIVE', 'INACTIVE', 'LOCKED', 'SUSPENDED')"
            },
            {
              "name": "chk_failed_login_count",
              "type": "CHECK",
              "description": "ログイン失敗回数非負値チェック制約",
              "condition": "failed_login_count >= 0"
            },
            {
              "name": "chk_session_timeout",
              "type": "CHECK",
              "description": "セッションタイムアウト正値チェック制約",
              "condition": "session_timeout IS NULL OR session_timeout > 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_userauth_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "user_id": "USER000001",
              "login_id": "yamada.taro@company.com",
              "password_hash": "$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj/RK.s5uIoS",
              "password_salt": "randomsalt123",
              "employee_id": "EMP000001",
              "account_status": "ACTIVE",
              "last_login_at": "2025-06-01 09:00:00",
              "last_login_ip": "192.168.1.100",
              "failed_login_count": 0,
              "last_failed_login_at": null,
              "password_changed_at": "2025-01-01 00:00:00",
              "password_expires_at": "2025-12-31 23:59:59",
              "mfa_enabled": true,
              "mfa_secret": "JBSWY3DPEHPK3PXP",
              "recovery_token": null,
              "recovery_token_expires_at": null,
              "session_timeout": 480,
              "external_auth_provider": null,
              "external_auth_id": null
            },
            {
              "user_id": "USER000002",
              "login_id": "sato.hanako@company.com",
              "password_hash": "$2b$12$XQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj/RK.s5uIoX",
              "password_salt": "randomsalt456",
              "employee_id": "EMP000002",
              "account_status": "ACTIVE",
              "last_login_at": "2025-05-31 17:30:00",
              "last_login_ip": "192.168.1.101",
              "failed_login_count": 0,
              "last_failed_login_at": null,
              "password_changed_at": "2025-02-01 00:00:00",
              "password_expires_at": "2026-01-31 23:59:59",
              "mfa_enabled": false,
              "mfa_secret": null,
              "recovery_token": null,
              "recovery_token_expires_at": null,
              "session_timeout": 240,
              "external_auth_provider": null,
              "external_auth_id": null
            }
          ],
          "notes": [
            "パスワードは必ずハッシュ化して保存（平文保存禁止）",
            "個人情報保護のため機密情報は暗号化",
            "ログイン失敗回数によるアカウントロック機能",
            "多要素認証（MFA）対応",
            "外部認証システム連携対応",
            "パスワード有効期限管理",
            "セッションタイムアウト個別設定可能",
            "ログイン失敗5回でアカウント自動ロック",
            "パスワードは90日で有効期限切れ",
            "パスワードは過去3回分と同じものは使用不可",
            "管理者権限ユーザーは多要素認証必須",
            "外部認証ユーザーはパスワード管理不要",
            "アカウントロック解除は管理者のみ可能",
            "復旧トークンの有効期限は24時間",
            "セッションタイムアウトのデフォルトは8時間"
          ],
          "rules": [
            "ログイン失敗5回でアカウント自動ロック",
            "パスワードは90日で有効期限切れ",
            "パスワードは過去3回分と同じものは使用不可",
            "管理者権限ユーザーは多要素認証必須",
            "外部認証ユーザーはパスワード管理不要",
            "アカウントロック解除は管理者のみ可能",
            "復旧トークンの有効期限は24時間",
            "セッションタイムアウトのデフォルトは8時間"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_UserAuth_ユーザー認証情報.md"
        ]
      }
    },
    {
      "table_name": "MST_UserRole",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_UserRole",
          "logical_name": "ユーザーロール紐付け",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - ユーザロール関連マスタテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214006",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "MST_UserRole（ユーザーロール紐付け）は、ユーザーとロールの関連付けを管理するマスタテーブルです。\n\n主な目的：\n- ユーザーとロールの多対多関係管理\n- 動的なロール割り当て・解除\n- 時限ロール・条件付きロール割り当て\n- ロール継承・委譲の管理\n- 権限昇格・降格の履歴管理\n- 職務分離・最小権限の原則実装\n- 監査・コンプライアンス対応\n\nこのテーブルは、ユーザーの実際の権限を決定する重要な関連テーブルであり、\nシステムセキュリティの実装において中核的な役割を果たします。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "approval_status",
              "logical": "承認状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認の状態（PENDING:承認待ち、APPROVED:承認済み、REJECTED:却下）",
              "enum_values": [
                "PENDING",
                "APPROVED",
                "REJECTED"
              ]
            },
            {
              "name": "approved_at",
              "logical": "承認日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当てが承認された日時"
            },
            {
              "name": "approved_by",
              "logical": "承認者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当てを承認した管理者のID"
            },
            {
              "name": "assigned_by",
              "logical": "割り当て者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールを割り当てた管理者のID（MST_UserAuthへの外部キー）"
            },
            {
              "name": "assignment_reason",
              "logical": "割り当て理由",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当ての理由・根拠"
            },
            {
              "name": "assignment_status",
              "logical": "割り当て状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "割り当ての状態（ACTIVE:有効、INACTIVE:無効、SUSPENDED:停止、EXPIRED:期限切れ）",
              "enum_values": [
                "ACTIVE",
                "INACTIVE",
                "SUSPENDED",
                "EXPIRED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "assignment_type",
              "logical": "割り当て種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当ての種別（DIRECT:直接、INHERITED:継承、DELEGATED:委譲、TEMPORARY:一時的）",
              "enum_values": [
                "DIRECT",
                "INHERITED",
                "DELEGATED",
                "TEMPORARY"
              ],
              "default": "DIRECT"
            },
            {
              "name": "auto_assigned",
              "logical": "自動割り当てフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システムによる自動割り当てかどうか",
              "default": false
            },
            {
              "name": "conditions",
              "logical": "適用条件",
              "type": "JSON",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール適用の条件（時間帯、場所、状況等をJSON形式）"
            },
            {
              "name": "delegation_expires_at",
              "logical": "委譲期限",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "委譲ロールの期限"
            },
            {
              "name": "delegation_source_user_id",
              "logical": "委譲元ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "委譲ロールの場合の委譲元ユーザーID"
            },
            {
              "name": "effective_from",
              "logical": "有効開始日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当ての有効開始日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール割り当ての有効終了日時"
            },
            {
              "name": "is_primary_role",
              "logical": "主ロールフラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ユーザーの主要ロールかどうか",
              "default": false
            },
            {
              "name": "last_used_at",
              "logical": "最終使用日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このロールが最後に使用された日時"
            },
            {
              "name": "priority_order",
              "logical": "優先順序",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "複数ロール保持時の優先順序（数値が小さいほど高優先）",
              "default": 999
            },
            {
              "name": "requires_approval",
              "logical": "承認要求フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロール行使に承認が必要かどうか",
              "default": false
            },
            {
              "name": "role_id",
              "logical": "ロールID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ロールのID（MST_Roleへの外部キー）"
            },
            {
              "name": "usage_count",
              "logical": "使用回数",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このロールが使用された回数",
              "default": 0
            },
            {
              "name": "user_id",
              "logical": "ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ユーザーのID（MST_UserAuthへの外部キー）"
            },
            {
              "name": "userrole_id",
              "logical": "MST_UserRoleの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "MST_UserRoleの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_user_role",
              "columns": [
                "user_id",
                "role_id"
              ],
              "unique": true,
              "description": "ユーザー・ロール組み合わせ検索用（一意）"
            },
            {
              "name": "idx_user_id",
              "columns": [
                "user_id"
              ],
              "unique": false,
              "description": "ユーザー別検索用"
            },
            {
              "name": "idx_role_id",
              "columns": [
                "role_id"
              ],
              "unique": false,
              "description": "ロール別検索用"
            },
            {
              "name": "idx_assignment_type",
              "columns": [
                "assignment_type"
              ],
              "unique": false,
              "description": "割り当て種別検索用"
            },
            {
              "name": "idx_assigned_by",
              "columns": [
                "assigned_by"
              ],
              "unique": false,
              "description": "割り当て者別検索用"
            },
            {
              "name": "idx_effective_period",
              "columns": [
                "effective_from",
                "effective_to"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_primary_role",
              "columns": [
                "user_id",
                "is_primary_role"
              ],
              "unique": false,
              "description": "主ロール検索用"
            },
            {
              "name": "idx_assignment_status",
              "columns": [
                "assignment_status"
              ],
              "unique": false,
              "description": "割り当て状態別検索用"
            },
            {
              "name": "idx_approval_status",
              "columns": [
                "approval_status"
              ],
              "unique": false,
              "description": "承認状態別検索用"
            },
            {
              "name": "idx_delegation_source",
              "columns": [
                "delegation_source_user_id"
              ],
              "unique": false,
              "description": "委譲元ユーザー検索用"
            },
            {
              "name": "idx_mst_userrole_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_user_role_active",
              "type": "UNIQUE",
              "description": "アクティブなユーザー・ロール組み合わせ一意制約",
              "columns": [
                [
                  "user_id"
                ],
                [
                  "role_id"
                ],
                [
                  "assignment_status"
                ]
              ]
            },
            {
              "name": "chk_assignment_type",
              "type": "CHECK",
              "description": "割り当て種別値チェック制約",
              "condition": "assignment_type IN ('DIRECT', 'INHERITED', 'DELEGATED', 'TEMPORARY')"
            },
            {
              "name": "chk_assignment_status",
              "type": "CHECK",
              "description": "割り当て状態値チェック制約",
              "condition": "assignment_status IN ('ACTIVE', 'INACTIVE', 'SUSPENDED', 'EXPIRED')"
            },
            {
              "name": "chk_approval_status",
              "type": "CHECK",
              "description": "承認状態値チェック制約",
              "condition": "approval_status IS NULL OR approval_status IN ('PENDING', 'APPROVED', 'REJECTED')"
            },
            {
              "name": "chk_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from <= effective_to"
            },
            {
              "name": "chk_delegation_period",
              "type": "CHECK",
              "description": "委譲期間整合性チェック制約",
              "condition": "delegation_expires_at IS NULL OR effective_from <= delegation_expires_at"
            },
            {
              "name": "chk_priority_order",
              "type": "CHECK",
              "description": "優先順序正値チェック制約",
              "condition": "priority_order > 0"
            },
            {
              "name": "chk_usage_count",
              "type": "CHECK",
              "description": "使用回数非負値チェック制約",
              "condition": "usage_count >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_userrole_user",
              "columns": [
                "user_id"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "user_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_userrole_role",
              "columns": [
                "role_id"
              ],
              "references": {
                "table": "MST_Role",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_userrole_assigned_by",
              "columns": [
                "assigned_by"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_userrole_delegation_source",
              "columns": [
                "delegation_source_user_id"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_userrole_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "user_id": "USER000001",
              "role_id": "ROLE003",
              "assignment_type": "DIRECT",
              "assigned_by": "USER000000",
              "assignment_reason": "新規ユーザー登録時の標準ロール割り当て",
              "effective_from": "2025-01-01 00:00:00",
              "effective_to": null,
              "is_primary_role": true,
              "priority_order": 1,
              "conditions": null,
              "delegation_source_user_id": null,
              "delegation_expires_at": null,
              "auto_assigned": true,
              "requires_approval": false,
              "approval_status": null,
              "approved_by": null,
              "approved_at": null,
              "assignment_status": "ACTIVE",
              "last_used_at": "2025-06-01 09:00:00",
              "usage_count": 150
            },
            {
              "user_id": "USER000002",
              "role_id": "ROLE002",
              "assignment_type": "DIRECT",
              "assigned_by": "USER000001",
              "assignment_reason": "テナント管理者権限付与",
              "effective_from": "2025-02-01 00:00:00",
              "effective_to": null,
              "is_primary_role": true,
              "priority_order": 1,
              "conditions": "{\"tenant_id\": \"TENANT001\"}",
              "delegation_source_user_id": null,
              "delegation_expires_at": null,
              "auto_assigned": false,
              "requires_approval": true,
              "approval_status": "APPROVED",
              "approved_by": "USER000001",
              "approved_at": "2025-01-31 15:30:00",
              "assignment_status": "ACTIVE",
              "last_used_at": "2025-06-01 10:30:00",
              "usage_count": 75
            }
          ],
          "notes": [
            "ユーザーとロールの多対多関係を管理",
            "時限ロール・条件付きロールに対応",
            "委譲ロールによる一時的権限移譲が可能",
            "承認フローによる権限昇格制御",
            "使用状況の追跡・監査が可能",
            "主ロールによる基本権限の明確化",
            "1ユーザーにつき1つの主ロール（is_primary_role=true）のみ",
            "有効期間外のロール割り当ては自動的に EXPIRED 状態に変更",
            "委譲ロールは委譲期限で自動失効",
            "承認要求ロールは承認完了まで使用不可",
            "ロール使用時は last_used_at と usage_count を更新",
            "同一ユーザー・ロールの重複割り当ては不可",
            "委譲元ユーザーが無効化された場合は委譲ロールも無効化"
          ],
          "rules": [
            "1ユーザーにつき1つの主ロール（is_primary_role=true）のみ",
            "有効期間外のロール割り当ては自動的に EXPIRED 状態に変更",
            "委譲ロールは委譲期限で自動失効",
            "承認要求ロールは承認完了まで使用不可",
            "ロール使用時は last_used_at と usage_count を更新",
            "同一ユーザー・ロールの重複割り当ては不可",
            "委譲元ユーザーが無効化された場合は委譲ロールも無効化"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_MST_UserRole_ユーザーロール紐付け.md"
        ]
      }
    },
    {
      "table_name": "SYS_BackupHistory",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_BackupHistory",
          "logical_name": "バックアップ履歴",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "システム",
              "changes": "初版作成 - SYS_BackupHistoryの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "バックアップ履歴テーブルは、システムのデータバックアップ実行履歴を管理するシステムテーブルです。\n\n主な目的：\n- データベースバックアップの実行履歴管理\n- バックアップの成功・失敗状況の記録\n- バックアップファイルの保存場所管理\n- 復旧時のバックアップ選択支援\n\nこのテーブルは、システムの可用性とデータ保護を支える重要なテーブルで、\n障害時の迅速な復旧とデータ整合性の確保に貢献します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "backup_end_time",
              "logical": "バックアップ終了時刻",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ処理の終了日時"
            },
            {
              "name": "backup_file_path",
              "logical": "バックアップファイルパス",
              "type": "VARCHAR",
              "length": 1000,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの保存先パス"
            },
            {
              "name": "backup_file_size",
              "logical": "バックアップファイルサイズ",
              "type": "BIGINT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルのサイズ（バイト）"
            },
            {
              "name": "backup_id",
              "logical": "バックアップID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "バックアップの一意識別子"
            },
            {
              "name": "backup_scope",
              "logical": "バックアップ範囲",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ対象範囲（DATABASE:データベース全体、TABLE:特定テーブル、SCHEMA:特定スキーマ）",
              "enum_values": [
                "DATABASE",
                "TABLE",
                "SCHEMA"
              ],
              "default": "DATABASE"
            },
            {
              "name": "backup_start_time",
              "logical": "バックアップ開始時刻",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ処理の開始日時"
            },
            {
              "name": "backup_status",
              "logical": "バックアップ状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップの実行状況（RUNNING:実行中、SUCCESS:成功、FAILED:失敗、CANCELLED:キャンセル）",
              "enum_values": [
                "RUNNING",
                "SUCCESS",
                "FAILED",
                "CANCELLED"
              ],
              "default": "RUNNING"
            },
            {
              "name": "backup_trigger",
              "logical": "バックアップ契機",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ実行の契機（SCHEDULED:スケジュール、MANUAL:手動、EMERGENCY:緊急）",
              "enum_values": [
                "SCHEDULED",
                "MANUAL",
                "EMERGENCY"
              ],
              "default": "SCHEDULED"
            },
            {
              "name": "backup_type",
              "logical": "バックアップ種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップの種別（FULL:フルバックアップ、INCREMENTAL:増分バックアップ、DIFFERENTIAL:差分バックアップ）",
              "enum_values": [
                "FULL",
                "INCREMENTAL",
                "DIFFERENTIAL"
              ],
              "default": "FULL"
            },
            {
              "name": "backuphistory_id",
              "logical": "SYS_BackupHistoryの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_BackupHistoryの主キー",
              "default": null
            },
            {
              "name": "checksum",
              "logical": "チェックサム",
              "type": "VARCHAR",
              "length": 128,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの整合性チェック用ハッシュ値"
            },
            {
              "name": "compression_type",
              "logical": "圧縮形式",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの圧縮形式（NONE:無圧縮、GZIP:gzip圧縮、ZIP:zip圧縮）",
              "enum_values": [
                "NONE",
                "GZIP",
                "ZIP"
              ]
            },
            {
              "name": "encryption_enabled",
              "logical": "暗号化有無",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの暗号化有無",
              "default": false
            },
            {
              "name": "error_message",
              "logical": "エラーメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ失敗時のエラーメッセージ"
            },
            {
              "name": "executed_by",
              "logical": "実行者",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップを実行したユーザーまたはシステム"
            },
            {
              "name": "expiry_date",
              "logical": "有効期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの有効期限日"
            },
            {
              "name": "recovery_test_date",
              "logical": "復旧テスト日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "復旧テストを実施した日付"
            },
            {
              "name": "recovery_tested",
              "logical": "復旧テスト済み",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このバックアップからの復旧テストが実施済みかどうか",
              "default": false
            },
            {
              "name": "retention_period_days",
              "logical": "保持期間日数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップファイルの保持期間（日数）",
              "default": 30
            },
            {
              "name": "target_objects",
              "logical": "対象オブジェクト",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "バックアップ対象のテーブル名やスキーマ名（JSON配列形式）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_SYS_BackupHistory_backup_id",
              "columns": [
                "backup_id"
              ],
              "unique": true,
              "description": "バックアップID検索用（一意）"
            },
            {
              "name": "idx_SYS_BackupHistory_start_time",
              "columns": [
                "backup_start_time"
              ],
              "unique": false,
              "description": "バックアップ開始時刻検索用"
            },
            {
              "name": "idx_SYS_BackupHistory_status",
              "columns": [
                "backup_status"
              ],
              "unique": false,
              "description": "バックアップ状況検索用"
            },
            {
              "name": "idx_SYS_BackupHistory_type_scope",
              "columns": [
                "backup_type",
                "backup_scope"
              ],
              "unique": false,
              "description": "バックアップ種別と範囲の複合検索用"
            },
            {
              "name": "idx_SYS_BackupHistory_expiry_date",
              "columns": [
                "expiry_date"
              ],
              "unique": false,
              "description": "有効期限検索用（期限切れバックアップの削除処理用）"
            }
          ],
          "constraints": [
            {
              "name": "uk_SYS_BackupHistory_backup_id",
              "type": "UNIQUE",
              "description": "バックアップID一意制約",
              "columns": [
                [
                  "backup_id"
                ]
              ]
            },
            {
              "name": "chk_SYS_BackupHistory_backup_type",
              "type": "CHECK",
              "description": "バックアップ種別値チェック制約",
              "condition": "backup_type IN ('FULL', 'INCREMENTAL', 'DIFFERENTIAL')"
            },
            {
              "name": "chk_SYS_BackupHistory_backup_scope",
              "type": "CHECK",
              "description": "バックアップ範囲値チェック制約",
              "condition": "backup_scope IN ('DATABASE', 'TABLE', 'SCHEMA')"
            },
            {
              "name": "chk_SYS_BackupHistory_backup_status",
              "type": "CHECK",
              "description": "バックアップ状況値チェック制約",
              "condition": "backup_status IN ('RUNNING', 'SUCCESS', 'FAILED', 'CANCELLED')"
            },
            {
              "name": "chk_SYS_BackupHistory_compression_type",
              "type": "CHECK",
              "description": "圧縮形式値チェック制約",
              "condition": "compression_type IS NULL OR compression_type IN ('NONE', 'GZIP', 'ZIP')"
            },
            {
              "name": "chk_SYS_BackupHistory_backup_trigger",
              "type": "CHECK",
              "description": "バックアップ契機値チェック制約",
              "condition": "backup_trigger IN ('SCHEDULED', 'MANUAL', 'EMERGENCY')"
            },
            {
              "name": "chk_SYS_BackupHistory_retention_period",
              "type": "CHECK",
              "description": "保持期間正数チェック制約",
              "condition": "retention_period_days > 0"
            },
            {
              "name": "chk_SYS_BackupHistory_file_size",
              "type": "CHECK",
              "description": "ファイルサイズ非負数チェック制約",
              "condition": "backup_file_size IS NULL OR backup_file_size >= 0"
            },
            {
              "name": "chk_SYS_BackupHistory_end_time",
              "type": "CHECK",
              "description": "終了時刻は開始時刻以降チェック制約",
              "condition": "backup_end_time IS NULL OR backup_end_time >= backup_start_time"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "backup_id": "BKP_20240101_001",
              "backup_type": "FULL",
              "backup_scope": "DATABASE",
              "target_objects": null,
              "backup_start_time": "2024-01-01 02:00:00",
              "backup_end_time": "2024-01-01 02:45:00",
              "backup_status": "SUCCESS",
              "backup_file_path": "/backup/full/skill_report_20240101_020000.sql.gz",
              "backup_file_size": 1073741824,
              "compression_type": "GZIP",
              "encryption_enabled": true,
              "checksum": "a1b2c3d4e5f6789012345678901234567890abcd",
              "retention_period_days": 90,
              "expiry_date": "2024-04-01",
              "backup_trigger": "SCHEDULED",
              "executed_by": "system_backup_job",
              "error_message": null,
              "recovery_tested": true,
              "recovery_test_date": "2024-01-15"
            },
            {
              "backup_id": "BKP_20240101_002",
              "backup_type": "INCREMENTAL",
              "backup_scope": "DATABASE",
              "target_objects": null,
              "backup_start_time": "2024-01-01 14:00:00",
              "backup_end_time": "2024-01-01 14:05:00",
              "backup_status": "SUCCESS",
              "backup_file_path": "/backup/incremental/skill_report_20240101_140000.sql.gz",
              "backup_file_size": 52428800,
              "compression_type": "GZIP",
              "encryption_enabled": true,
              "checksum": "b2c3d4e5f6789012345678901234567890abcde1",
              "retention_period_days": 30,
              "expiry_date": "2024-01-31",
              "backup_trigger": "SCHEDULED",
              "executed_by": "system_backup_job",
              "error_message": null,
              "recovery_tested": false,
              "recovery_test_date": null
            }
          ],
          "notes": [
            "バックアップIDは一意である必要がある",
            "バックアップ実行中はSTATUSがRUNNINGとなり、終了時に結果に応じて更新される",
            "フルバックアップは週次、増分バックアップは日次で実行される",
            "バックアップファイルは暗号化して保存される",
            "有効期限を過ぎたバックアップファイルは自動削除される",
            "復旧テストは定期的に実施し、結果を記録する",
            "論理削除は is_deleted フラグで管理",
            "バックアップIDは「BKP_YYYYMMDD_NNN」形式で生成する",
            "フルバックアップは毎週日曜日2:00に実行する",
            "増分バックアップは毎日14:00に実行する（日曜日を除く）",
            "バックアップファイルは必ず暗号化して保存する",
            "フルバックアップの保持期間は90日、増分バックアップは30日",
            "バックアップ失敗時は管理者にアラート通知を送信する",
            "月次で復旧テストを実施し、結果を記録する",
            "緊急時のマニュアルバックアップも履歴として記録する"
          ],
          "rules": [
            "バックアップIDは「BKP_YYYYMMDD_NNN」形式で生成する",
            "フルバックアップは毎週日曜日2:00に実行する",
            "増分バックアップは毎日14:00に実行する（日曜日を除く）",
            "バックアップファイルは必ず暗号化して保存する",
            "フルバックアップの保持期間は90日、増分バックアップは30日",
            "バックアップ失敗時は管理者にアラート通知を送信する",
            "月次で復旧テストを実施し、結果を記録する",
            "緊急時のマニュアルバックアップも履歴として記録する"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_BackupHistory_バックアップ履歴.md"
        ]
      }
    },
    {
      "table_name": "SYS_IntegrationConfig",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_IntegrationConfig",
          "logical_name": "外部連携設定",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 外部連携設定システムテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "SYS_IntegrationConfig（外部連携設定）は、外部システムとの連携に必要な設定情報を管理するシステムテーブルです。\n\n主な目的：\n- 外部API接続設定の管理\n- 認証情報・エンドポイント情報の管理\n- 連携パラメータ・設定値の管理\n- 外部システム別設定の管理\n- テナント別連携設定の管理\n\nこのテーブルは、通知・連携管理機能において外部システムとの安全で効率的な連携を実現する重要なシステムデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "auth_config",
              "logical": "認証設定",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "認証に必要な設定情報（JSON形式、暗号化必須）"
            },
            {
              "name": "auth_type",
              "logical": "認証タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "認証方式（NONE:認証なし、BASIC:Basic認証、BEARER:Bearer Token、OAUTH2:OAuth2.0、API_KEY:APIキー）",
              "enum_values": [
                "NONE",
                "BASIC",
                "BEARER",
                "OAUTH2",
                "API_KEY"
              ]
            },
            {
              "name": "connection_config",
              "logical": "接続設定",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "接続に関する設定情報（JSON形式）"
            },
            {
              "name": "endpoint_url",
              "logical": "エンドポイントURL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携先のエンドポイントURL"
            },
            {
              "name": "health_check_url",
              "logical": "ヘルスチェックURL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携先の死活監視用URL"
            },
            {
              "name": "health_status",
              "logical": "ヘルス状態",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携先の状態（HEALTHY:正常、UNHEALTHY:異常、UNKNOWN:不明）",
              "enum_values": [
                "HEALTHY",
                "UNHEALTHY",
                "UNKNOWN"
              ]
            },
            {
              "name": "integration_key",
              "logical": "連携キー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携設定の識別キー（例：slack_webhook、teams_connector等）"
            },
            {
              "name": "integration_name",
              "logical": "連携名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携設定の表示名"
            },
            {
              "name": "integration_type",
              "logical": "連携タイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携の種類（WEBHOOK:Webhook、API:REST API、OAUTH:OAuth認証、SMTP:メール送信）",
              "enum_values": [
                "WEBHOOK",
                "API",
                "OAUTH",
                "SMTP"
              ]
            },
            {
              "name": "integrationconfig_id",
              "logical": "SYS_IntegrationConfigの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_IntegrationConfigの主キー",
              "default": null
            },
            {
              "name": "is_enabled",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "連携設定が有効かどうか",
              "default": true
            },
            {
              "name": "last_health_check",
              "logical": "最終ヘルスチェック",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最終ヘルスチェック実行日時"
            },
            {
              "name": "rate_limit_per_minute",
              "logical": "分間レート制限",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "1分間あたりのリクエスト制限数"
            },
            {
              "name": "request_headers",
              "logical": "リクエストヘッダー",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "デフォルトリクエストヘッダー（JSON形式）"
            },
            {
              "name": "retry_count",
              "logical": "リトライ回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "失敗時のリトライ回数",
              "default": 3
            },
            {
              "name": "retry_interval",
              "logical": "リトライ間隔",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "リトライ間隔（秒）",
              "default": 5
            },
            {
              "name": "timeout_seconds",
              "logical": "タイムアウト秒数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "接続タイムアウト時間（秒）",
              "default": 30
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_integration_config_tenant_key",
              "columns": [
                "tenant_id",
                "integration_key"
              ],
              "unique": true,
              "description": "テナント別連携キー検索用（一意）"
            },
            {
              "name": "idx_integration_config_type",
              "columns": [
                "integration_type"
              ],
              "unique": false,
              "description": "連携タイプ別検索用"
            },
            {
              "name": "idx_integration_config_enabled",
              "columns": [
                "is_enabled"
              ],
              "unique": false,
              "description": "有効設定検索用"
            },
            {
              "name": "idx_integration_config_health",
              "columns": [
                "health_status",
                "last_health_check"
              ],
              "unique": false,
              "description": "ヘルス状態検索用"
            },
            {
              "name": "idx_integration_config_auth_type",
              "columns": [
                "auth_type"
              ],
              "unique": false,
              "description": "認証タイプ別検索用"
            }
          ],
          "constraints": [
            {
              "name": "uk_integration_config_tenant_key",
              "type": "UNIQUE",
              "description": "テナント内連携キー一意制約",
              "columns": [
                [
                  "tenant_id"
                ],
                [
                  "integration_key"
                ]
              ]
            },
            {
              "name": "chk_integration_config_type",
              "type": "CHECK",
              "description": "連携タイプ値チェック制約",
              "condition": "integration_type IN ('WEBHOOK', 'API', 'OAUTH', 'SMTP')"
            },
            {
              "name": "chk_integration_config_auth_type",
              "type": "CHECK",
              "description": "認証タイプ値チェック制約",
              "condition": "auth_type IN ('NONE', 'BASIC', 'BEARER', 'OAUTH2', 'API_KEY')"
            },
            {
              "name": "chk_integration_config_health_status",
              "type": "CHECK",
              "description": "ヘルス状態値チェック制約",
              "condition": "health_status IS NULL OR health_status IN ('HEALTHY', 'UNHEALTHY', 'UNKNOWN')"
            },
            {
              "name": "chk_integration_config_timeout_positive",
              "type": "CHECK",
              "description": "タイムアウト秒数正数チェック制約",
              "condition": "timeout_seconds > 0"
            },
            {
              "name": "chk_integration_config_retry_positive",
              "type": "CHECK",
              "description": "リトライ設定正数チェック制約",
              "condition": "retry_count >= 0 AND retry_interval >= 0"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "id": "IC001",
              "tenant_id": "TENANT001",
              "integration_key": "slack_webhook",
              "integration_name": "Slack通知連携",
              "integration_type": "WEBHOOK",
              "endpoint_url": "https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX",
              "auth_type": "NONE",
              "auth_config": null,
              "connection_config": "{\"channel\": \"#notifications\", \"username\": \"SkillBot\", \"icon_emoji\": \":robot_face:\"}",
              "request_headers": "{\"Content-Type\": \"application/json\"}",
              "timeout_seconds": 30,
              "retry_count": 3,
              "retry_interval": 5,
              "rate_limit_per_minute": 60,
              "is_enabled": true,
              "health_check_url": null,
              "last_health_check": null,
              "health_status": "UNKNOWN"
            },
            {
              "id": "IC002",
              "tenant_id": "TENANT001",
              "integration_key": "teams_connector",
              "integration_name": "Microsoft Teams連携",
              "integration_type": "WEBHOOK",
              "endpoint_url": "https://outlook.office.com/webhook/xxx/IncomingWebhook/yyy/zzz",
              "auth_type": "NONE",
              "auth_config": null,
              "connection_config": "{\"title\": \"スキル管理システム\", \"theme_color\": \"0078D4\"}",
              "request_headers": "{\"Content-Type\": \"application/json\"}",
              "timeout_seconds": 30,
              "retry_count": 3,
              "retry_interval": 5,
              "rate_limit_per_minute": 30,
              "is_enabled": true,
              "health_check_url": null,
              "last_health_check": null,
              "health_status": "UNKNOWN"
            },
            {
              "id": "IC003",
              "tenant_id": "TENANT001",
              "integration_key": "smtp_server",
              "integration_name": "メール送信サーバー",
              "integration_type": "SMTP",
              "endpoint_url": "smtp.company.com:587",
              "auth_type": "BASIC",
              "auth_config": "{\"username\": \"noreply@company.com\", \"password\": \"encrypted_password\"}",
              "connection_config": "{\"use_tls\": true, \"use_ssl\": false, \"from_address\": \"noreply@company.com\", \"from_name\": \"スキル管理システム\"}",
              "request_headers": null,
              "timeout_seconds": 60,
              "retry_count": 2,
              "retry_interval": 10,
              "rate_limit_per_minute": 100,
              "is_enabled": true,
              "health_check_url": null,
              "last_health_check": "2025-06-01 19:00:00",
              "health_status": "HEALTHY"
            }
          ],
          "notes": [
            "認証設定（auth_config）は暗号化必須",
            "接続設定・リクエストヘッダーはJSON形式で柔軟な設定に対応",
            "レート制限により外部システムへの負荷を制御",
            "ヘルスチェック機能により連携先の状態を監視",
            "リトライ機能により一時的な障害に対応",
            "テナント別設定により個別カスタマイズに対応",
            "無効化された設定は連携処理から除外される",
            "同一テナント内で連携キーは重複不可",
            "無効化された設定は連携処理から除外される",
            "認証情報は暗号化して保存する",
            "タイムアウト・リトライ設定は正数である必要がある",
            "レート制限は外部システムの制約に応じて設定",
            "ヘルスチェックは定期的に実行し状態を更新",
            "OAuth2認証の場合はトークン更新処理が必要",
            "SMTP設定の場合は送信テストを実行して確認"
          ],
          "rules": [
            "同一テナント内で連携キーは重複不可",
            "無効化された設定は連携処理から除外される",
            "認証情報は暗号化して保存する",
            "タイムアウト・リトライ設定は正数である必要がある",
            "レート制限は外部システムの制約に応じて設定",
            "ヘルスチェックは定期的に実行し状態を更新",
            "OAuth2認証の場合はトークン更新処理が必要",
            "SMTP設定の場合は送信テストを実行して確認"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_IntegrationConfig_外部連携設定.md"
        ]
      }
    },
    {
      "table_name": "SYS_MasterData",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_MasterData",
          "logical_name": "マスターデータ管理",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "システム",
              "changes": "初版作成 - SYS_MasterDataの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "マスターデータ管理テーブルは、システム全体で使用される各種マスターデータの管理を行うシステムテーブルです。\n\n主な目的：\n- システム設定値の一元管理\n- 各種コードマスターの管理\n- 動的な設定変更への対応\n- マスターデータの変更履歴管理\n\nこのテーブルは、システムの柔軟性と保守性を向上させる重要なテーブルで、\nハードコーディングを避け、設定値の動的な変更を可能にします。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "data_type",
              "logical": "データ型",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスター値のデータ型（STRING:文字列、INTEGER:整数、DECIMAL:小数、BOOLEAN:真偽値、JSON:JSON、DATE:日付）",
              "enum_values": [
                "STRING",
                "INTEGER",
                "DECIMAL",
                "BOOLEAN",
                "JSON",
                "DATE"
              ],
              "default": "STRING"
            },
            {
              "name": "default_value",
              "logical": "デフォルト値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータのデフォルト値"
            },
            {
              "name": "description",
              "logical": "説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータの詳細説明"
            },
            {
              "name": "display_order",
              "logical": "表示順序",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同一カテゴリ内での表示順序",
              "default": 0
            },
            {
              "name": "effective_from",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータの有効開始日"
            },
            {
              "name": "effective_to",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータの有効終了日"
            },
            {
              "name": "is_editable",
              "logical": "編集可能フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "管理画面から編集可能かどうか",
              "default": true
            },
            {
              "name": "is_system_managed",
              "logical": "システム管理フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "システムが管理するマスターデータかどうか（true:システム管理、false:ユーザー管理）",
              "default": false
            },
            {
              "name": "last_modified_at",
              "logical": "最終更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にマスターデータを更新した日時"
            },
            {
              "name": "last_modified_by",
              "logical": "最終更新者",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後にマスターデータを更新したユーザー"
            },
            {
              "name": "master_category",
              "logical": "マスターカテゴリ",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータのカテゴリ（SYSTEM:システム設定、CODE:コードマスター、CONFIG:設定値）"
            },
            {
              "name": "master_key",
              "logical": "マスターキー",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "マスターデータの一意識別キー"
            },
            {
              "name": "master_name",
              "logical": "マスター名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータの表示名"
            },
            {
              "name": "master_value",
              "logical": "マスター値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータの値（JSON形式も可）"
            },
            {
              "name": "masterdata_id",
              "logical": "SYS_MasterDataの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_MasterDataの主キー",
              "default": null
            },
            {
              "name": "validation_rule",
              "logical": "バリデーションルール",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "値の妥当性チェック用の正規表現やルール"
            },
            {
              "name": "version",
              "logical": "バージョン",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マスターデータのバージョン番号（楽観的排他制御用）",
              "default": 1
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_SYS_MasterData_master_key",
              "columns": [
                "master_key"
              ],
              "unique": true,
              "description": "マスターキー検索用（一意）"
            },
            {
              "name": "idx_SYS_MasterData_category",
              "columns": [
                "master_category"
              ],
              "unique": false,
              "description": "マスターカテゴリ検索用"
            },
            {
              "name": "idx_SYS_MasterData_category_order",
              "columns": [
                "master_category",
                "display_order"
              ],
              "unique": false,
              "description": "カテゴリ別表示順序検索用"
            },
            {
              "name": "idx_SYS_MasterData_effective_period",
              "columns": [
                "effective_from",
                "effective_to"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_SYS_MasterData_system_managed",
              "columns": [
                "is_system_managed"
              ],
              "unique": false,
              "description": "システム管理フラグ検索用"
            }
          ],
          "constraints": [
            {
              "name": "uk_SYS_MasterData_master_key",
              "type": "UNIQUE",
              "description": "マスターキー一意制約",
              "columns": [
                [
                  "master_key"
                ]
              ]
            },
            {
              "name": "chk_SYS_MasterData_data_type",
              "type": "CHECK",
              "description": "データ型値チェック制約",
              "condition": "data_type IN ('STRING', 'INTEGER', 'DECIMAL', 'BOOLEAN', 'JSON', 'DATE')"
            },
            {
              "name": "chk_SYS_MasterData_effective_period",
              "type": "CHECK",
              "description": "有効期間整合性チェック制約",
              "condition": "effective_to IS NULL OR effective_from IS NULL OR effective_to >= effective_from"
            },
            {
              "name": "chk_SYS_MasterData_display_order",
              "type": "CHECK",
              "description": "表示順序非負数チェック制約",
              "condition": "display_order >= 0"
            },
            {
              "name": "chk_SYS_MasterData_version",
              "type": "CHECK",
              "description": "バージョン正数チェック制約",
              "condition": "version > 0"
            }
          ],
          "foreign_keys": [],
          "sample_data": [
            {
              "master_key": "SYSTEM.MAX_LOGIN_ATTEMPTS",
              "master_category": "SYSTEM",
              "master_name": "最大ログイン試行回数",
              "master_value": "5",
              "data_type": "INTEGER",
              "default_value": "3",
              "validation_rule": "^[1-9][0-9]*$",
              "is_system_managed": true,
              "is_editable": true,
              "display_order": 1,
              "description": "ログイン失敗時の最大試行回数。この回数を超えるとアカウントがロックされます。",
              "effective_from": "2024-01-01",
              "effective_to": null,
              "last_modified_by": "system_admin",
              "last_modified_at": "2024-01-01 10:00:00",
              "version": 1
            },
            {
              "master_key": "SYSTEM.SESSION_TIMEOUT_MINUTES",
              "master_category": "SYSTEM",
              "master_name": "セッションタイムアウト時間",
              "master_value": "30",
              "data_type": "INTEGER",
              "default_value": "30",
              "validation_rule": "^[1-9][0-9]*$",
              "is_system_managed": true,
              "is_editable": true,
              "display_order": 2,
              "description": "ユーザーセッションの有効時間（分）。この時間を過ぎると自動的にログアウトされます。",
              "effective_from": "2024-01-01",
              "effective_to": null,
              "last_modified_by": "system_admin",
              "last_modified_at": "2024-01-01 10:00:00",
              "version": 1
            },
            {
              "master_key": "CODE.SKILL_LEVELS",
              "master_category": "CODE",
              "master_name": "スキルレベル定義",
              "master_value": "{\"1\":\"初級\",\"2\":\"中級\",\"3\":\"上級\",\"4\":\"エキスパート\",\"5\":\"マスター\"}",
              "data_type": "JSON",
              "default_value": "{\"1\":\"初級\",\"2\":\"中級\",\"3\":\"上級\",\"4\":\"エキスパート\",\"5\":\"マスター\"}",
              "validation_rule": null,
              "is_system_managed": false,
              "is_editable": true,
              "display_order": 1,
              "description": "スキル評価で使用するレベル定義。1-5の数値とその意味を定義します。",
              "effective_from": "2024-01-01",
              "effective_to": null,
              "last_modified_by": "admin_user",
              "last_modified_at": "2024-01-01 10:00:00",
              "version": 1
            },
            {
              "master_key": "CONFIG.BACKUP_RETENTION_DAYS",
              "master_category": "CONFIG",
              "master_name": "バックアップ保持日数",
              "master_value": "90",
              "data_type": "INTEGER",
              "default_value": "30",
              "validation_rule": "^[1-9][0-9]*$",
              "is_system_managed": true,
              "is_editable": true,
              "display_order": 1,
              "description": "フルバックアップファイルの保持期間（日数）。この期間を過ぎたバックアップは自動削除されます。",
              "effective_from": "2024-01-01",
              "effective_to": null,
              "last_modified_by": "system_admin",
              "last_modified_at": "2024-01-01 10:00:00",
              "version": 1
            }
          ],
          "notes": [
            "マスターキーは一意である必要がある",
            "システム管理のマスターデータは慎重に変更する必要がある",
            "JSON形式の値は妥当性チェックを行う",
            "有効期間を設定することで、時限的な設定変更が可能",
            "バージョン管理により楽観的排他制御を実現",
            "変更履歴は別テーブルで管理する",
            "論理削除は is_deleted フラグで管理",
            "マスターキーは「カテゴリ.項目名」形式で命名する",
            "システム管理のマスターデータ変更時は管理者承認が必要",
            "JSON形式の値は構文チェックを行う",
            "有効期間外のマスターデータは使用しない",
            "バージョン番号は更新時に自動インクリメントする",
            "重要な設定変更時は変更前後の値をログに記録する",
            "デフォルト値は必ず設定し、システム障害時の代替値として使用する",
            "バリデーションルールに違反する値は登録・更新を拒否する"
          ],
          "rules": [
            "マスターキーは「カテゴリ.項目名」形式で命名する",
            "システム管理のマスターデータ変更時は管理者承認が必要",
            "JSON形式の値は構文チェックを行う",
            "有効期間外のマスターデータは使用しない",
            "バージョン番号は更新時に自動インクリメントする",
            "重要な設定変更時は変更前後の値をログに記録する",
            "デフォルト値は必ず設定し、システム障害時の代替値として使用する",
            "バリデーションルールに違反する値は登録・更新を拒否する"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_MasterData_マスターデータ管理.md",
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_MasterData_マスタデータ全般.md"
        ]
      }
    },
    {
      "table_name": "SYS_SkillIndex",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_SkillIndex",
          "logical_name": "スキル検索インデックス",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキル検索インデックスシステムテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "SYS_SkillIndex（スキル検索インデックス）は、スキル検索機能の高速化のための検索インデックス情報を管理するシステムテーブルです。\n\n主な目的：\n- 全文検索インデックスの管理\n- スキル名・キーワードの検索最適化\n- 検索パフォーマンスの向上\n- 検索結果の関連度スコア管理\n- 検索統計情報の蓄積\n\nこのテーブルは、スキル管理機能において高速で精度の高い検索を実現する重要なシステムデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "frequency_weight",
              "logical": "頻度重み",
              "type": "DECIMAL",
              "length": "5,3",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "語句の出現頻度による重み（0.000-1.000）",
              "default": 1.0
            },
            {
              "name": "index_type",
              "logical": "インデックスタイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "インデックスの種類（FULLTEXT:全文検索、KEYWORD:キーワード、CATEGORY:カテゴリ、SYNONYM:同義語）",
              "enum_values": [
                "FULLTEXT",
                "KEYWORD",
                "CATEGORY",
                "SYNONYM"
              ]
            },
            {
              "name": "index_updated_at",
              "logical": "インデックス更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "インデックスが最後に更新された日時"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "インデックスが有効かどうか",
              "default": true
            },
            {
              "name": "language_code",
              "logical": "言語コード",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索語の言語（ja:日本語、en:英語等）",
              "default": "ja"
            },
            {
              "name": "last_searched_at",
              "logical": "最終検索日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "この語句で最後に検索された日時"
            },
            {
              "name": "normalized_term",
              "logical": "正規化語",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索最適化のため正規化された語句"
            },
            {
              "name": "position_weight",
              "logical": "位置重み",
              "type": "DECIMAL",
              "length": "5,3",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "語句の出現位置による重み（0.000-1.000）",
              "default": 1.0
            },
            {
              "name": "relevance_score",
              "logical": "関連度スコア",
              "type": "DECIMAL",
              "length": "5,3",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索結果の関連度スコア（0.000-1.000）",
              "default": 1.0
            },
            {
              "name": "search_count",
              "logical": "検索回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "この語句での検索実行回数",
              "default": 0
            },
            {
              "name": "search_term",
              "logical": "検索語",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索対象となる語句・キーワード"
            },
            {
              "name": "skill_id",
              "logical": "スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "インデックス対象のスキルID（MST_Skillへの参照）"
            },
            {
              "name": "skillindex_id",
              "logical": "SYS_SkillIndexの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_SkillIndexの主キー",
              "default": null
            },
            {
              "name": "source_field",
              "logical": "ソースフィールド",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "インデックス元のフィールド（NAME:スキル名、DESCRIPTION:説明、KEYWORD:キーワード、CATEGORY:カテゴリ）",
              "enum_values": [
                "NAME",
                "DESCRIPTION",
                "KEYWORD",
                "CATEGORY"
              ]
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_skill_index_skill",
              "columns": [
                "skill_id"
              ],
              "unique": false,
              "description": "スキルID別検索用"
            },
            {
              "name": "idx_skill_index_search_term",
              "columns": [
                "normalized_term",
                "language_code"
              ],
              "unique": false,
              "description": "正規化語・言語別検索用"
            },
            {
              "name": "idx_skill_index_type",
              "columns": [
                "index_type"
              ],
              "unique": false,
              "description": "インデックスタイプ別検索用"
            },
            {
              "name": "idx_skill_index_tenant_term",
              "columns": [
                "tenant_id",
                "normalized_term"
              ],
              "unique": false,
              "description": "テナント別検索語検索用"
            },
            {
              "name": "idx_skill_index_relevance",
              "columns": [
                "relevance_score"
              ],
              "unique": false,
              "description": "関連度スコア別検索用"
            },
            {
              "name": "idx_skill_index_active",
              "columns": [
                "is_active"
              ],
              "unique": false,
              "description": "有効フラグ検索用"
            },
            {
              "name": "idx_skill_index_search_stats",
              "columns": [
                "search_count",
                "last_searched_at"
              ],
              "unique": false,
              "description": "検索統計検索用"
            }
          ],
          "constraints": [
            {
              "name": "chk_skill_index_type",
              "type": "CHECK",
              "description": "インデックスタイプ値チェック制約",
              "condition": "index_type IN ('FULLTEXT', 'KEYWORD', 'CATEGORY', 'SYNONYM')"
            },
            {
              "name": "chk_skill_index_source_field",
              "type": "CHECK",
              "description": "ソースフィールド値チェック制約",
              "condition": "source_field IN ('NAME', 'DESCRIPTION', 'KEYWORD', 'CATEGORY')"
            },
            {
              "name": "chk_skill_index_relevance_range",
              "type": "CHECK",
              "description": "関連度スコア範囲チェック制約",
              "condition": "relevance_score >= 0.000 AND relevance_score <= 1.000"
            },
            {
              "name": "chk_skill_index_frequency_range",
              "type": "CHECK",
              "description": "頻度重み範囲チェック制約",
              "condition": "frequency_weight >= 0.000 AND frequency_weight <= 1.000"
            },
            {
              "name": "chk_skill_index_position_range",
              "type": "CHECK",
              "description": "位置重み範囲チェック制約",
              "condition": "position_weight >= 0.000 AND position_weight <= 1.000"
            },
            {
              "name": "chk_skill_index_search_count_positive",
              "type": "CHECK",
              "description": "検索回数正数チェック制約",
              "condition": "search_count >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_skill_index_skill",
              "columns": [
                "skill_id"
              ],
              "references": {
                "table": "MST_Skill",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "SI001",
              "tenant_id": "TENANT001",
              "skill_id": "SKILL001",
              "index_type": "FULLTEXT",
              "search_term": "Java",
              "normalized_term": "java",
              "relevance_score": 1.0,
              "frequency_weight": 1.0,
              "position_weight": 1.0,
              "language_code": "ja",
              "source_field": "NAME",
              "is_active": true,
              "search_count": 150,
              "last_searched_at": "2025-06-01 18:30:00",
              "index_updated_at": "2025-06-01 10:00:00"
            },
            {
              "id": "SI002",
              "tenant_id": "TENANT001",
              "skill_id": "SKILL001",
              "index_type": "KEYWORD",
              "search_term": "プログラミング",
              "normalized_term": "プログラミング",
              "relevance_score": 0.8,
              "frequency_weight": 0.75,
              "position_weight": 0.9,
              "language_code": "ja",
              "source_field": "DESCRIPTION",
              "is_active": true,
              "search_count": 85,
              "last_searched_at": "2025-06-01 17:45:00",
              "index_updated_at": "2025-06-01 10:00:00"
            },
            {
              "id": "SI003",
              "tenant_id": "TENANT001",
              "skill_id": "SKILL001",
              "index_type": "SYNONYM",
              "search_term": "ジャバ",
              "normalized_term": "ジャバ",
              "relevance_score": 0.9,
              "frequency_weight": 0.5,
              "position_weight": 1.0,
              "language_code": "ja",
              "source_field": "KEYWORD",
              "is_active": true,
              "search_count": 25,
              "last_searched_at": "2025-06-01 16:20:00",
              "index_updated_at": "2025-06-01 10:00:00"
            }
          ],
          "notes": [
            "検索インデックスは定期的なバッチ処理で更新される",
            "正規化語は検索精度向上のため小文字・ひらがな統一等を実施",
            "関連度スコアは複数の重み要素を組み合わせて算出",
            "検索統計情報は検索機能の改善に活用",
            "無効化されたインデックスは検索対象から除外",
            "多言語対応により国際化に対応",
            "同義語インデックスにより検索の網羅性を向上",
            "スキル削除時は関連インデックスも自動削除",
            "インデックス更新は元データ変更時に自動実行",
            "検索実行時は統計情報を更新",
            "関連度スコアは0.000-1.000の範囲で管理",
            "無効インデックスは検索結果から除外",
            "正規化語は検索時の表記ゆれ対応に使用",
            "検索頻度の高い語句は優先的にインデックス化",
            "定期的な統計分析によりインデックス最適化を実施"
          ],
          "rules": [
            "スキル削除時は関連インデックスも自動削除",
            "インデックス更新は元データ変更時に自動実行",
            "検索実行時は統計情報を更新",
            "関連度スコアは0.000-1.000の範囲で管理",
            "無効インデックスは検索結果から除外",
            "正規化語は検索時の表記ゆれ対応に使用",
            "検索頻度の高い語句は優先的にインデックス化",
            "定期的な統計分析によりインデックス最適化を実施"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_SkillIndex_スキル検索インデックス.md"
        ]
      }
    },
    {
      "table_name": "SYS_SkillMatrix",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_SkillMatrix",
          "logical_name": "スキルマップ",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "システム",
              "changes": "初版作成 - SYS_SkillMatrixの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215000",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "スキルマップテーブルは、社員のスキル評価とスキル項目の関連を管理するシステムテーブルです。\n\n主な目的：\n- 社員とスキル項目の多対多関係を管理\n- スキル評価レベルの記録\n- スキル評価履歴の管理\n\nこのテーブルは、スキル管理システムの中核となるテーブルで、\n社員のスキル可視化やスキル分析の基盤データを提供します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "assessment_date",
              "logical": "評価日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル評価を実施した日付"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価対象の社員ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "evidence_url",
              "logical": "根拠URL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル評価の根拠となる資料やプロジェクトのURL"
            },
            {
              "name": "manager_assessment",
              "logical": "上司評価",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上司による評価レベル（1-5）"
            },
            {
              "name": "next_target_level",
              "logical": "次回目標レベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回評価での目標レベル（1-5）"
            },
            {
              "name": "notes",
              "logical": "備考",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル評価に関する詳細な備考やコメント"
            },
            {
              "name": "peer_assessment",
              "logical": "同僚評価",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "同僚による評価レベル（1-5）"
            },
            {
              "name": "self_assessment",
              "logical": "自己評価",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "本人による自己評価レベル（1-5）"
            },
            {
              "name": "skill_id",
              "logical": "スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル項目ID（MST_Skillへの外部キー）"
            },
            {
              "name": "skill_level",
              "logical": "スキルレベル",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル評価レベル（1:初級、2:中級、3:上級、4:エキスパート、5:マスター）",
              "default": 1
            },
            {
              "name": "skillmatrix_id",
              "logical": "SYS_SkillMatrixの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_SkillMatrixの主キー",
              "default": null
            },
            {
              "name": "target_date",
              "logical": "目標達成日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標レベル達成予定日"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_SYS_SkillMatrix_employee_skill",
              "columns": [
                "employee_id",
                "skill_id"
              ],
              "unique": true,
              "description": "社員とスキルの組み合わせ検索用（一意）"
            },
            {
              "name": "idx_SYS_SkillMatrix_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_SYS_SkillMatrix_skill_id",
              "columns": [
                "skill_id"
              ],
              "unique": false,
              "description": "スキルID検索用"
            },
            {
              "name": "idx_SYS_SkillMatrix_assessment_date",
              "columns": [
                "assessment_date"
              ],
              "unique": false,
              "description": "評価日検索用"
            },
            {
              "name": "idx_SYS_SkillMatrix_skill_level",
              "columns": [
                "skill_level"
              ],
              "unique": false,
              "description": "スキルレベル検索用"
            }
          ],
          "constraints": [
            {
              "name": "uk_SYS_SkillMatrix_employee_skill",
              "type": "UNIQUE",
              "description": "社員とスキルの組み合わせ一意制約",
              "columns": [
                [
                  "employee_id"
                ],
                [
                  "skill_id"
                ]
              ]
            },
            {
              "name": "chk_SYS_SkillMatrix_skill_level",
              "type": "CHECK",
              "description": "スキルレベル値チェック制約（1-5）",
              "condition": "skill_level BETWEEN 1 AND 5"
            },
            {
              "name": "chk_SYS_SkillMatrix_self_assessment",
              "type": "CHECK",
              "description": "自己評価値チェック制約（1-5またはNULL）",
              "condition": "self_assessment IS NULL OR self_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "chk_SYS_SkillMatrix_manager_assessment",
              "type": "CHECK",
              "description": "上司評価値チェック制約（1-5またはNULL）",
              "condition": "manager_assessment IS NULL OR manager_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "chk_SYS_SkillMatrix_peer_assessment",
              "type": "CHECK",
              "description": "同僚評価値チェック制約（1-5またはNULL）",
              "condition": "peer_assessment IS NULL OR peer_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "chk_SYS_SkillMatrix_next_target_level",
              "type": "CHECK",
              "description": "次回目標レベル値チェック制約（1-5またはNULL）",
              "condition": "next_target_level IS NULL OR next_target_level BETWEEN 1 AND 5"
            },
            {
              "name": "chk_SYS_SkillMatrix_target_date",
              "type": "CHECK",
              "description": "目標達成日は評価日以降チェック制約",
              "condition": "target_date IS NULL OR target_date >= assessment_date"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_SYS_SkillMatrix_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_SYS_SkillMatrix_skill",
              "columns": [
                "skill_id"
              ],
              "references": {
                "table": "MST_Skill",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_id": "EMP001",
              "skill_id": "SKILL001",
              "skill_level": 3,
              "self_assessment": 3,
              "manager_assessment": 3,
              "peer_assessment": 2,
              "assessment_date": "2024-01-15",
              "evidence_url": "https://example.com/project/web-app",
              "notes": "Webアプリケーション開発プロジェクトでReactを使用",
              "next_target_level": 4,
              "target_date": "2024-06-30"
            },
            {
              "employee_id": "EMP001",
              "skill_id": "SKILL002",
              "skill_level": 2,
              "self_assessment": 2,
              "manager_assessment": 2,
              "peer_assessment": 3,
              "assessment_date": "2024-01-15",
              "evidence_url": null,
              "notes": "基本的なPython開発は可能、フレームワーク経験が少ない",
              "next_target_level": 3,
              "target_date": "2024-09-30"
            }
          ],
          "notes": [
            "社員とスキルの組み合わせは一意である必要がある",
            "スキルレベルは1-5の範囲で管理（1:初級、2:中級、3:上級、4:エキスパート、5:マスター）",
            "自己評価、上司評価、同僚評価は任意項目",
            "評価の根拠となる資料やプロジェクトのURLを記録可能",
            "次回の目標レベルと達成予定日を設定可能",
            "論理削除は is_deleted フラグで管理",
            "同一社員・同一スキルの組み合わせは1レコードのみ",
            "スキルレベルは必須、その他の評価は任意",
            "評価日は必須項目",
            "目標達成日は評価日以降の日付のみ設定可能",
            "スキル評価の更新時は履歴として別テーブルに保存",
            "削除時は論理削除を使用し、物理削除は行わない"
          ],
          "rules": [
            "同一社員・同一スキルの組み合わせは1レコードのみ",
            "スキルレベルは必須、その他の評価は任意",
            "評価日は必須項目",
            "目標達成日は評価日以降の日付のみ設定可能",
            "スキル評価の更新時は履歴として別テーブルに保存",
            "削除時は論理削除を使用し、物理削除は行わない"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_SkillMatrix_スキルマップ.md"
        ]
      }
    },
    {
      "table_name": "SYS_SystemLog",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_SystemLog",
          "logical_name": "システムログ",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - システムログテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            },
            {
              "version": "SPECIAL.20250624_223559",
              "date": "2025-06-24",
              "author": "特殊ケース修正ツール",
              "changes": "tenant_idカラム追加とカラム順序の最終調整"
            },
            {
              "version": "FINAL.20250624_223648",
              "date": "2025-06-24",
              "author": "SYS_SystemLog最終修正ツール",
              "changes": "重複主キーカラム除去とカラム順序の最終修正"
            }
          ],
          "overview": "SYS_SystemLog（システムログ）は、アプリケーション全体で発生するあらゆるシステムイベントを記録・管理するログテーブルです。\n\n主な目的：\n- システム運用監視（エラー、警告、情報ログの記録）\n- セキュリティ監査（認証、アクセス、操作履歴の追跡）\n- パフォーマンス分析（レスポンス時間、処理時間の測定）\n- 障害調査・デバッグ（詳細なエラー情報、スタックトレースの保存）\n- 分散システムトレーシング（相関IDによるリクエスト追跡）\n- コンプライアンス対応（法的要件に基づくログ保持）\n\nこのテーブルは、システムの安定運用、セキュリティ確保、問題解決の基盤となる重要なログ管理システムです。\n大量データの効率的な管理のため、月次パーティション分割と自動アーカイブ機能を実装しています。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR(50)",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応、システム全体ログの場合はNULL）"
            },
            {
              "name": "log_level",
              "logical": "ログレベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログレベル（ERROR:エラー、WARN:警告、INFO:情報、DEBUG:デバッグ）",
              "enum_values": [
                "ERROR",
                "WARN",
                "INFO",
                "DEBUG"
              ]
            },
            {
              "name": "message",
              "logical": "ログメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログメッセージの内容"
            },
            {
              "name": "component_name",
              "logical": "コンポーネント名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログを出力したコンポーネント名"
            },
            {
              "name": "user_id",
              "logical": "実行ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログを発生させたユーザーのID（MST_UserAuthへの外部キー）"
            },
            {
              "name": "session_id",
              "logical": "セッションID",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "セッションID（ユーザーセッションの識別）"
            },
            {
              "name": "correlation_id",
              "logical": "相関ID",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "分散システムでのトレーシング用相関ID"
            },
            {
              "name": "error_code",
              "logical": "エラーコード",
              "type": "VARCHAR",
              "length": 20,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "アプリケーション固有のエラーコード"
            },
            {
              "name": "stack_trace",
              "logical": "スタックトレース",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "エラー発生時のスタックトレース"
            },
            {
              "name": "request_url",
              "logical": "リクエストURL",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "リクエストされたURL"
            },
            {
              "name": "request_method",
              "logical": "HTTPメソッド",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "HTTPメソッド（GET、POST、PUT、DELETE等）"
            },
            {
              "name": "request_body",
              "logical": "リクエストボディ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "リクエストボディ（個人情報含む可能性があるため暗号化）"
            },
            {
              "name": "response_status",
              "logical": "レスポンスステータス",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "HTTPレスポンスステータスコード"
            },
            {
              "name": "response_body",
              "logical": "レスポンスボディ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "レスポンスボディ（個人情報含む可能性があるため暗号化）"
            },
            {
              "name": "user_agent",
              "logical": "ユーザーエージェント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "クライアントのユーザーエージェント情報"
            },
            {
              "name": "ip_address",
              "logical": "IPアドレス",
              "type": "VARCHAR",
              "length": 45,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "クライアントのIPアドレス（IPv4/IPv6対応）"
            },
            {
              "name": "log_category",
              "logical": "ログカテゴリ",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログのカテゴリ（AUTH:認証、API:API、BATCH:バッチ、SYSTEM:システム）"
            },
            {
              "name": "response_time",
              "logical": "レスポンス時間",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "レスポンス時間（ミリ秒）"
            },
            {
              "name": "server_name",
              "logical": "サーバー名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログを出力したサーバー名"
            },
            {
              "name": "thread_name",
              "logical": "スレッド名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ログを出力したスレッド名"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_log_level",
              "columns": [
                "log_level"
              ],
              "unique": false,
              "description": "ログレベル別検索用"
            },
            {
              "name": "idx_log_category",
              "columns": [
                "log_category"
              ],
              "unique": false,
              "description": "ログカテゴリ別検索用"
            },
            {
              "name": "idx_user_id",
              "columns": [
                "user_id"
              ],
              "unique": false,
              "description": "ユーザー別検索用"
            },
            {
              "name": "idx_session_id",
              "columns": [
                "session_id"
              ],
              "unique": false,
              "description": "セッション別検索用"
            },
            {
              "name": "idx_ip_address",
              "columns": [
                "ip_address"
              ],
              "unique": false,
              "description": "IPアドレス別検索用"
            },
            {
              "name": "idx_error_code",
              "columns": [
                "error_code"
              ],
              "unique": false,
              "description": "エラーコード別検索用"
            },
            {
              "name": "idx_correlation_id",
              "columns": [
                "correlation_id"
              ],
              "unique": false,
              "description": "相関ID別検索用"
            },
            {
              "name": "idx_component",
              "columns": [
                "component_name"
              ],
              "unique": false,
              "description": "コンポーネント別検索用"
            },
            {
              "name": "idx_server",
              "columns": [
                "server_name"
              ],
              "unique": false,
              "description": "サーバー別検索用"
            },
            {
              "name": "idx_response_time",
              "columns": [
                "response_time"
              ],
              "unique": false,
              "description": "レスポンス時間検索用（パフォーマンス分析）"
            },
            {
              "name": "idx_created_at_level",
              "columns": [
                "created_at",
                "log_level"
              ],
              "unique": false,
              "description": "日時・レベル複合検索用"
            }
          ],
          "constraints": [
            {
              "name": "chk_log_level",
              "type": "CHECK",
              "description": "ログレベル値チェック制約",
              "condition": "log_level IN ('ERROR', 'WARN', 'INFO', 'DEBUG')"
            },
            {
              "name": "chk_response_status",
              "type": "CHECK",
              "description": "HTTPステータスコード値チェック制約",
              "condition": "response_status IS NULL OR (response_status >= 100 AND response_status <= 599)"
            },
            {
              "name": "chk_response_time",
              "type": "CHECK",
              "description": "レスポンス時間非負値チェック制約",
              "condition": "response_time IS NULL OR response_time >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_log_user",
              "columns": [
                "user_id"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "log_level": "INFO",
              "log_category": "AUTH",
              "message": "ユーザーログイン成功",
              "user_id": "user001",
              "session_id": "sess_abc123",
              "ip_address": "192.168.1.100",
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "request_url": "/api/auth/login",
              "request_method": "POST",
              "response_status": 200,
              "response_time": 150,
              "error_code": null,
              "stack_trace": null,
              "correlation_id": "corr_xyz789",
              "component_name": "AuthService",
              "thread_name": "http-nio-8080-exec-1",
              "server_name": "app-server-01"
            },
            {
              "log_level": "ERROR",
              "log_category": "API",
              "message": "データベース接続エラー",
              "user_id": "user002",
              "session_id": "sess_def456",
              "ip_address": "192.168.1.101",
              "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",
              "request_url": "/api/employees",
              "request_method": "GET",
              "response_status": 500,
              "response_time": 5000,
              "error_code": "DB_CONNECTION_ERROR",
              "stack_trace": "java.sql.SQLException: Connection timeout...",
              "correlation_id": "corr_abc456",
              "component_name": "EmployeeService",
              "thread_name": "http-nio-8080-exec-2",
              "server_name": "app-server-02"
            }
          ],
          "notes": [
            "大量のログデータが蓄積されるため、定期的なアーカイブが必要",
            "個人情報を含む可能性があるリクエスト・レスポンスボディは暗号化",
            "パフォーマンス分析のためレスポンス時間を記録",
            "分散システムでのトレーシングのため相関IDを使用",
            "ログレベルによる検索頻度が高いためインデックス最適化",
            "古いログは自動的にアーカイブ（6ヶ月経過後）",
            "ERRORレベルのログは即座にアラート通知",
            "WARNレベルのログは日次で監視・分析",
            "レスポンス時間が5秒を超える場合は自動的にWARNログ出力",
            "個人情報を含むログは暗号化して保存",
            "ログ保持期間は6ヶ月（法的要件に応じて調整）",
            "システム障害時の調査のため詳細ログを保持",
            "相関IDによりリクエストの全体フローを追跡可能"
          ],
          "rules": [
            "ERRORレベルのログは即座にアラート通知",
            "WARNレベルのログは日次で監視・分析",
            "レスポンス時間が5秒を超える場合は自動的にWARNログ出力",
            "個人情報を含むログは暗号化して保存",
            "ログ保持期間は6ヶ月（法的要件に応じて調整）",
            "システム障害時の調査のため詳細ログを保持",
            "相関IDによりリクエストの全体フローを追跡可能"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_SystemLog_システムログ.md"
        ]
      }
    },
    {
      "table_name": "SYS_TenantUsage",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_TenantUsage",
          "logical_name": "テナント利用状況",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "システム",
              "changes": "初版作成 - SYS_TenantUsageの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214907",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "テナント利用状況テーブルは、マルチテナント環境における各テナントのシステム利用状況を管理するシステムテーブルです。\n\n主な目的：\n- テナント別のリソース使用量監視\n- 課金情報の基礎データ収集\n- システム負荷分析とキャパシティプランニング\n- SLA監視とパフォーマンス分析\n\nこのテーブルは、マルチテナントシステムの運用管理と課金処理を支える重要なテーブルで、\nテナント毎の公平なリソース配分と適切な課金を実現します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "利用状況を記録するテナントのID"
            },
            {
              "name": "active_users",
              "logical": "アクティブユーザー数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日にログインしたユーザー数",
              "default": 0
            },
            {
              "name": "api_requests",
              "logical": "API リクエスト数",
              "type": "BIGINT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のAPIリクエスト総数",
              "default": 0
            },
            {
              "name": "backup_storage_mb",
              "logical": "バックアップ使用量MB",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日時点でのバックアップストレージ使用量（MB）",
              "default": 0.0
            },
            {
              "name": "billing_amount",
              "logical": "課金額",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日の利用に基づく課金額"
            },
            {
              "name": "collection_timestamp",
              "logical": "収集日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "利用状況データを収集した日時"
            },
            {
              "name": "cpu_usage_minutes",
              "logical": "CPU使用時間分",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のCPU使用時間（分）",
              "default": 0.0
            },
            {
              "name": "data_storage_mb",
              "logical": "データ使用量MB",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日時点でのデータストレージ使用量（MB）",
              "default": 0.0
            },
            {
              "name": "error_count",
              "logical": "エラー発生回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のシステムエラー発生回数",
              "default": 0
            },
            {
              "name": "file_storage_mb",
              "logical": "ファイル使用量MB",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日時点でのファイルストレージ使用量（MB）",
              "default": 0.0
            },
            {
              "name": "memory_usage_mb_hours",
              "logical": "メモリ使用量MB時",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のメモリ使用量（MB×時間）",
              "default": 0.0
            },
            {
              "name": "network_transfer_mb",
              "logical": "ネットワーク転送量MB",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のネットワーク転送量（MB）",
              "default": 0.0
            },
            {
              "name": "notification_sent",
              "logical": "通知送信回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日の通知送信回数",
              "default": 0
            },
            {
              "name": "peak_concurrent_users",
              "logical": "最大同時接続ユーザー数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日の最大同時接続ユーザー数",
              "default": 0
            },
            {
              "name": "peak_time",
              "logical": "ピーク時刻",
              "type": "TIME",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最大同時接続を記録した時刻"
            },
            {
              "name": "report_generations",
              "logical": "レポート生成回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のレポート生成回数",
              "default": 0
            },
            {
              "name": "response_time_avg_ms",
              "logical": "平均応答時間ms",
              "type": "DECIMAL",
              "length": "8,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のAPI平均応答時間（ミリ秒）"
            },
            {
              "name": "skill_assessments",
              "logical": "スキル評価回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のスキル評価実行回数",
              "default": 0
            },
            {
              "name": "tenantusage_id",
              "logical": "SYS_TenantUsageの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_TenantUsageの主キー",
              "default": null
            },
            {
              "name": "total_logins",
              "logical": "総ログイン回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日の総ログイン回数",
              "default": 0
            },
            {
              "name": "uptime_percentage",
              "logical": "稼働率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "当日のシステム稼働率（%）",
              "default": 100.0
            },
            {
              "name": "usage_date",
              "logical": "利用日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "利用状況を記録した日付"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_SYS_TenantUsage_date_tenant",
              "columns": [
                "usage_date",
                "tenant_id"
              ],
              "unique": true,
              "description": "利用日とテナントIDの複合検索用（一意）"
            },
            {
              "name": "idx_SYS_TenantUsage_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用"
            },
            {
              "name": "idx_SYS_TenantUsage_usage_date",
              "columns": [
                "usage_date"
              ],
              "unique": false,
              "description": "利用日検索用"
            },
            {
              "name": "idx_SYS_TenantUsage_collection_timestamp",
              "columns": [
                "collection_timestamp"
              ],
              "unique": false,
              "description": "収集日時検索用"
            },
            {
              "name": "idx_SYS_TenantUsage_billing_amount",
              "columns": [
                "billing_amount"
              ],
              "unique": false,
              "description": "課金額検索用"
            }
          ],
          "constraints": [
            {
              "name": "uk_SYS_TenantUsage_date_tenant",
              "type": "UNIQUE",
              "description": "利用日とテナントIDの組み合わせ一意制約",
              "columns": [
                [
                  "usage_date"
                ],
                [
                  "tenant_id"
                ]
              ]
            },
            {
              "name": "chk_SYS_TenantUsage_active_users",
              "type": "CHECK",
              "description": "アクティブユーザー数非負数チェック制約",
              "condition": "active_users >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_total_logins",
              "type": "CHECK",
              "description": "総ログイン回数非負数チェック制約",
              "condition": "total_logins >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_api_requests",
              "type": "CHECK",
              "description": "APIリクエスト数非負数チェック制約",
              "condition": "api_requests >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_storage_usage",
              "type": "CHECK",
              "description": "ストレージ使用量非負数チェック制約",
              "condition": "data_storage_mb >= 0 AND file_storage_mb >= 0 AND backup_storage_mb >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_resource_usage",
              "type": "CHECK",
              "description": "リソース使用量非負数チェック制約",
              "condition": "cpu_usage_minutes >= 0 AND memory_usage_mb_hours >= 0 AND network_transfer_mb >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_counts",
              "type": "CHECK",
              "description": "各種実行回数非負数チェック制約",
              "condition": "report_generations >= 0 AND skill_assessments >= 0 AND notification_sent >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_peak_concurrent_users",
              "type": "CHECK",
              "description": "最大同時接続ユーザー数非負数チェック制約",
              "condition": "peak_concurrent_users >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_error_count",
              "type": "CHECK",
              "description": "エラー発生回数非負数チェック制約",
              "condition": "error_count >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_response_time",
              "type": "CHECK",
              "description": "平均応答時間非負数チェック制約",
              "condition": "response_time_avg_ms IS NULL OR response_time_avg_ms >= 0"
            },
            {
              "name": "chk_SYS_TenantUsage_uptime_percentage",
              "type": "CHECK",
              "description": "稼働率範囲チェック制約（0-100%）",
              "condition": "uptime_percentage >= 0 AND uptime_percentage <= 100"
            },
            {
              "name": "chk_SYS_TenantUsage_billing_amount",
              "type": "CHECK",
              "description": "課金額非負数チェック制約",
              "condition": "billing_amount IS NULL OR billing_amount >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_SYS_TenantUsage_tenant",
              "columns": [
                "tenant_id"
              ],
              "references": {
                "table": "MST_Tenant",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "usage_date": "2024-01-15",
              "tenant_id": "TENANT001",
              "active_users": 25,
              "total_logins": 47,
              "api_requests": 15420,
              "data_storage_mb": 1024.5,
              "file_storage_mb": 512.25,
              "backup_storage_mb": 256.75,
              "cpu_usage_minutes": 180.5,
              "memory_usage_mb_hours": 2048.0,
              "network_transfer_mb": 128.3,
              "report_generations": 12,
              "skill_assessments": 35,
              "notification_sent": 8,
              "peak_concurrent_users": 18,
              "peak_time": "14:30:00",
              "error_count": 2,
              "response_time_avg_ms": 245.5,
              "uptime_percentage": 99.95,
              "billing_amount": 1250.0,
              "collection_timestamp": "2024-01-16 02:00:00"
            },
            {
              "usage_date": "2024-01-15",
              "tenant_id": "TENANT002",
              "active_users": 8,
              "total_logins": 12,
              "api_requests": 3240,
              "data_storage_mb": 256.25,
              "file_storage_mb": 128.5,
              "backup_storage_mb": 64.25,
              "cpu_usage_minutes": 45.25,
              "memory_usage_mb_hours": 512.0,
              "network_transfer_mb": 32.1,
              "report_generations": 3,
              "skill_assessments": 8,
              "notification_sent": 2,
              "peak_concurrent_users": 6,
              "peak_time": "10:15:00",
              "error_count": 0,
              "response_time_avg_ms": 198.25,
              "uptime_percentage": 100.0,
              "billing_amount": 320.0,
              "collection_timestamp": "2024-01-16 02:00:00"
            }
          ],
          "notes": [
            "利用日とテナントIDの組み合わせは一意である必要がある",
            "利用状況データは日次で収集・集計される",
            "課金額は利用量に基づいて自動計算される",
            "ストレージ使用量は日次スナップショットで記録",
            "CPU・メモリ使用量は累積値で記録",
            "稼働率は0-100%の範囲で管理",
            "論理削除は is_deleted フラグで管理",
            "利用状況データは毎日深夜2:00に自動収集する",
            "同一テナント・同一日付のレコードは1つのみ",
            "課金額は利用量とプラン料金に基づいて自動計算する",
            "ストレージ使用量は日次で最新値を記録する",
            "CPU・メモリ使用量は24時間の累積値を記録する",
            "エラー発生時は詳細ログを別途記録する",
            "稼働率が95%を下回った場合はアラート通知を送信する",
            "データ保持期間は2年間とし、それ以降は月次集計データのみ保持する"
          ],
          "rules": [
            "利用状況データは毎日深夜2:00に自動収集する",
            "同一テナント・同一日付のレコードは1つのみ",
            "課金額は利用量とプラン料金に基づいて自動計算する",
            "ストレージ使用量は日次で最新値を記録する",
            "CPU・メモリ使用量は24時間の累積値を記録する",
            "エラー発生時は詳細ログを別途記録する",
            "稼働率が95%を下回った場合はアラート通知を送信する",
            "データ保持期間は2年間とし、それ以降は月次集計データのみ保持する"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_TenantUsage_テナント使用量.md",
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_TenantUsage_テナント利用状況.md"
        ]
      }
    },
    {
      "table_name": "SYS_TokenStore",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "SYS_TokenStore",
          "logical_name": "トークン管理",
          "category": "システム系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - トークン管理システムテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "SYS_TokenStore（トークン管理）は、認証・認可システムで使用するトークン情報を管理するシステムテーブルです。\n\n主な目的：\n- JWTアクセストークンの管理\n- リフレッシュトークンの管理\n- セッション管理\n- トークンの有効期限管理\n- セキュリティ監査のためのトークン履歴管理\n\nこのテーブルは、認証・認可システムの基盤となる重要なシステムデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）"
            },
            {
              "name": "tenant_id",
              "logical": "テナントID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "マルチテナント識別子"
            },
            {
              "name": "client_ip",
              "logical": "クライアントIP",
              "type": "VARCHAR",
              "length": 45,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークン発行時のクライアントIPアドレス（IPv6対応）"
            },
            {
              "name": "device_fingerprint",
              "logical": "デバイスフィンガープリント",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "デバイス識別用フィンガープリント"
            },
            {
              "name": "expires_at",
              "logical": "有効期限",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンの有効期限"
            },
            {
              "name": "is_revoked",
              "logical": "無効化フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンが無効化されているかどうか",
              "default": false
            },
            {
              "name": "issued_at",
              "logical": "発行日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンの発行日時"
            },
            {
              "name": "last_used_at",
              "logical": "最終使用日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンの最終使用日時"
            },
            {
              "name": "revoked_at",
              "logical": "無効化日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンが無効化された日時"
            },
            {
              "name": "revoked_reason",
              "logical": "無効化理由",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "無効化の理由（LOGOUT:ログアウト、EXPIRED:期限切れ、SECURITY:セキュリティ、ADMIN:管理者操作）",
              "enum_values": [
                "LOGOUT",
                "EXPIRED",
                "SECURITY",
                "ADMIN"
              ]
            },
            {
              "name": "scope",
              "logical": "スコープ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンのアクセススコープ（JSON形式）"
            },
            {
              "name": "token_hash",
              "logical": "トークンハッシュ",
              "type": "VARCHAR",
              "length": 255,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "トークン値のハッシュ値（検索用）"
            },
            {
              "name": "token_type",
              "logical": "トークンタイプ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンの種類（ACCESS:アクセストークン、REFRESH:リフレッシュトークン、SESSION:セッション）",
              "enum_values": [
                "ACCESS",
                "REFRESH",
                "SESSION"
              ]
            },
            {
              "name": "token_value",
              "logical": "トークン値",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "トークンの値（暗号化必須）"
            },
            {
              "name": "tokenstore_id",
              "logical": "SYS_TokenStoreの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "SYS_TokenStoreの主キー",
              "default": null
            },
            {
              "name": "user_agent",
              "logical": "ユーザーエージェント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークン発行時のユーザーエージェント情報"
            },
            {
              "name": "user_id",
              "logical": "ユーザーID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "トークンの所有者ユーザーID（MST_UserAuthへの参照）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_token_store_hash",
              "columns": [
                "token_hash"
              ],
              "unique": true,
              "description": "トークンハッシュ検索用（一意）"
            },
            {
              "name": "idx_token_store_user_type",
              "columns": [
                "user_id",
                "token_type"
              ],
              "unique": false,
              "description": "ユーザー別トークンタイプ検索用"
            },
            {
              "name": "idx_token_store_expires",
              "columns": [
                "expires_at",
                "is_revoked"
              ],
              "unique": false,
              "description": "有効期限・無効化状態検索用"
            },
            {
              "name": "idx_token_store_tenant_user",
              "columns": [
                "tenant_id",
                "user_id"
              ],
              "unique": false,
              "description": "テナント別ユーザー検索用"
            },
            {
              "name": "idx_token_store_issued",
              "columns": [
                "issued_at"
              ],
              "unique": false,
              "description": "発行日時検索用"
            },
            {
              "name": "idx_token_store_last_used",
              "columns": [
                "last_used_at"
              ],
              "unique": false,
              "description": "最終使用日時検索用"
            }
          ],
          "constraints": [
            {
              "name": "uk_token_store_hash",
              "type": "UNIQUE",
              "description": "トークンハッシュ一意制約",
              "columns": [
                [
                  "token_hash"
                ]
              ]
            },
            {
              "name": "chk_token_store_type",
              "type": "CHECK",
              "description": "トークンタイプ値チェック制約",
              "condition": "token_type IN ('ACCESS', 'REFRESH', 'SESSION')"
            },
            {
              "name": "chk_token_store_revoked_reason",
              "type": "CHECK",
              "description": "無効化理由値チェック制約",
              "condition": "revoked_reason IS NULL OR revoked_reason IN ('LOGOUT', 'EXPIRED', 'SECURITY', 'ADMIN')"
            },
            {
              "name": "chk_token_store_expires_after_issued",
              "type": "CHECK",
              "description": "有効期限が発行日時より後であることをチェック",
              "condition": "expires_at > issued_at"
            },
            {
              "name": "chk_token_store_revoked_consistency",
              "type": "CHECK",
              "description": "無効化フラグと無効化日時の整合性チェック",
              "condition": "(is_revoked = false AND revoked_at IS NULL AND revoked_reason IS NULL) OR (is_revoked = true AND revoked_at IS NOT NULL)"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_token_store_user",
              "columns": [
                "user_id"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "user_id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "id": "TS001",
              "tenant_id": "TENANT001",
              "user_id": "USER001",
              "token_type": "ACCESS",
              "token_value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
              "token_hash": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0",
              "expires_at": "2025-06-01 20:00:00",
              "issued_at": "2025-06-01 19:00:00",
              "last_used_at": "2025-06-01 19:30:00",
              "client_ip": "192.168.1.100",
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "device_fingerprint": "fp_abc123def456",
              "scope": "[\"read:profile\", \"write:skills\", \"read:goals\"]",
              "is_revoked": false,
              "revoked_at": null,
              "revoked_reason": null
            },
            {
              "id": "TS002",
              "tenant_id": "TENANT001",
              "user_id": "USER001",
              "token_type": "REFRESH",
              "token_value": "rt_xyz789abc123def456ghi789jkl012mno345",
              "token_hash": "b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1",
              "expires_at": "2025-06-08 19:00:00",
              "issued_at": "2025-06-01 19:00:00",
              "last_used_at": null,
              "client_ip": "192.168.1.100",
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "device_fingerprint": "fp_abc123def456",
              "scope": "[\"refresh\"]",
              "is_revoked": false,
              "revoked_at": null,
              "revoked_reason": null
            }
          ],
          "notes": [
            "トークン値は暗号化必須、検索にはハッシュ値を使用",
            "有効期限は作成から1日経過で自動削除される",
            "セキュリティ監査のため発行・使用履歴を記録",
            "デバイスフィンガープリントによる不正アクセス検知に対応",
            "スコープ情報はJSON形式で柔軟な権限管理に対応",
            "無効化されたトークンも監査のため一定期間保持",
            "IPv6アドレスに対応したクライアントIP管理",
            "トークンハッシュは全システムで一意である必要がある",
            "有効期限切れのトークンは自動的に無効化される",
            "無効化されたトークンは再利用不可",
            "同一ユーザーの同一タイプトークンは複数発行可能",
            "リフレッシュトークンの有効期限はアクセストークンより長期",
            "セッショントークンはブラウザセッション管理用",
            "トークン使用時は最終使用日時を更新",
            "セキュリティ上の理由で無効化されたトークンは即座に削除対象"
          ],
          "rules": [
            "トークンハッシュは全システムで一意である必要がある",
            "有効期限切れのトークンは自動的に無効化される",
            "無効化されたトークンは再利用不可",
            "同一ユーザーの同一タイプトークンは複数発行可能",
            "リフレッシュトークンの有効期限はアクセストークンより長期",
            "セッショントークンはブラウザセッション管理用",
            "トークン使用時は最終使用日時を更新",
            "セキュリティ上の理由で無効化されたトークンは即座に削除対象"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_SYS_TokenStore_トークン管理.md"
        ]
      }
    },
    {
      "table_name": "TEMPLATE",
      "is_valid": true,
      "errors": [],
      "warnings": [
        "DDLファイルが見つかりません: /home/kurosawa/skill-report-web/docs/design/database/ddl/TEMPLATE.sql",
        "テーブル定義書が見つかりません"
      ],
      "score": 80.0,
      "details": {
        "yaml_data": {
          "table_name": "MST_TEMPLATE",
          "logical_name": "テンプレートテーブル",
          "category": "マスタ系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "[作成日]",
              "author": "[作成者]",
              "changes": "[変更内容]"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "[テーブルの概要説明]\n\n主な目的：\n- [目的1]\n- [目的2]\n- [目的3]\n\n[このテーブルの役割や重要性について説明]\n",
          "columns": [
            {
              "name": "[カラム名]",
              "logical": "[論理名]",
              "type": "VARCHAR",
              "length": 100,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "[カラムの説明]"
            },
            {
              "name": "[ステータスカラム名]",
              "logical": "[ステータス論理名]",
              "type": "ENUM",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "[ステータスの説明]（値1:説明1、値2:説明2、値3:説明3）",
              "enum_values": [
                "値1",
                "値2",
                "値3"
              ],
              "default": "値1"
            },
            {
              "name": "[テキストカラム名]",
              "logical": "[テキスト論理名]",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "[テキストの説明]（JSON形式等の場合は明記）"
            },
            {
              "name": "[主キーカラム名]",
              "logical": "[主キー論理名]",
              "type": "VARCHAR",
              "length": 50,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "[カラムの説明]"
            },
            {
              "name": "[数値カラム名]",
              "logical": "[数値論理名]",
              "type": "INTEGER",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "[数値の説明]",
              "default": 0
            },
            {
              "name": "[日付カラム名]",
              "logical": "[日付論理名]",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "[日付の説明]"
            },
            {
              "name": "is_active",
              "logical": "有効フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "レコードが有効かどうか",
              "default": true
            }
          ],
          "indexes": [
            {
              "name": "idx_[テーブル名]_[主キーカラム名]",
              "columns": [
                "主キーカラム名"
              ],
              "unique": true,
              "description": "[主キー]検索用（一意）"
            },
            {
              "name": "idx_[テーブル名]_[カラム名]",
              "columns": [
                "カラム名"
              ],
              "unique": false,
              "description": "[カラム名]検索用"
            },
            {
              "name": "idx_[テーブル名]_[カラム1]_[カラム2]",
              "columns": [
                "カラム1",
                "カラム2"
              ],
              "unique": false,
              "description": "[カラム1]と[カラム2]の複合検索用"
            },
            {
              "name": "idx_[テーブル名]_[ユニークカラム名]",
              "columns": [
                "ユニークカラム名"
              ],
              "unique": true,
              "description": "[ユニークカラム名]検索用（一意）"
            }
          ],
          "constraints": [
            {
              "name": "uk_[テーブル名]_[カラム名]",
              "type": "UNIQUE",
              "columns": [
                [
                  "カラム名"
                ]
              ],
              "description": "[カラム名]一意制約"
            },
            {
              "name": "chk_[テーブル名]_[カラム名]",
              "type": "CHECK",
              "condition": "[カラム名] IN ('値1', '値2', '値3')",
              "description": "[カラム名]値チェック制約"
            },
            {
              "name": "chk_[テーブル名]_[数値カラム名]_positive",
              "type": "CHECK",
              "condition": "[数値カラム名] > 0",
              "description": "[数値カラム名]正数チェック制約"
            },
            {
              "name": "chk_[テーブル名]_date_range",
              "type": "CHECK",
              "condition": "[終了日] IS NULL OR [開始日] <= [終了日]",
              "description": "日付範囲整合性チェック制約"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_[テーブル名]_[参照テーブル名]",
              "columns": [
                "外部キーカラム名"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約（テンプレート用サンプル）"
            }
          ],
          "sample_data": [
            {
              "primary_key_column": "SAMPLE001",
              "sample_column": "サンプル値",
              "status_column": "値1",
              "number_column": 100,
              "date_column": "2024-01-01",
              "text_column": "サンプルテキスト",
              "is_active": true
            },
            {
              "primary_key_column": "SAMPLE002",
              "sample_column": "サンプル値2",
              "status_column": "値2",
              "number_column": 200,
              "date_column": "2024-02-01",
              "text_column": "サンプルテキスト2",
              "is_active": true
            }
          ],
          "notes": [
            "[特記事項1]",
            "[特記事項2]",
            "[特記事項3]",
            "論理削除は is_active フラグで管理",
            "[外部システムとの連携について]",
            "[パフォーマンス考慮事項]"
          ],
          "rules": [
            "[ルール1]",
            "[ルール2]",
            "[ルール3]",
            "[データ整合性に関するルール]",
            "[業務制約に関するルール]",
            "[運用に関するルール]"
          ]
        }
      }
    },
    {
      "table_name": "TRN_EmployeeSkillGrade",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_EmployeeSkillGrade",
          "logical_name": "社員スキルグレード",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 社員スキルグレードテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_EmployeeSkillGrade（社員スキルグレード）は、社員が職種ごとに持つスキルグレード情報を管理するトランザクションテーブルです。\n\n主な目的：\n- 社員の職種別スキルグレードの管理\n- スキルグレードの履歴管理（昇格・降格の記録）\n- 有効期間による時系列管理\n- 人事評価・昇進判定の基礎データ提供\n- スキル分析・レポート作成の基盤\n- 組織のスキル可視化・最適化支援\n\nこのテーブルは、人事評価、キャリア開発、組織分析など、スキル管理の中核となる重要なデータです。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "certification_flag",
              "logical": "認定フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "公式認定されたスキルグレードかどうか",
              "default": false
            },
            {
              "name": "effective_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードの有効開始日"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "対象社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "employeeskillgrade_id",
              "logical": "TRN_EmployeeSkillGradeの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_EmployeeSkillGradeの主キー",
              "default": null
            },
            {
              "name": "evaluation_comment",
              "logical": "評価コメント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価に関するコメント・備考"
            },
            {
              "name": "evaluation_date",
              "logical": "評価日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードが評価・決定された日"
            },
            {
              "name": "evaluator_id",
              "logical": "評価者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価を行った社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "expiry_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレードの有効終了日（NULL=現在有効）"
            },
            {
              "name": "job_type_id",
              "logical": "職種ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "対象職種のID（MST_JobTypeへの外部キー）"
            },
            {
              "name": "next_evaluation_date",
              "logical": "次回評価予定日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回スキル評価の予定日"
            },
            {
              "name": "skill_grade",
              "logical": "スキルグレード",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルグレード値（例：S, A, B, C, D または 1, 2, 3, 4, 5）",
              "validation": "^[SABCD]$|^[1-5]$"
            },
            {
              "name": "skill_level",
              "logical": "スキルレベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルレベル（数値表現、1-5の範囲）",
              "validation": "skill_level BETWEEN 1 AND 5"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_employee_job_effective",
              "columns": [
                "employee_id",
                "job_type_id",
                "effective_date"
              ],
              "unique": false,
              "description": "社員・職種・有効日検索用"
            },
            {
              "name": "idx_employee_current",
              "columns": [
                "employee_id",
                "expiry_date"
              ],
              "unique": false,
              "description": "社員の現在有効なスキルグレード検索用"
            },
            {
              "name": "idx_job_type_grade",
              "columns": [
                "job_type_id",
                "skill_grade"
              ],
              "unique": false,
              "description": "職種別スキルグレード検索用"
            },
            {
              "name": "idx_evaluation_date",
              "columns": [
                "evaluation_date"
              ],
              "unique": false,
              "description": "評価日検索用"
            },
            {
              "name": "idx_next_evaluation",
              "columns": [
                "next_evaluation_date"
              ],
              "unique": false,
              "description": "次回評価予定日検索用"
            },
            {
              "name": "idx_certification",
              "columns": [
                "certification_flag"
              ],
              "unique": false,
              "description": "認定フラグ検索用"
            },
            {
              "name": "idx_trn_employeeskillgrade_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_employee_job_effective",
              "type": "UNIQUE",
              "description": "社員・職種・有効開始日の組み合わせ一意制約",
              "columns": [
                [
                  "employee_id"
                ],
                [
                  "job_type_id"
                ],
                [
                  "effective_date"
                ]
              ]
            },
            {
              "name": "chk_skill_grade",
              "type": "CHECK",
              "description": "スキルグレード値チェック制約",
              "condition": "skill_grade IN ('S', 'A', 'B', 'C', 'D') OR skill_grade IN ('1', '2', '3', '4', '5')"
            },
            {
              "name": "chk_skill_level",
              "type": "CHECK",
              "description": "スキルレベル範囲チェック制約",
              "condition": "skill_level IS NULL OR (skill_level >= 1 AND skill_level <= 5)"
            },
            {
              "name": "chk_date_range",
              "type": "CHECK",
              "description": "有効期間の整合性チェック制約",
              "condition": "expiry_date IS NULL OR effective_date <= expiry_date"
            },
            {
              "name": "chk_evaluation_date",
              "type": "CHECK",
              "description": "評価日と有効開始日の整合性チェック制約",
              "condition": "evaluation_date IS NULL OR evaluation_date <= effective_date"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_skill_grade_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_grade_job_type",
              "columns": [
                "job_type_id"
              ],
              "references": {
                "table": "MST_JobType",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_grade_evaluator",
              "columns": [
                "evaluator_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_id": "EMP000001",
              "job_type_id": "JOB001",
              "skill_grade": "A",
              "skill_level": 4,
              "effective_date": "2024-04-01",
              "expiry_date": null,
              "evaluation_date": "2024-03-15",
              "evaluator_id": "EMP000010",
              "evaluation_comment": "優秀な技術力と指導力を発揮している",
              "certification_flag": true,
              "next_evaluation_date": "2025-04-01"
            },
            {
              "employee_id": "EMP000002",
              "job_type_id": "JOB002",
              "skill_grade": "B",
              "skill_level": 3,
              "effective_date": "2024-04-01",
              "expiry_date": null,
              "evaluation_date": "2024-03-20",
              "evaluator_id": "EMP000001",
              "evaluation_comment": "着実にスキルアップしており、次のレベルが期待される",
              "certification_flag": true,
              "next_evaluation_date": "2025-04-01"
            },
            {
              "employee_id": "EMP000001",
              "job_type_id": "JOB001",
              "skill_grade": "B",
              "skill_level": 3,
              "effective_date": "2023-04-01",
              "expiry_date": "2024-03-31",
              "evaluation_date": "2023-03-15",
              "evaluator_id": "EMP000010",
              "evaluation_comment": "前年度からの成長が顕著",
              "certification_flag": true,
              "next_evaluation_date": "2024-04-01"
            }
          ],
          "notes": [
            "同一社員・同一職種で有効期間が重複しないよう制御",
            "現在有効なスキルグレードは expiry_date が NULL",
            "スキルグレードの履歴は物理削除せず保持",
            "評価者は上司または人事担当者のみ設定可能",
            "認定フラグは公式評価による正式なグレードを示す",
            "次回評価予定日は自動リマインダー機能で使用",
            "同一社員・同一職種で有効期間の重複は禁止",
            "新しいスキルグレード設定時は前のレコードの expiry_date を自動更新",
            "スキルグレード変更は評価者の承認が必要",
            "認定フラグが true のレコードのみ公式スキルグレードとして扱う",
            "評価日は有効開始日以前である必要がある",
            "次回評価予定日は通常1年後に設定",
            "スキルグレード S > A > B > C > D の順で上位",
            "スキルレベル 5 > 4 > 3 > 2 > 1 の順で上位"
          ],
          "rules": [
            "同一社員・同一職種で有効期間の重複は禁止",
            "新しいスキルグレード設定時は前のレコードの expiry_date を自動更新",
            "スキルグレード変更は評価者の承認が必要",
            "認定フラグが true のレコードのみ公式スキルグレードとして扱う",
            "評価日は有効開始日以前である必要がある",
            "次回評価予定日は通常1年後に設定",
            "スキルグレード S > A > B > C > D の順で上位",
            "スキルレベル 5 > 4 > 3 > 2 > 1 の順で上位"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_EmployeeSkillGrade_社員スキルグレード.md"
        ]
      }
    },
    {
      "table_name": "TRN_GoalProgress",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_GoalProgress",
          "logical_name": "目標進捗",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 目標進捗トランザクションテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222631",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_GoalProgress（目標進捗）は、社員個人の目標設定と進捗状況を管理するトランザクションテーブルです。\n\n主な目的：\n- 個人目標の設定・管理（業務目標、スキル向上目標等）\n- 目標達成度の定期的な進捗管理\n- 上司・部下間での目標共有・フィードバック\n- 人事評価・査定の基礎データ\n- 組織目標と個人目標の連携管理\n- 目標設定から達成までのプロセス管理\n- 成果測定・KPI管理\n- 人材育成計画の基礎データ\n\nこのテーブルは、人事評価制度、目標管理制度（MBO）、人材育成など、\n組織の成果管理と人材開発の基盤となる重要なデータを提供します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "achievement_rate",
              "logical": "達成率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最終的な達成率（0.00-100.00%）"
            },
            {
              "name": "achievement_status",
              "logical": "達成状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "達成状況（NOT_STARTED:未着手、IN_PROGRESS:進行中、COMPLETED:完了、OVERDUE:期限超過、CANCELLED:中止）",
              "enum_values": [
                "NOT_STARTED",
                "IN_PROGRESS",
                "COMPLETED",
                "OVERDUE",
                "CANCELLED"
              ],
              "default": "NOT_STARTED"
            },
            {
              "name": "approval_status",
              "logical": "承認状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認状況（DRAFT:下書き、PENDING:承認待ち、APPROVED:承認済み、REJECTED:却下）",
              "enum_values": [
                "DRAFT",
                "PENDING",
                "APPROVED",
                "REJECTED"
              ],
              "default": "DRAFT"
            },
            {
              "name": "approved_at",
              "logical": "承認日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標が承認された日時"
            },
            {
              "name": "approved_by",
              "logical": "承認者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標を承認した人のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "completion_date",
              "logical": "完了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標が完了した日"
            },
            {
              "name": "current_value",
              "logical": "現在値",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "定量目標の現在値"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標を設定した社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "evaluation_comments",
              "logical": "評価コメント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価に関するコメント・フィードバック"
            },
            {
              "name": "goal_category",
              "logical": "目標カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標のカテゴリ（BUSINESS:業務、SKILL:スキル、CAREER:キャリア、PERSONAL:個人）",
              "enum_values": [
                "BUSINESS",
                "SKILL",
                "CAREER",
                "PERSONAL"
              ]
            },
            {
              "name": "goal_description",
              "logical": "目標詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標の詳細説明・背景・期待効果"
            },
            {
              "name": "goal_id",
              "logical": "目標ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "目標を一意に識別するID（例：GOAL000001）"
            },
            {
              "name": "goal_title",
              "logical": "目標タイトル",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標の簡潔なタイトル"
            },
            {
              "name": "goal_type",
              "logical": "目標種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標種別（QUANTITATIVE:定量、QUALITATIVE:定性、MILESTONE:マイルストーン）",
              "enum_values": [
                "QUANTITATIVE",
                "QUALITATIVE",
                "MILESTONE"
              ]
            },
            {
              "name": "goalprogress_id",
              "logical": "TRN_GoalProgressの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_GoalProgressの主キー",
              "default": null
            },
            {
              "name": "last_updated_at",
              "logical": "最終更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "進捗が最後に更新された日時"
            },
            {
              "name": "milestones",
              "logical": "マイルストーン",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成のマイルストーン（JSON形式）"
            },
            {
              "name": "next_review_date",
              "logical": "次回レビュー日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "次回の進捗レビュー予定日"
            },
            {
              "name": "obstacles",
              "logical": "障害・課題",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成の障害・課題（JSON形式）"
            },
            {
              "name": "priority_level",
              "logical": "優先度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標の優先度（HIGH:高、MEDIUM:中、LOW:低）",
              "enum_values": [
                "HIGH",
                "MEDIUM",
                "LOW"
              ],
              "default": "MEDIUM"
            },
            {
              "name": "progress_rate",
              "logical": "進捗率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標の進捗率（0.00-100.00%）",
              "default": 0.0
            },
            {
              "name": "related_career_plan_id",
              "logical": "関連キャリアプランID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するキャリアプランのID（MST_CareerPlanへの外部キー）"
            },
            {
              "name": "related_skill_items",
              "logical": "関連スキル項目",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するスキル項目のリスト（JSON形式）"
            },
            {
              "name": "self_evaluation",
              "logical": "自己評価",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "本人による自己評価（1-5段階）"
            },
            {
              "name": "start_date",
              "logical": "開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標の開始日"
            },
            {
              "name": "supervisor_evaluation",
              "logical": "上司評価",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上司による評価（1-5段階）"
            },
            {
              "name": "supervisor_id",
              "logical": "上司ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標を承認・管理する上司のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "support_needed",
              "logical": "必要サポート",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成に必要なサポート・リソース"
            },
            {
              "name": "target_date",
              "logical": "目標期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標達成の期限日"
            },
            {
              "name": "target_value",
              "logical": "目標値",
              "type": "DECIMAL",
              "length": "15,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "定量目標の目標値"
            },
            {
              "name": "unit",
              "logical": "単位",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "目標値・現在値の単位（件、円、%等）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_TRN_GoalProgress_goal_id",
              "columns": [
                "goal_id"
              ],
              "unique": true,
              "description": "目標ID検索用（一意）"
            },
            {
              "name": "idx_TRN_GoalProgress_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員別目標検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_supervisor_id",
              "columns": [
                "supervisor_id"
              ],
              "unique": false,
              "description": "上司別目標検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_category",
              "columns": [
                "goal_category"
              ],
              "unique": false,
              "description": "目標カテゴリ別検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_status",
              "columns": [
                "achievement_status"
              ],
              "unique": false,
              "description": "達成状況別検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_approval_status",
              "columns": [
                "approval_status"
              ],
              "unique": false,
              "description": "承認状況別検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_target_date",
              "columns": [
                "target_date"
              ],
              "unique": false,
              "description": "目標期限別検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_priority",
              "columns": [
                "priority_level"
              ],
              "unique": false,
              "description": "優先度別検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_employee_period",
              "columns": [
                "employee_id",
                "start_date",
                "target_date"
              ],
              "unique": false,
              "description": "社員・期間複合検索用"
            },
            {
              "name": "idx_TRN_GoalProgress_next_review",
              "columns": [
                "next_review_date"
              ],
              "unique": false,
              "description": "次回レビュー日検索用"
            },
            {
              "name": "idx_trn_goalprogress_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_TRN_GoalProgress_goal_id",
              "type": "UNIQUE",
              "description": "目標ID一意制約",
              "columns": [
                [
                  "goal_id"
                ]
              ]
            },
            {
              "name": "chk_TRN_GoalProgress_category",
              "type": "CHECK",
              "description": "目標カテゴリ値チェック制約",
              "condition": "goal_category IN ('BUSINESS', 'SKILL', 'CAREER', 'PERSONAL')"
            },
            {
              "name": "chk_TRN_GoalProgress_type",
              "type": "CHECK",
              "description": "目標種別値チェック制約",
              "condition": "goal_type IN ('QUANTITATIVE', 'QUALITATIVE', 'MILESTONE')"
            },
            {
              "name": "chk_TRN_GoalProgress_priority",
              "type": "CHECK",
              "description": "優先度値チェック制約",
              "condition": "priority_level IN ('HIGH', 'MEDIUM', 'LOW')"
            },
            {
              "name": "chk_TRN_GoalProgress_progress_rate",
              "type": "CHECK",
              "description": "進捗率範囲チェック制約",
              "condition": "progress_rate >= 0 AND progress_rate <= 100"
            },
            {
              "name": "chk_TRN_GoalProgress_achievement_status",
              "type": "CHECK",
              "description": "達成状況値チェック制約",
              "condition": "achievement_status IN ('NOT_STARTED', 'IN_PROGRESS', 'COMPLETED', 'OVERDUE', 'CANCELLED')"
            },
            {
              "name": "chk_TRN_GoalProgress_approval_status",
              "type": "CHECK",
              "description": "承認状況値チェック制約",
              "condition": "approval_status IN ('DRAFT', 'PENDING', 'APPROVED', 'REJECTED')"
            },
            {
              "name": "chk_TRN_GoalProgress_achievement_rate",
              "type": "CHECK",
              "description": "達成率範囲チェック制約",
              "condition": "achievement_rate IS NULL OR (achievement_rate >= 0 AND achievement_rate <= 100)"
            },
            {
              "name": "chk_TRN_GoalProgress_self_evaluation",
              "type": "CHECK",
              "description": "自己評価範囲チェック制約",
              "condition": "self_evaluation IS NULL OR (self_evaluation >= 1 AND self_evaluation <= 5)"
            },
            {
              "name": "chk_TRN_GoalProgress_supervisor_evaluation",
              "type": "CHECK",
              "description": "上司評価範囲チェック制約",
              "condition": "supervisor_evaluation IS NULL OR (supervisor_evaluation >= 1 AND supervisor_evaluation <= 5)"
            },
            {
              "name": "chk_TRN_GoalProgress_date_range",
              "type": "CHECK",
              "description": "日付範囲整合性チェック制約",
              "condition": "start_date <= target_date"
            },
            {
              "name": "chk_TRN_GoalProgress_target_value",
              "type": "CHECK",
              "description": "目標値非負値チェック制約",
              "condition": "target_value IS NULL OR target_value >= 0"
            },
            {
              "name": "chk_TRN_GoalProgress_current_value",
              "type": "CHECK",
              "description": "現在値非負値チェック制約",
              "condition": "current_value IS NULL OR current_value >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_TRN_GoalProgress_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_TRN_GoalProgress_supervisor",
              "columns": [
                "supervisor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_TRN_GoalProgress_approved_by",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_TRN_GoalProgress_career_plan",
              "columns": [
                "related_career_plan_id"
              ],
              "references": {
                "table": "MST_CareerPlan",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "goal_id": "GOAL000001",
              "employee_id": "EMP000001",
              "goal_title": "Java技術習得",
              "goal_description": "Spring Frameworkを使用したWebアプリケーション開発技術の習得",
              "goal_category": "SKILL",
              "goal_type": "QUALITATIVE",
              "priority_level": "HIGH",
              "target_value": null,
              "current_value": null,
              "unit": null,
              "start_date": "2025-01-01",
              "target_date": "2025-12-31",
              "progress_rate": 50.0,
              "achievement_status": "IN_PROGRESS",
              "supervisor_id": "EMP000010",
              "approval_status": "APPROVED",
              "approved_at": "2025-01-05 10:00:00",
              "approved_by": "EMP000010",
              "completion_date": null,
              "achievement_rate": null,
              "self_evaluation": null,
              "supervisor_evaluation": null,
              "evaluation_comments": null,
              "related_career_plan_id": "CP000001",
              "related_skill_items": "[\"JAVA\", \"SPRING\", \"WEB_DEVELOPMENT\"]",
              "milestones": "[\"基礎学習完了\", \"実践プロジェクト参加\", \"技術認定取得\"]",
              "obstacles": null,
              "support_needed": "外部研修参加、メンター指導",
              "last_updated_at": "2025-06-01 09:00:00",
              "next_review_date": "2025-07-01"
            },
            {
              "goal_id": "GOAL000002",
              "employee_id": "EMP000002",
              "goal_title": "売上目標達成",
              "goal_description": "第2四半期の個人売上目標1000万円の達成",
              "goal_category": "BUSINESS",
              "goal_type": "QUANTITATIVE",
              "priority_level": "HIGH",
              "target_value": 10000000.0,
              "current_value": 6500000.0,
              "unit": "円",
              "start_date": "2025-04-01",
              "target_date": "2025-06-30",
              "progress_rate": 65.0,
              "achievement_status": "IN_PROGRESS",
              "supervisor_id": "EMP000011",
              "approval_status": "APPROVED",
              "approved_at": "2025-03-25 14:00:00",
              "approved_by": "EMP000011",
              "completion_date": null,
              "achievement_rate": null,
              "self_evaluation": null,
              "supervisor_evaluation": null,
              "evaluation_comments": null,
              "related_career_plan_id": null,
              "related_skill_items": "[\"SALES\", \"NEGOTIATION\", \"CUSTOMER_MANAGEMENT\"]",
              "milestones": "[\"4月目標達成\", \"5月目標達成\", \"6月目標達成\"]",
              "obstacles": "[\"競合他社の価格競争\", \"新規顧客開拓の困難\"]",
              "support_needed": "マーケティング支援、価格戦略見直し",
              "last_updated_at": "2025-06-01 17:00:00",
              "next_review_date": "2025-06-15"
            },
            {
              "goal_id": "GOAL000003",
              "employee_id": "EMP000003",
              "goal_title": "チームリーダー昇進",
              "goal_description": "リーダーシップスキル向上とチーム管理経験の積み重ね",
              "goal_category": "CAREER",
              "goal_type": "MILESTONE",
              "priority_level": "MEDIUM",
              "target_value": null,
              "current_value": null,
              "unit": null,
              "start_date": "2025-01-01",
              "target_date": "2025-12-31",
              "progress_rate": 30.0,
              "achievement_status": "IN_PROGRESS",
              "supervisor_id": "EMP000012",
              "approval_status": "APPROVED",
              "approved_at": "2025-01-10 11:00:00",
              "approved_by": "EMP000012",
              "completion_date": null,
              "achievement_rate": null,
              "self_evaluation": null,
              "supervisor_evaluation": null,
              "evaluation_comments": null,
              "related_career_plan_id": "CP000002",
              "related_skill_items": "[\"LEADERSHIP\", \"TEAM_MANAGEMENT\", \"COMMUNICATION\"]",
              "milestones": "[\"リーダーシップ研修受講\", \"プロジェクトリーダー経験\", \"昇進面談\"]",
              "obstacles": null,
              "support_needed": "リーダーシップ研修、メンタリング",
              "last_updated_at": "2025-06-01 12:00:00",
              "next_review_date": "2025-08-01"
            }
          ],
          "notes": [
            "目標IDは自動採番または手動設定",
            "進捗率は定期的に更新",
            "承認フローにより目標の妥当性を担保",
            "定量目標は目標値・現在値で進捗管理",
            "定性目標は進捗率とコメントで管理",
            "マイルストーン目標は段階的な達成管理",
            "関連スキル・キャリアプランとの連携",
            "論理削除は is_deleted フラグで管理",
            "進捗率は0-100%の範囲で設定",
            "目標期限は開始日より未来の日付",
            "承認済み目標のみ進捗管理対象",
            "期限超過時は自動的にOVERDUE状態に変更",
            "完了時は達成率・評価の入力必須",
            "自己評価・上司評価は1-5段階",
            "定量目標は目標値・現在値・単位の設定必須",
            "優先度HIGH目標は週次レビュー推奨",
            "キャリア目標は年次評価と連動",
            "目標変更時は承認フロー再実行"
          ],
          "rules": [
            "進捗率は0-100%の範囲で設定",
            "目標期限は開始日より未来の日付",
            "承認済み目標のみ進捗管理対象",
            "期限超過時は自動的にOVERDUE状態に変更",
            "完了時は達成率・評価の入力必須",
            "自己評価・上司評価は1-5段階",
            "定量目標は目標値・現在値・単位の設定必須",
            "優先度HIGH目標は週次レビュー推奨",
            "キャリア目標は年次評価と連動",
            "目標変更時は承認フロー再実行"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_GoalProgress_目標進捗.md"
        ]
      }
    },
    {
      "table_name": "TRN_Notification",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_Notification",
          "logical_name": "通知履歴",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 通知履歴テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_Notification（通知履歴）は、システムから送信された各種通知の履歴を管理するトランザクションテーブルです。\n\n主な目的：\n- 通知送信履歴の記録・管理\n- 通知配信状況の追跡\n- 通知効果の分析\n- 未読通知の管理\n- 通知設定の最適化支援\n\nこのテーブルにより、効果的な情報伝達を実現し、\n重要な情報の確実な配信と適切なコミュニケーションを支援できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "batch_id",
              "logical": "バッチID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "一括送信時のバッチID"
            },
            {
              "name": "notification_id",
              "logical": "通知ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "通知を一意に識別するID"
            },
            {
              "name": "title",
              "logical": "タイトル",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知のタイトル・件名"
            },
            {
              "name": "message",
              "logical": "メッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の本文メッセージ"
            },
            {
              "name": "action_label",
              "logical": "アクションラベル",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "アクションボタンのラベル"
            },
            {
              "name": "action_url",
              "logical": "アクションURL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知に関連するアクションのURL"
            },
            {
              "name": "archived_at",
              "logical": "アーカイブ日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知がアーカイブされた日時"
            },
            {
              "name": "delivered_at",
              "logical": "配信日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知が配信された日時"
            },
            {
              "name": "delivery_method",
              "logical": "配信方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の配信方法（IN_APP:アプリ内、EMAIL:メール、SLACK:Slack、TEAMS:Teams、LINE_WORKS:LINE WORKS、SMS:SMS）",
              "enum_values": [
                "IN_APP",
                "EMAIL",
                "SLACK",
                "TEAMS",
                "LINE_WORKS",
                "SMS"
              ]
            },
            {
              "name": "delivery_status",
              "logical": "配信状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配信状況（PENDING:配信待ち、SENT:送信済み、DELIVERED:配信完了、FAILED:配信失敗、BOUNCED:バウンス）",
              "enum_values": [
                "PENDING",
                "SENT",
                "DELIVERED",
                "FAILED",
                "BOUNCED"
              ],
              "default": "PENDING"
            },
            {
              "name": "device_type",
              "logical": "デバイス種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "既読時のデバイス種別（PC:PC、MOBILE:モバイル、TABLET:タブレット）",
              "enum_values": [
                "PC",
                "MOBILE",
                "TABLET"
              ]
            },
            {
              "name": "error_message",
              "logical": "エラーメッセージ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配信失敗時のエラーメッセージ"
            },
            {
              "name": "expiry_date",
              "logical": "有効期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の有効期限"
            },
            {
              "name": "external_message_id",
              "logical": "外部メッセージID",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部サービス（メール、Slack等）のメッセージID"
            },
            {
              "name": "ip_address",
              "logical": "IPアドレス",
              "type": "VARCHAR",
              "length": 45,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "既読時のIPアドレス"
            },
            {
              "name": "is_bulk_notification",
              "logical": "一括通知フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "一括送信された通知かどうか",
              "default": false
            },
            {
              "name": "last_retry_at",
              "logical": "最終再送日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後に再送を試行した日時"
            },
            {
              "name": "max_retry_count",
              "logical": "最大再送回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最大再送回数",
              "default": 3
            },
            {
              "name": "message_format",
              "logical": "メッセージ形式",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "メッセージの形式（PLAIN:プレーンテキスト、HTML:HTML、MARKDOWN:Markdown）",
              "enum_values": [
                "PLAIN",
                "HTML",
                "MARKDOWN"
              ],
              "default": "PLAIN"
            },
            {
              "name": "notification_category",
              "logical": "通知カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の分類（SKILL:スキル関連、TRAINING:研修関連、PROJECT:プロジェクト関連、CERTIFICATION:資格関連、SYSTEM:システム関連、HR:人事関連）",
              "enum_values": [
                "SKILL",
                "TRAINING",
                "PROJECT",
                "CERTIFICATION",
                "SYSTEM",
                "HR"
              ]
            },
            {
              "name": "notification_type",
              "logical": "通知種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の種別（SYSTEM:システム、REMINDER:リマインダー、APPROVAL:承認、ALERT:アラート、INFO:情報、URGENT:緊急）",
              "enum_values": [
                "SYSTEM",
                "REMINDER",
                "APPROVAL",
                "ALERT",
                "INFO",
                "URGENT"
              ]
            },
            {
              "name": "personalization_data",
              "logical": "パーソナライゼーションデータ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "個人向けカスタマイズデータ（JSON形式）"
            },
            {
              "name": "priority_level",
              "logical": "優先度",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知の優先度（LOW:低、NORMAL:通常、HIGH:高、CRITICAL:緊急）",
              "enum_values": [
                "LOW",
                "NORMAL",
                "HIGH",
                "CRITICAL"
              ],
              "default": "NORMAL"
            },
            {
              "name": "read_at",
              "logical": "既読日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知が既読になった日時"
            },
            {
              "name": "read_status",
              "logical": "既読状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "既読状況（UNREAD:未読、READ:既読、ARCHIVED:アーカイブ済み）",
              "enum_values": [
                "UNREAD",
                "READ",
                "ARCHIVED"
              ],
              "default": "UNREAD"
            },
            {
              "name": "recipient_id",
              "logical": "受信者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知受信者の社員ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "related_entity_id",
              "logical": "関連エンティティID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するエンティティのID"
            },
            {
              "name": "related_entity_type",
              "logical": "関連エンティティ種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するエンティティの種別（PROJECT:プロジェクト、TRAINING:研修、CERTIFICATION:資格、SKILL:スキル、EMPLOYEE:社員）",
              "enum_values": [
                "PROJECT",
                "TRAINING",
                "CERTIFICATION",
                "SKILL",
                "EMPLOYEE"
              ]
            },
            {
              "name": "retry_count",
              "logical": "再送回数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "配信失敗時の再送回数",
              "default": 0
            },
            {
              "name": "sender_id",
              "logical": "送信者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知送信者の社員ID（システム送信の場合はNULL）"
            },
            {
              "name": "sent_at",
              "logical": "送信日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "通知が送信された日時"
            },
            {
              "name": "template_id",
              "logical": "テンプレートID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "使用した通知テンプレートのID"
            },
            {
              "name": "template_variables",
              "logical": "テンプレート変数",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "テンプレートに渡した変数（JSON形式）"
            },
            {
              "name": "user_agent",
              "logical": "ユーザーエージェント",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "既読時のユーザーエージェント情報"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_notification_id",
              "columns": [
                "notification_id"
              ],
              "unique": true,
              "description": "通知ID検索用（一意）"
            },
            {
              "name": "idx_recipient_id",
              "columns": [
                "recipient_id"
              ],
              "unique": false,
              "description": "受信者ID検索用"
            },
            {
              "name": "idx_sender_id",
              "columns": [
                "sender_id"
              ],
              "unique": false,
              "description": "送信者ID検索用"
            },
            {
              "name": "idx_notification_type",
              "columns": [
                "notification_type"
              ],
              "unique": false,
              "description": "通知種別検索用"
            },
            {
              "name": "idx_notification_category",
              "columns": [
                "notification_category"
              ],
              "unique": false,
              "description": "通知カテゴリ検索用"
            },
            {
              "name": "idx_priority_level",
              "columns": [
                "priority_level"
              ],
              "unique": false,
              "description": "優先度検索用"
            },
            {
              "name": "idx_delivery_method",
              "columns": [
                "delivery_method"
              ],
              "unique": false,
              "description": "配信方法検索用"
            },
            {
              "name": "idx_delivery_status",
              "columns": [
                "delivery_status"
              ],
              "unique": false,
              "description": "配信状況検索用"
            },
            {
              "name": "idx_read_status",
              "columns": [
                "read_status"
              ],
              "unique": false,
              "description": "既読状況検索用"
            },
            {
              "name": "idx_sent_at",
              "columns": [
                "sent_at"
              ],
              "unique": false,
              "description": "送信日時検索用"
            },
            {
              "name": "idx_recipient_unread",
              "columns": [
                "recipient_id",
                "read_status",
                "expiry_date"
              ],
              "unique": false,
              "description": "受信者別未読通知検索用"
            },
            {
              "name": "idx_batch_id",
              "columns": [
                "batch_id"
              ],
              "unique": false,
              "description": "バッチID検索用"
            },
            {
              "name": "idx_related_entity",
              "columns": [
                "related_entity_type",
                "related_entity_id"
              ],
              "unique": false,
              "description": "関連エンティティ検索用"
            },
            {
              "name": "idx_trn_notification_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_notification_id",
              "type": "UNIQUE",
              "description": "通知ID一意制約",
              "columns": [
                [
                  "notification_id"
                ]
              ]
            },
            {
              "name": "chk_notification_type",
              "type": "CHECK",
              "description": "通知種別値チェック制約",
              "condition": "notification_type IN ('SYSTEM', 'REMINDER', 'APPROVAL', 'ALERT', 'INFO', 'URGENT')"
            },
            {
              "name": "chk_notification_category",
              "type": "CHECK",
              "description": "通知カテゴリ値チェック制約",
              "condition": "notification_category IN ('SKILL', 'TRAINING', 'PROJECT', 'CERTIFICATION', 'SYSTEM', 'HR')"
            },
            {
              "name": "chk_priority_level",
              "type": "CHECK",
              "description": "優先度値チェック制約",
              "condition": "priority_level IN ('LOW', 'NORMAL', 'HIGH', 'CRITICAL')"
            },
            {
              "name": "chk_message_format",
              "type": "CHECK",
              "description": "メッセージ形式値チェック制約",
              "condition": "message_format IN ('PLAIN', 'HTML', 'MARKDOWN')"
            },
            {
              "name": "chk_delivery_method",
              "type": "CHECK",
              "description": "配信方法値チェック制約",
              "condition": "delivery_method IN ('IN_APP', 'EMAIL', 'SLACK', 'TEAMS', 'LINE_WORKS', 'SMS')"
            },
            {
              "name": "chk_delivery_status",
              "type": "CHECK",
              "description": "配信状況値チェック制約",
              "condition": "delivery_status IN ('PENDING', 'SENT', 'DELIVERED', 'FAILED', 'BOUNCED')"
            },
            {
              "name": "chk_read_status",
              "type": "CHECK",
              "description": "既読状況値チェック制約",
              "condition": "read_status IN ('UNREAD', 'READ', 'ARCHIVED')"
            },
            {
              "name": "chk_related_entity_type",
              "type": "CHECK",
              "description": "関連エンティティ種別値チェック制約",
              "condition": "related_entity_type IN ('PROJECT', 'TRAINING', 'CERTIFICATION', 'SKILL', 'EMPLOYEE')"
            },
            {
              "name": "chk_device_type",
              "type": "CHECK",
              "description": "デバイス種別値チェック制約",
              "condition": "device_type IN ('PC', 'MOBILE', 'TABLET')"
            },
            {
              "name": "chk_retry_count",
              "type": "CHECK",
              "description": "再送回数範囲チェック制約",
              "condition": "retry_count >= 0 AND retry_count <= max_retry_count"
            },
            {
              "name": "chk_max_retry_count",
              "type": "CHECK",
              "description": "最大再送回数非負数チェック制約",
              "condition": "max_retry_count >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_notification_recipient",
              "columns": [
                "recipient_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_notification_sender",
              "columns": [
                "sender_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "notification_id": "NOTIF_001",
              "recipient_id": "EMP000001",
              "sender_id": null,
              "notification_type": "REMINDER",
              "notification_category": "CERTIFICATION",
              "priority_level": "HIGH",
              "title": "AWS認定資格の更新期限が近づいています",
              "message": "お持ちのAWS認定ソリューションアーキテクト資格の有効期限が30日後に迫っています。更新手続きをお忘れなく。",
              "message_format": "PLAIN",
              "action_url": "/certifications/renewal/CERT_AWS_001",
              "action_label": "更新手続きへ",
              "delivery_method": "EMAIL",
              "delivery_status": "DELIVERED",
              "sent_at": "2024-05-01 09:00:00",
              "delivered_at": "2024-05-01 09:01:23",
              "read_status": "READ",
              "read_at": "2024-05-01 10:30:45",
              "archived_at": null,
              "expiry_date": "2024-06-01",
              "retry_count": 0,
              "max_retry_count": 3,
              "last_retry_at": null,
              "error_message": null,
              "external_message_id": "email_12345",
              "template_id": "TMPL_CERT_RENEWAL",
              "template_variables": "{\"certification_name\": \"AWS認定ソリューションアーキテクト\", \"days_until_expiry\": 30}",
              "related_entity_type": "CERTIFICATION",
              "related_entity_id": "CERT_AWS_001",
              "batch_id": null,
              "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
              "ip_address": "192.168.1.100",
              "device_type": "PC",
              "is_bulk_notification": false,
              "personalization_data": "{\"preferred_language\": \"ja\", \"timezone\": \"Asia/Tokyo\"}"
            },
            {
              "notification_id": "NOTIF_002",
              "recipient_id": "EMP000002",
              "sender_id": "EMP000010",
              "notification_type": "APPROVAL",
              "notification_category": "TRAINING",
              "priority_level": "NORMAL",
              "title": "研修参加申請が承認されました",
              "message": "申請いただいた「プロジェクトマネジメント基礎研修」への参加が承認されました。研修日程をご確認ください。",
              "message_format": "HTML",
              "action_url": "/training/details/TRN_PROG_001",
              "action_label": "研修詳細を確認",
              "delivery_method": "IN_APP",
              "delivery_status": "DELIVERED",
              "sent_at": "2024-04-15 14:30:00",
              "delivered_at": "2024-04-15 14:30:01",
              "read_status": "READ",
              "read_at": "2024-04-15 15:45:20",
              "archived_at": "2024-04-20 10:00:00",
              "expiry_date": null,
              "retry_count": 0,
              "max_retry_count": 3,
              "last_retry_at": null,
              "error_message": null,
              "external_message_id": null,
              "template_id": "TMPL_TRAINING_APPROVAL",
              "template_variables": "{\"training_name\": \"プロジェクトマネジメント基礎研修\", \"approver_name\": \"田中部長\"}",
              "related_entity_type": "TRAINING",
              "related_entity_id": "TRN_PROG_001",
              "batch_id": null,
              "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)",
              "ip_address": "192.168.1.101",
              "device_type": "MOBILE",
              "is_bulk_notification": false,
              "personalization_data": "{\"preferred_language\": \"ja\", \"notification_sound\": true}"
            }
          ],
          "notes": [
            "配信方法により外部サービスとの連携が必要",
            "再送機能により重要な通知の確実な配信を保証",
            "既読状況の追跡により通知効果を測定",
            "テンプレート機能により一貫した通知フォーマットを維持",
            "バッチ送信により大量通知の効率的な配信が可能",
            "パーソナライゼーション機能により個人に最適化された通知を提供",
            "通知IDは一意である必要がある",
            "再送回数は最大再送回数以下である必要がある",
            "既読日時は送信日時以降である必要がある",
            "アーカイブ日時は既読日時以降である必要がある",
            "緊急通知は即座に配信される必要がある",
            "有効期限切れの通知は自動的に非表示",
            "配信失敗時は設定された回数まで自動再送",
            "一括通知はバッチIDで管理"
          ],
          "rules": [
            "通知IDは一意である必要がある",
            "再送回数は最大再送回数以下である必要がある",
            "既読日時は送信日時以降である必要がある",
            "アーカイブ日時は既読日時以降である必要がある",
            "緊急通知は即座に配信される必要がある",
            "有効期限切れの通知は自動的に非表示",
            "配信失敗時は設定された回数まで自動再送",
            "一括通知はバッチIDで管理"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_Notification_通知履歴.md"
        ]
      }
    },
    {
      "table_name": "TRN_PDU",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_PDU",
          "logical_name": "継続教育ポイント",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 継続教育ポイントテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_PDU（継続教育ポイント）は、社員が取得した継続教育ポイント（Professional Development Units）を管理するトランザクションテーブルです。\n\n主な目的：\n- PDU取得履歴の記録・管理\n- 資格維持要件の追跡\n- 学習活動の定量化\n- 継続教育計画の進捗管理\n- 資格更新の支援\n\nこのテーブルにより、社員の継続的な学習活動を体系的に記録し、\n資格維持や専門性向上の支援を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "activity_date",
              "logical": "活動日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU取得活動を実施した日"
            },
            {
              "name": "activity_description",
              "logical": "活動説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動の詳細説明・内容"
            },
            {
              "name": "activity_name",
              "logical": "活動名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU取得活動の名称"
            },
            {
              "name": "activity_type",
              "logical": "活動種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU取得活動の種別（TRAINING:研修、CONFERENCE:カンファレンス、SEMINAR:セミナー、SELF_STUDY:自己学習、TEACHING:指導、VOLUNTEER:ボランティア、OTHER:その他）",
              "enum_values": [
                "TRAINING",
                "CONFERENCE",
                "SEMINAR",
                "SELF_STUDY",
                "TEACHING",
                "VOLUNTEER",
                "OTHER"
              ]
            },
            {
              "name": "approval_comment",
              "logical": "承認コメント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "承認・却下時のコメント"
            },
            {
              "name": "approval_date",
              "logical": "承認日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU承認日"
            },
            {
              "name": "approval_status",
              "logical": "承認状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU承認状況（PENDING:承認待ち、APPROVED:承認済み、REJECTED:却下、UNDER_REVIEW:審査中）",
              "enum_values": [
                "PENDING",
                "APPROVED",
                "REJECTED",
                "UNDER_REVIEW"
              ],
              "default": "PENDING"
            },
            {
              "name": "approved_by",
              "logical": "承認者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDUを承認した担当者のID"
            },
            {
              "name": "certificate_number",
              "logical": "証明書番号",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "修了証・認定証の番号"
            },
            {
              "name": "certification_id",
              "logical": "資格ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する資格のID（MST_Certificationへの外部キー）"
            },
            {
              "name": "cost",
              "logical": "費用",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動参加費用（円）"
            },
            {
              "name": "cost_covered_by",
              "logical": "費用負担者",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "費用の負担者（COMPANY:会社、EMPLOYEE:個人、SHARED:折半）",
              "enum_values": [
                "COMPANY",
                "EMPLOYEE",
                "SHARED"
              ]
            },
            {
              "name": "duration_hours",
              "logical": "活動時間",
              "type": "DECIMAL",
              "length": "5,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動の総時間数"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDUを取得した社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "end_time",
              "logical": "終了時刻",
              "type": "TIME",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動終了時刻"
            },
            {
              "name": "evidence_file_path",
              "logical": "証跡ファイルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡ファイルの保存パス"
            },
            {
              "name": "evidence_type",
              "logical": "証跡種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDU取得の証跡種別（CERTIFICATE:修了証、ATTENDANCE:出席証明、RECEIPT:領収書、REPORT:レポート、OTHER:その他）",
              "enum_values": [
                "CERTIFICATE",
                "ATTENDANCE",
                "RECEIPT",
                "REPORT",
                "OTHER"
              ]
            },
            {
              "name": "expiry_date",
              "logical": "有効期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDUの有効期限"
            },
            {
              "name": "instructor_name",
              "logical": "講師名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "講師・指導者の名前"
            },
            {
              "name": "is_recurring",
              "logical": "定期活動フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "定期的に実施される活動かどうか",
              "default": false
            },
            {
              "name": "learning_objectives",
              "logical": "学習目標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動の学習目標・目的"
            },
            {
              "name": "learning_outcomes",
              "logical": "学習成果",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際の学習成果・習得内容"
            },
            {
              "name": "location",
              "logical": "開催場所",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動実施場所"
            },
            {
              "name": "pdu_category",
              "logical": "PDUカテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDUのカテゴリ（TECHNICAL:技術、LEADERSHIP:リーダーシップ、STRATEGIC:戦略、BUSINESS:ビジネス）",
              "enum_values": [
                "TECHNICAL",
                "LEADERSHIP",
                "STRATEGIC",
                "BUSINESS"
              ]
            },
            {
              "name": "pdu_id",
              "logical": "PDU ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "PDU記録を一意に識別するID"
            },
            {
              "name": "pdu_points",
              "logical": "PDUポイント",
              "type": "DECIMAL",
              "length": "5,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "取得したPDUポイント数"
            },
            {
              "name": "pdu_subcategory",
              "logical": "PDUサブカテゴリ",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "PDUの詳細カテゴリ"
            },
            {
              "name": "provider_name",
              "logical": "提供機関名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動を提供する機関・組織名"
            },
            {
              "name": "recurrence_pattern",
              "logical": "繰り返しパターン",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "定期活動の繰り返しパターン（WEEKLY、MONTHLY等）"
            },
            {
              "name": "related_project_id",
              "logical": "関連案件ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するプロジェクトのID（TRN_ProjectRecordへの外部キー）"
            },
            {
              "name": "related_training_id",
              "logical": "関連研修ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する研修履歴のID（TRN_TrainingHistoryへの外部キー）"
            },
            {
              "name": "skills_developed",
              "logical": "向上スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動により向上したスキル（JSON形式）"
            },
            {
              "name": "start_time",
              "logical": "開始時刻",
              "type": "TIME",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動開始時刻"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_pdu_id",
              "columns": [
                "pdu_id"
              ],
              "unique": true,
              "description": "PDU ID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_certification_id",
              "columns": [
                "certification_id"
              ],
              "unique": false,
              "description": "資格ID検索用"
            },
            {
              "name": "idx_activity_type",
              "columns": [
                "activity_type"
              ],
              "unique": false,
              "description": "活動種別検索用"
            },
            {
              "name": "idx_activity_date",
              "columns": [
                "activity_date"
              ],
              "unique": false,
              "description": "活動日検索用"
            },
            {
              "name": "idx_pdu_category",
              "columns": [
                "pdu_category"
              ],
              "unique": false,
              "description": "PDUカテゴリ検索用"
            },
            {
              "name": "idx_approval_status",
              "columns": [
                "approval_status"
              ],
              "unique": false,
              "description": "承認状況検索用"
            },
            {
              "name": "idx_employee_period",
              "columns": [
                "employee_id",
                "activity_date"
              ],
              "unique": false,
              "description": "社員別期間検索用"
            },
            {
              "name": "idx_expiry_date",
              "columns": [
                "expiry_date"
              ],
              "unique": false,
              "description": "有効期限検索用"
            },
            {
              "name": "idx_certification_employee",
              "columns": [
                "certification_id",
                "employee_id",
                "approval_status"
              ],
              "unique": false,
              "description": "資格別社員PDU検索用"
            },
            {
              "name": "idx_trn_pdu_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_pdu_id",
              "type": "UNIQUE",
              "description": "PDU ID一意制約",
              "columns": [
                [
                  "pdu_id"
                ]
              ]
            },
            {
              "name": "chk_activity_type",
              "type": "CHECK",
              "description": "活動種別値チェック制約",
              "condition": "activity_type IN ('TRAINING', 'CONFERENCE', 'SEMINAR', 'SELF_STUDY', 'TEACHING', 'VOLUNTEER', 'OTHER')"
            },
            {
              "name": "chk_pdu_category",
              "type": "CHECK",
              "description": "PDUカテゴリ値チェック制約",
              "condition": "pdu_category IN ('TECHNICAL', 'LEADERSHIP', 'STRATEGIC', 'BUSINESS')"
            },
            {
              "name": "chk_cost_covered_by",
              "type": "CHECK",
              "description": "費用負担者値チェック制約",
              "condition": "cost_covered_by IN ('COMPANY', 'EMPLOYEE', 'SHARED')"
            },
            {
              "name": "chk_evidence_type",
              "type": "CHECK",
              "description": "証跡種別値チェック制約",
              "condition": "evidence_type IN ('CERTIFICATE', 'ATTENDANCE', 'RECEIPT', 'REPORT', 'OTHER')"
            },
            {
              "name": "chk_approval_status",
              "type": "CHECK",
              "description": "承認状況値チェック制約",
              "condition": "approval_status IN ('PENDING', 'APPROVED', 'REJECTED', 'UNDER_REVIEW')"
            },
            {
              "name": "chk_duration_hours",
              "type": "CHECK",
              "description": "活動時間正数チェック制約",
              "condition": "duration_hours > 0"
            },
            {
              "name": "chk_pdu_points",
              "type": "CHECK",
              "description": "PDUポイント正数チェック制約",
              "condition": "pdu_points > 0"
            },
            {
              "name": "chk_cost",
              "type": "CHECK",
              "description": "費用非負数チェック制約",
              "condition": "cost IS NULL OR cost >= 0"
            },
            {
              "name": "chk_time_range",
              "type": "CHECK",
              "description": "開始・終了時刻の整合性チェック制約",
              "condition": "start_time IS NULL OR end_time IS NULL OR start_time <= end_time"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_pdu_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_pdu_certification",
              "columns": [
                "certification_id"
              ],
              "references": {
                "table": "MST_Certification",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_pdu_approver",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_pdu_training",
              "columns": [
                "related_training_id"
              ],
              "references": {
                "table": "TRN_TrainingHistory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_pdu_project",
              "columns": [
                "related_project_id"
              ],
              "references": {
                "table": "TRN_ProjectRecord",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "pdu_id": "PDU_001",
              "employee_id": "EMP000001",
              "certification_id": "CERT_PMP_001",
              "activity_type": "TRAINING",
              "activity_name": "アジャイル開発手法研修",
              "activity_description": "スクラム・カンバンを中心としたアジャイル開発手法の実践研修",
              "provider_name": "アジャイル協会",
              "activity_date": "2024-03-15",
              "start_time": "09:00:00",
              "end_time": "17:00:00",
              "duration_hours": 8.0,
              "pdu_points": 8.0,
              "pdu_category": "TECHNICAL",
              "pdu_subcategory": "Development Methods",
              "location": "東京研修センター",
              "cost": 50000,
              "cost_covered_by": "COMPANY",
              "evidence_type": "CERTIFICATE",
              "evidence_file_path": "/evidence/pdu/PDU_001_certificate.pdf",
              "certificate_number": "AGILE-2024-001",
              "instructor_name": "山田講師",
              "learning_objectives": "アジャイル開発手法の理解と実践スキル習得",
              "learning_outcomes": "スクラム・カンバンの基礎理解、実際のプロジェクトへの適用方法を習得",
              "skills_developed": "[\"アジャイル開発\", \"スクラム\", \"カンバン\", \"チーム運営\"]",
              "approval_status": "APPROVED",
              "approved_by": "EMP000020",
              "approval_date": "2024-03-20",
              "approval_comment": "PMP資格維持に適切なPDU活動として承認",
              "expiry_date": "2027-03-15",
              "is_recurring": false,
              "recurrence_pattern": null,
              "related_training_id": "TRN_HIS_003",
              "related_project_id": null
            },
            {
              "pdu_id": "PDU_002",
              "employee_id": "EMP000002",
              "certification_id": "CERT_AWS_001",
              "activity_type": "CONFERENCE",
              "activity_name": "AWS re:Invent 2024",
              "activity_description": "AWSの最新技術動向とベストプラクティスに関するカンファレンス",
              "provider_name": "Amazon Web Services",
              "activity_date": "2024-11-28",
              "start_time": null,
              "end_time": null,
              "duration_hours": 32.0,
              "pdu_points": 32.0,
              "pdu_category": "TECHNICAL",
              "pdu_subcategory": "Cloud Technologies",
              "location": "ラスベガス（オンライン参加）",
              "cost": 200000,
              "cost_covered_by": "COMPANY",
              "evidence_type": "ATTENDANCE",
              "evidence_file_path": "/evidence/pdu/PDU_002_attendance.pdf",
              "certificate_number": null,
              "instructor_name": null,
              "learning_objectives": "AWS最新技術の習得とクラウドアーキテクチャスキル向上",
              "learning_outcomes": "最新のAWSサービス理解、セキュリティベストプラクティス習得",
              "skills_developed": "[\"AWS最新技術\", \"クラウドセキュリティ\", \"サーバーレス\", \"機械学習\"]",
              "approval_status": "APPROVED",
              "approved_by": "EMP000020",
              "approval_date": "2024-12-05",
              "approval_comment": "AWS認定維持に有効なPDU活動として承認",
              "expiry_date": "2027-11-28",
              "is_recurring": false,
              "recurrence_pattern": null,
              "related_training_id": null,
              "related_project_id": "PRJ_REC_002"
            }
          ],
          "notes": [
            "PDUポイントは活動時間と内容に基づいて算出",
            "証跡ファイルは必須（承認の根拠として使用）",
            "有効期限は資格の更新サイクルに基づいて設定",
            "承認プロセスは資格維持の要件確認に重要",
            "関連研修・案件との紐付けで学習の一貫性を管理",
            "定期活動は継続的な学習習慣の支援に活用",
            "PDU IDは一意である必要がある",
            "活動時間とPDUポイントは正数である必要がある",
            "承認済みPDUのみが資格維持に有効",
            "証跡ファイルは承認の必須条件",
            "有効期限内のPDUのみが資格更新に使用可能",
            "同一活動での重複PDU取得は不可",
            "費用が発生する活動は事前承認推奨",
            "定期活動は繰り返しパターンを明確に設定"
          ],
          "rules": [
            "PDU IDは一意である必要がある",
            "活動時間とPDUポイントは正数である必要がある",
            "承認済みPDUのみが資格維持に有効",
            "証跡ファイルは承認の必須条件",
            "有効期限内のPDUのみが資格更新に使用可能",
            "同一活動での重複PDU取得は不可",
            "費用が発生する活動は事前承認推奨",
            "定期活動は繰り返しパターンを明確に設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_PDU_継続教育ポイント.md"
        ]
      }
    },
    {
      "table_name": "TRN_ProjectRecord",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_ProjectRecord",
          "logical_name": "案件実績",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 案件実績テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_ProjectRecord（案件実績）は、社員が参加したプロジェクト・案件の実績情報を管理するトランザクションテーブルです。\n\n主な目的：\n- プロジェクト参加履歴の記録・管理\n- 担当役割・責任範囲の記録\n- 使用技術・スキルの実績記録\n- 成果・評価の記録\n- キャリア形成・スキル証明の基盤\n\nこのテーブルにより、社員の実務経験を体系的に記録し、\nスキル評価やキャリア開発の判断材料として活用できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "project_code",
              "logical": "プロジェクトコード",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社内プロジェクト管理コード"
            },
            {
              "name": "project_name",
              "logical": "プロジェクト名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクト・案件の名称"
            },
            {
              "name": "achievements",
              "logical": "成果・実績",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトでの具体的な成果・実績"
            },
            {
              "name": "budget_range",
              "logical": "予算規模",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトの予算規模（UNDER_1M:100万円未満、UNDER_10M:1000万円未満、UNDER_100M:1億円未満、OVER_100M:1億円以上）",
              "enum_values": [
                "UNDER_1M",
                "UNDER_10M",
                "UNDER_100M",
                "OVER_100M"
              ]
            },
            {
              "name": "challenges_faced",
              "logical": "課題・困難",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "直面した課題や困難とその対応"
            },
            {
              "name": "client_name",
              "logical": "顧客名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": true,
              "description": "顧客・クライアント名（機密情報のため暗号化）"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "参加した社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "end_date",
              "logical": "終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクト参加終了日（進行中の場合はNULL）"
            },
            {
              "name": "evaluation_comment",
              "logical": "評価コメント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上司・PMからの評価コメント"
            },
            {
              "name": "evaluation_score",
              "logical": "評価点数",
              "type": "DECIMAL",
              "length": "3,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトでの評価点数（1.0-5.0）"
            },
            {
              "name": "is_confidential",
              "logical": "機密フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "機密プロジェクトかどうか",
              "default": false
            },
            {
              "name": "is_public_reference",
              "logical": "公開参照可能フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "社外への参照情報として公開可能か",
              "default": false
            },
            {
              "name": "lessons_learned",
              "logical": "学んだこと",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトから学んだ知識・経験"
            },
            {
              "name": "participation_rate",
              "logical": "参画率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトへの参画率（%）"
            },
            {
              "name": "project_record_id",
              "logical": "案件実績ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "案件実績を一意に識別するID"
            },
            {
              "name": "project_scale",
              "logical": "プロジェクト規模",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトの規模（SMALL:小規模、MEDIUM:中規模、LARGE:大規模、ENTERPRISE:エンタープライズ）",
              "enum_values": [
                "SMALL",
                "MEDIUM",
                "LARGE",
                "ENTERPRISE"
              ]
            },
            {
              "name": "project_status",
              "logical": "プロジェクト状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトの状況（ONGOING:進行中、COMPLETED:完了、SUSPENDED:中断、CANCELLED:中止）",
              "enum_values": [
                "ONGOING",
                "COMPLETED",
                "SUSPENDED",
                "CANCELLED"
              ],
              "default": "ONGOING"
            },
            {
              "name": "project_type",
              "logical": "プロジェクト種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトの種別（DEVELOPMENT:開発、MAINTENANCE:保守、CONSULTING:コンサル、RESEARCH:研究、OTHER:その他）",
              "enum_values": [
                "DEVELOPMENT",
                "MAINTENANCE",
                "CONSULTING",
                "RESEARCH",
                "OTHER"
              ]
            },
            {
              "name": "projectrecord_id",
              "logical": "TRN_ProjectRecordの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_ProjectRecordの主キー",
              "default": null
            },
            {
              "name": "responsibilities",
              "logical": "担当業務",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "具体的な担当業務・責任範囲"
            },
            {
              "name": "role_title",
              "logical": "担当役職",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクト内での役職・ポジション"
            },
            {
              "name": "skills_applied",
              "logical": "適用スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトで活用したスキル（JSON形式）"
            },
            {
              "name": "start_date",
              "logical": "開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクト参加開始日"
            },
            {
              "name": "team_size",
              "logical": "チーム規模",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトチームの人数"
            },
            {
              "name": "technologies_used",
              "logical": "使用技術",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "プロジェクトで使用した技術・ツール（JSON形式）"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_project_record_id",
              "columns": [
                "project_record_id"
              ],
              "unique": true,
              "description": "案件実績ID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_project_name",
              "columns": [
                "project_name"
              ],
              "unique": false,
              "description": "プロジェクト名検索用"
            },
            {
              "name": "idx_project_code",
              "columns": [
                "project_code"
              ],
              "unique": false,
              "description": "プロジェクトコード検索用"
            },
            {
              "name": "idx_project_type",
              "columns": [
                "project_type"
              ],
              "unique": false,
              "description": "プロジェクト種別検索用"
            },
            {
              "name": "idx_date_range",
              "columns": [
                "start_date",
                "end_date"
              ],
              "unique": false,
              "description": "期間検索用"
            },
            {
              "name": "idx_project_status",
              "columns": [
                "project_status"
              ],
              "unique": false,
              "description": "プロジェクト状況検索用"
            },
            {
              "name": "idx_employee_period",
              "columns": [
                "employee_id",
                "start_date",
                "end_date"
              ],
              "unique": false,
              "description": "社員別期間検索用"
            },
            {
              "name": "idx_trn_projectrecord_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_project_record_id",
              "type": "UNIQUE",
              "description": "案件実績ID一意制約",
              "columns": [
                [
                  "project_record_id"
                ]
              ]
            },
            {
              "name": "chk_project_type",
              "type": "CHECK",
              "description": "プロジェクト種別値チェック制約",
              "condition": "project_type IN ('DEVELOPMENT', 'MAINTENANCE', 'CONSULTING', 'RESEARCH', 'OTHER')"
            },
            {
              "name": "chk_project_scale",
              "type": "CHECK",
              "description": "プロジェクト規模値チェック制約",
              "condition": "project_scale IN ('SMALL', 'MEDIUM', 'LARGE', 'ENTERPRISE')"
            },
            {
              "name": "chk_budget_range",
              "type": "CHECK",
              "description": "予算規模値チェック制約",
              "condition": "budget_range IN ('UNDER_1M', 'UNDER_10M', 'UNDER_100M', 'OVER_100M')"
            },
            {
              "name": "chk_project_status",
              "type": "CHECK",
              "description": "プロジェクト状況値チェック制約",
              "condition": "project_status IN ('ONGOING', 'COMPLETED', 'SUSPENDED', 'CANCELLED')"
            },
            {
              "name": "chk_date_range",
              "type": "CHECK",
              "description": "開始日・終了日の整合性チェック制約",
              "condition": "end_date IS NULL OR start_date <= end_date"
            },
            {
              "name": "chk_participation_rate",
              "type": "CHECK",
              "description": "参画率範囲チェック制約",
              "condition": "participation_rate IS NULL OR (participation_rate >= 0 AND participation_rate <= 100)"
            },
            {
              "name": "chk_evaluation_score",
              "type": "CHECK",
              "description": "評価点数範囲チェック制約",
              "condition": "evaluation_score IS NULL OR (evaluation_score >= 1.0 AND evaluation_score <= 5.0)"
            },
            {
              "name": "chk_team_size",
              "type": "CHECK",
              "description": "チーム規模正数チェック制約",
              "condition": "team_size IS NULL OR team_size > 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_project_record_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "project_record_id": "PRJ_REC_001",
              "employee_id": "EMP000001",
              "project_name": "顧客管理システム刷新プロジェクト",
              "project_code": "CRM2024_001",
              "client_name": "株式会社サンプル",
              "project_type": "DEVELOPMENT",
              "project_scale": "LARGE",
              "start_date": "2024-01-15",
              "end_date": "2024-12-31",
              "participation_rate": 80.0,
              "role_title": "テックリード",
              "responsibilities": "システム設計、開発チームリード、技術選定",
              "technologies_used": "[\"Java\", \"Spring Boot\", \"PostgreSQL\", \"React\", \"Docker\"]",
              "skills_applied": "[\"システム設計\", \"チームマネジメント\", \"技術選定\"]",
              "achievements": "予定より2週間早期リリース、性能要件120%達成",
              "challenges_faced": "レガシーシステムとの連携、短納期対応",
              "lessons_learned": "マイクロサービス設計の重要性、チーム間コミュニケーション",
              "team_size": 8,
              "budget_range": "UNDER_100M",
              "project_status": "COMPLETED",
              "evaluation_score": 4.5,
              "evaluation_comment": "技術リーダーシップを発揮し、プロジェクトを成功に導いた",
              "is_confidential": false,
              "is_public_reference": true
            },
            {
              "project_record_id": "PRJ_REC_002",
              "employee_id": "EMP000002",
              "project_name": "AI画像解析システム開発",
              "project_code": "AI2024_002",
              "client_name": "機密プロジェクト",
              "project_type": "RESEARCH",
              "project_scale": "MEDIUM",
              "start_date": "2024-03-01",
              "end_date": null,
              "participation_rate": 100.0,
              "role_title": "AIエンジニア",
              "responsibilities": "機械学習モデル開発、データ前処理、精度改善",
              "technologies_used": "[\"Python\", \"TensorFlow\", \"OpenCV\", \"AWS SageMaker\"]",
              "skills_applied": "[\"機械学習\", \"画像処理\", \"データ分析\"]",
              "achievements": "認識精度95%達成、処理速度30%向上",
              "challenges_faced": "学習データ不足、モデル精度向上",
              "lessons_learned": "データ品質の重要性、MLOpsの必要性",
              "team_size": 4,
              "budget_range": "UNDER_10M",
              "project_status": "ONGOING",
              "evaluation_score": null,
              "evaluation_comment": null,
              "is_confidential": true,
              "is_public_reference": false
            }
          ],
          "notes": [
            "顧客名は機密情報のため暗号化必須",
            "使用技術・適用スキルはJSON形式で柔軟に管理",
            "進行中プロジェクトは end_date = NULL で管理",
            "機密プロジェクトは is_confidential = true で管理",
            "評価は完了後に記録（進行中は NULL）",
            "参画率は工数ベースでの参加割合",
            "案件実績IDは一意である必要がある",
            "開始日は終了日以前である必要がある",
            "進行中プロジェクトは終了日をNULLに設定",
            "参画率は0-100%の範囲で設定",
            "評価点数は1.0-5.0の範囲で設定",
            "機密プロジェクトは公開参照不可",
            "使用技術・スキルはスキルマスタとの整合性を保つ",
            "チーム規模は1人以上で設定"
          ],
          "rules": [
            "案件実績IDは一意である必要がある",
            "開始日は終了日以前である必要がある",
            "進行中プロジェクトは終了日をNULLに設定",
            "参画率は0-100%の範囲で設定",
            "評価点数は1.0-5.0の範囲で設定",
            "機密プロジェクトは公開参照不可",
            "使用技術・スキルはスキルマスタとの整合性を保つ",
            "チーム規模は1人以上で設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_ProjectRecord_案件実績.md"
        ]
      }
    },
    {
      "table_name": "TRN_SkillEvidence",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_SkillEvidence",
          "logical_name": "スキル証跡",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキル証跡テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_SkillEvidence（スキル証跡）は、社員のスキル習得・向上を証明する具体的な証跡情報を管理するトランザクションテーブルです。\n\n主な目的：\n- スキル習得の客観的証拠の記録\n- 成果物・実績による能力証明\n- スキル評価の根拠データ提供\n- ポートフォリオ作成支援\n- 人事評価・昇進判定の材料提供\n\nこのテーブルにより、社員のスキルを定性的・定量的に証明し、\n適切な人材配置や能力開発の判断を支援できます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "achievements",
              "logical": "成果・実績",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "具体的な成果・実績"
            },
            {
              "name": "certificate_number",
              "logical": "証明書番号",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "資格証明書・修了証の番号"
            },
            {
              "name": "complexity_level",
              "logical": "複雑度レベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡が示す作業の複雑度（LOW:低、MEDIUM:中、HIGH:高、VERY_HIGH:非常に高い）",
              "enum_values": [
                "LOW",
                "MEDIUM",
                "HIGH",
                "VERY_HIGH"
              ]
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の対象社員ID（MST_Employeeへの外部キー）"
            },
            {
              "name": "evidence_date",
              "logical": "証跡日付",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡が作成・取得された日付"
            },
            {
              "name": "evidence_description",
              "logical": "証跡説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の詳細説明・内容"
            },
            {
              "name": "evidence_id",
              "logical": "証跡ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "スキル証跡を一意に識別するID"
            },
            {
              "name": "evidence_title",
              "logical": "証跡タイトル",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の名称・タイトル"
            },
            {
              "name": "evidence_type",
              "logical": "証跡種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の種別（CERTIFICATION:資格、PROJECT:プロジェクト成果、TRAINING:研修修了、PORTFOLIO:ポートフォリオ、PEER_REVIEW:同僚評価、SELF_ASSESSMENT:自己評価、OTHER:その他）",
              "enum_values": [
                "CERTIFICATION",
                "PROJECT",
                "TRAINING",
                "PORTFOLIO",
                "PEER_REVIEW",
                "SELF_ASSESSMENT",
                "OTHER"
              ]
            },
            {
              "name": "external_url",
              "logical": "外部URL",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "外部サイトの証跡URL（GitHub、Qiita等）"
            },
            {
              "name": "file_path",
              "logical": "ファイルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡ファイルの保存パス"
            },
            {
              "name": "file_size_kb",
              "logical": "ファイルサイズ",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ファイルサイズ（KB）"
            },
            {
              "name": "file_type",
              "logical": "ファイル種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡ファイルの種別（PDF:PDF、IMAGE:画像、VIDEO:動画、DOCUMENT:文書、URL:URL、OTHER:その他）",
              "enum_values": [
                "PDF",
                "IMAGE",
                "VIDEO",
                "DOCUMENT",
                "URL",
                "OTHER"
              ]
            },
            {
              "name": "impact_score",
              "logical": "影響度スコア",
              "type": "DECIMAL",
              "length": "3,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の影響度・重要度スコア（1.0-5.0）"
            },
            {
              "name": "is_portfolio_item",
              "logical": "ポートフォリオ項目フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ポートフォリオに含める項目かどうか",
              "default": false
            },
            {
              "name": "is_public",
              "logical": "公開フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡を社外に公開可能かどうか",
              "default": false
            },
            {
              "name": "issuer_name",
              "logical": "発行者名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡を発行した機関・組織名"
            },
            {
              "name": "issuer_type",
              "logical": "発行者種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "発行者の種別（COMPANY:会社、EDUCATIONAL:教育機関、CERTIFICATION_BODY:認定機関、GOVERNMENT:政府機関、COMMUNITY:コミュニティ、OTHER:その他）",
              "enum_values": [
                "COMPANY",
                "EDUCATIONAL",
                "CERTIFICATION_BODY",
                "GOVERNMENT",
                "COMMUNITY",
                "OTHER"
              ]
            },
            {
              "name": "lessons_learned",
              "logical": "学んだこと",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "活動から学んだ知識・経験"
            },
            {
              "name": "related_certification_id",
              "logical": "関連資格ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する資格のID（MST_Certificationへの外部キー）"
            },
            {
              "name": "related_project_id",
              "logical": "関連案件ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連するプロジェクトのID（TRN_ProjectRecordへの外部キー）"
            },
            {
              "name": "related_training_id",
              "logical": "関連研修ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する研修のID（TRN_TrainingHistoryへの外部キー）"
            },
            {
              "name": "role_in_activity",
              "logical": "活動での役割",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡となる活動での担当役割"
            },
            {
              "name": "skill_id",
              "logical": "スキルID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証明対象のスキルID（MST_SkillItemへの外部キー）"
            },
            {
              "name": "skill_level_demonstrated",
              "logical": "実証スキルレベル",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡により実証されるスキルレベル（BEGINNER:初級、INTERMEDIATE:中級、ADVANCED:上級、EXPERT:エキスパート）",
              "enum_values": [
                "BEGINNER",
                "INTERMEDIATE",
                "ADVANCED",
                "EXPERT"
              ]
            },
            {
              "name": "skillevidence_id",
              "logical": "TRN_SkillEvidenceの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_SkillEvidenceの主キー",
              "default": null
            },
            {
              "name": "tags",
              "logical": "タグ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検索・分類用のタグ（JSON形式）"
            },
            {
              "name": "team_size",
              "logical": "チーム規模",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連プロジェクトのチーム規模"
            },
            {
              "name": "technologies_used",
              "logical": "使用技術",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡に関連する使用技術（JSON形式）"
            },
            {
              "name": "validity_end_date",
              "logical": "有効終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の有効期間終了日（無期限の場合はNULL）"
            },
            {
              "name": "validity_start_date",
              "logical": "有効開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の有効期間開始日"
            },
            {
              "name": "verification_comment",
              "logical": "検証コメント",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "検証時のコメント・備考"
            },
            {
              "name": "verification_date",
              "logical": "検証日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡が検証された日付"
            },
            {
              "name": "verification_method",
              "logical": "検証方法",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の検証方法（AUTOMATIC:自動、MANUAL:手動、PEER:同僚、MANAGER:上司、EXTERNAL:外部機関）",
              "enum_values": [
                "AUTOMATIC",
                "MANUAL",
                "PEER",
                "MANAGER",
                "EXTERNAL"
              ]
            },
            {
              "name": "verification_status",
              "logical": "検証状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡の検証状況（PENDING:検証待ち、VERIFIED:検証済み、REJECTED:却下、EXPIRED:期限切れ）",
              "enum_values": [
                "PENDING",
                "VERIFIED",
                "REJECTED",
                "EXPIRED"
              ],
              "default": "PENDING"
            },
            {
              "name": "verified_by",
              "logical": "検証者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "証跡を検証した担当者のID"
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_evidence_id",
              "columns": [
                "evidence_id"
              ],
              "unique": true,
              "description": "証跡ID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_skill_id",
              "columns": [
                "skill_id"
              ],
              "unique": false,
              "description": "スキルID検索用"
            },
            {
              "name": "idx_evidence_type",
              "columns": [
                "evidence_type"
              ],
              "unique": false,
              "description": "証跡種別検索用"
            },
            {
              "name": "idx_skill_level",
              "columns": [
                "skill_level_demonstrated"
              ],
              "unique": false,
              "description": "スキルレベル検索用"
            },
            {
              "name": "idx_evidence_date",
              "columns": [
                "evidence_date"
              ],
              "unique": false,
              "description": "証跡日付検索用"
            },
            {
              "name": "idx_verification_status",
              "columns": [
                "verification_status"
              ],
              "unique": false,
              "description": "検証状況検索用"
            },
            {
              "name": "idx_validity_period",
              "columns": [
                "validity_start_date",
                "validity_end_date"
              ],
              "unique": false,
              "description": "有効期間検索用"
            },
            {
              "name": "idx_employee_skill",
              "columns": [
                "employee_id",
                "skill_id",
                "verification_status"
              ],
              "unique": false,
              "description": "社員別スキル証跡検索用"
            },
            {
              "name": "idx_portfolio",
              "columns": [
                "is_portfolio_item",
                "is_public"
              ],
              "unique": false,
              "description": "ポートフォリオ項目検索用"
            },
            {
              "name": "idx_trn_skillevidence_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_evidence_id",
              "type": "UNIQUE",
              "description": "証跡ID一意制約",
              "columns": [
                [
                  "evidence_id"
                ]
              ]
            },
            {
              "name": "chk_evidence_type",
              "type": "CHECK",
              "description": "証跡種別値チェック制約",
              "condition": "evidence_type IN ('CERTIFICATION', 'PROJECT', 'TRAINING', 'PORTFOLIO', 'PEER_REVIEW', 'SELF_ASSESSMENT', 'OTHER')"
            },
            {
              "name": "chk_skill_level",
              "type": "CHECK",
              "description": "スキルレベル値チェック制約",
              "condition": "skill_level_demonstrated IN ('BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT')"
            },
            {
              "name": "chk_file_type",
              "type": "CHECK",
              "description": "ファイル種別値チェック制約",
              "condition": "file_type IN ('PDF', 'IMAGE', 'VIDEO', 'DOCUMENT', 'URL', 'OTHER')"
            },
            {
              "name": "chk_issuer_type",
              "type": "CHECK",
              "description": "発行者種別値チェック制約",
              "condition": "issuer_type IN ('COMPANY', 'EDUCATIONAL', 'CERTIFICATION_BODY', 'GOVERNMENT', 'COMMUNITY', 'OTHER')"
            },
            {
              "name": "chk_verification_method",
              "type": "CHECK",
              "description": "検証方法値チェック制約",
              "condition": "verification_method IN ('AUTOMATIC', 'MANUAL', 'PEER', 'MANAGER', 'EXTERNAL')"
            },
            {
              "name": "chk_verification_status",
              "type": "CHECK",
              "description": "検証状況値チェック制約",
              "condition": "verification_status IN ('PENDING', 'VERIFIED', 'REJECTED', 'EXPIRED')"
            },
            {
              "name": "chk_complexity_level",
              "type": "CHECK",
              "description": "複雑度レベル値チェック制約",
              "condition": "complexity_level IN ('LOW', 'MEDIUM', 'HIGH', 'VERY_HIGH')"
            },
            {
              "name": "chk_validity_period",
              "type": "CHECK",
              "description": "有効期間の整合性チェック制約",
              "condition": "validity_end_date IS NULL OR validity_start_date <= validity_end_date"
            },
            {
              "name": "chk_impact_score",
              "type": "CHECK",
              "description": "影響度スコア範囲チェック制約",
              "condition": "impact_score IS NULL OR (impact_score >= 1.0 AND impact_score <= 5.0)"
            },
            {
              "name": "chk_file_size",
              "type": "CHECK",
              "description": "ファイルサイズ正数チェック制約",
              "condition": "file_size_kb IS NULL OR file_size_kb > 0"
            },
            {
              "name": "chk_team_size",
              "type": "CHECK",
              "description": "チーム規模正数チェック制約",
              "condition": "team_size IS NULL OR team_size > 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_evidence_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_evidence_skill",
              "columns": [
                "skill_id"
              ],
              "references": {
                "table": "MST_SkillItem",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_evidence_verifier",
              "columns": [
                "verified_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_evidence_project",
              "columns": [
                "related_project_id"
              ],
              "references": {
                "table": "TRN_ProjectRecord",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_evidence_training",
              "columns": [
                "related_training_id"
              ],
              "references": {
                "table": "TRN_TrainingHistory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_evidence_certification",
              "columns": [
                "related_certification_id"
              ],
              "references": {
                "table": "MST_Certification",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "evidence_id": "EVD_001",
              "employee_id": "EMP000001",
              "skill_id": "SKILL_JAVA_001",
              "evidence_type": "PROJECT",
              "evidence_title": "ECサイト基盤システム開発",
              "evidence_description": "大規模ECサイトのバックエンドシステムをJavaで設計・開発",
              "skill_level_demonstrated": "ADVANCED",
              "evidence_date": "2024-03-31",
              "validity_start_date": "2024-03-31",
              "validity_end_date": null,
              "file_path": "/evidence/EVD_001_project_summary.pdf",
              "file_type": "PDF",
              "file_size_kb": 2048,
              "external_url": "https://github.com/company/ecommerce-backend",
              "issuer_name": "株式会社サンプル",
              "issuer_type": "COMPANY",
              "certificate_number": null,
              "verification_method": "MANAGER",
              "verification_status": "VERIFIED",
              "verified_by": "EMP000010",
              "verification_date": "2024-04-05",
              "verification_comment": "高品質なコードと優れた設計により、システムの安定性と拡張性を実現",
              "related_project_id": "PRJ_REC_001",
              "related_training_id": null,
              "related_certification_id": null,
              "impact_score": 4.5,
              "complexity_level": "HIGH",
              "team_size": 8,
              "role_in_activity": "テックリード",
              "technologies_used": "[\"Java\", \"Spring Boot\", \"PostgreSQL\", \"Redis\", \"Docker\"]",
              "achievements": "予定より2週間早期リリース、性能要件120%達成、バグ発生率0.1%以下",
              "lessons_learned": "大規模システムでのマイクロサービス設計、チーム間連携の重要性",
              "is_public": false,
              "is_portfolio_item": true,
              "tags": "[\"Java\", \"Spring Boot\", \"システム設計\", \"チームリード\"]"
            },
            {
              "evidence_id": "EVD_002",
              "employee_id": "EMP000002",
              "skill_id": "SKILL_AWS_001",
              "evidence_type": "CERTIFICATION",
              "evidence_title": "AWS認定ソリューションアーキテクト - アソシエイト",
              "evidence_description": "AWSクラウドサービスの設計・構築に関する認定資格",
              "skill_level_demonstrated": "INTERMEDIATE",
              "evidence_date": "2024-02-15",
              "validity_start_date": "2024-02-15",
              "validity_end_date": "2027-02-15",
              "file_path": "/evidence/EVD_002_aws_certificate.pdf",
              "file_type": "PDF",
              "file_size_kb": 512,
              "external_url": "https://aws.amazon.com/verification",
              "issuer_name": "Amazon Web Services",
              "issuer_type": "CERTIFICATION_BODY",
              "certificate_number": "AWS-SAA-2024-002",
              "verification_method": "AUTOMATIC",
              "verification_status": "VERIFIED",
              "verified_by": null,
              "verification_date": "2024-02-15",
              "verification_comment": "AWS公式認定により自動検証",
              "related_project_id": null,
              "related_training_id": "TRN_HIS_001",
              "related_certification_id": "CERT_AWS_001",
              "impact_score": 4.0,
              "complexity_level": "MEDIUM",
              "team_size": null,
              "role_in_activity": "受験者",
              "technologies_used": "[\"AWS\", \"EC2\", \"S3\", \"RDS\", \"Lambda\"]",
              "achievements": "一発合格、スコア850点（合格ライン720点）",
              "lessons_learned": "クラウドアーキテクチャの設計原則、AWSサービスの適切な選択方法",
              "is_public": true,
              "is_portfolio_item": true,
              "tags": "[\"AWS\", \"クラウド\", \"認定資格\", \"アーキテクチャ\"]"
            }
          ],
          "notes": [
            "証跡ファイルは機密性に応じて適切に管理",
            "外部URLは定期的な有効性チェックが必要",
            "検証プロセスは証跡の信頼性確保に重要",
            "ポートフォリオ項目は採用・評価活動に活用",
            "タグ機能により柔軟な検索・分類が可能",
            "有効期限管理により証跡の鮮度を維持",
            "証跡IDは一意である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "検証済み証跡のみがスキル評価に使用可能",
            "機密プロジェクトの証跡は公開不可",
            "ファイルサイズは10MB以下に制限",
            "外部URLは定期的な有効性確認が必要",
            "ポートフォリオ項目は検証済みである必要がある",
            "影響度スコアは1.0-5.0の範囲で設定"
          ],
          "rules": [
            "証跡IDは一意である必要がある",
            "有効開始日は有効終了日以前である必要がある",
            "検証済み証跡のみがスキル評価に使用可能",
            "機密プロジェクトの証跡は公開不可",
            "ファイルサイズは10MB以下に制限",
            "外部URLは定期的な有効性確認が必要",
            "ポートフォリオ項目は検証済みである必要がある",
            "影響度スコアは1.0-5.0の範囲で設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_SkillEvidence_スキル証跡.md"
        ]
      }
    },
    {
      "table_name": "TRN_SkillRecord",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_SkillRecord",
          "logical_name": "スキル情報",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - スキル記録トランザクションテーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_SkillRecord（スキル情報）は、組織内の全社員が保有するスキル・技術・資格等の詳細情報を管理するトランザクションテーブルです。\n\n主な目的：\n- 社員個人のスキルポートフォリオ管理（技術スキル、ビジネススキル、資格等）\n- スキルレベルの客観的評価・管理（5段階評価システム）\n- 自己評価と上司評価による多面的スキル評価\n- プロジェクトアサインメントのためのスキルマッチング\n- 人材育成計画・キャリア開発支援\n- 組織全体のスキル可視化・分析\n- 資格取得状況・有効期限管理\n\nこのテーブルは、人材配置の最適化、教育研修計画の策定、組織のスキルギャップ分析など、\n戦略的人材マネジメントの基盤となる重要なデータを提供します。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "acquisition_date",
              "logical": "習得日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルを習得した日付"
            },
            {
              "name": "assessment_date",
              "logical": "評価日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "最後に評価を行った日付"
            },
            {
              "name": "assessor_id",
              "logical": "評価者ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "評価を行った人のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "certification_id",
              "logical": "関連資格ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "関連する資格のID（MST_Certificationへの外部キー）"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルを保有する社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "evidence_description",
              "logical": "証跡説明",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル習得の証跡や根拠の説明"
            },
            {
              "name": "expiry_date",
              "logical": "有効期限",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの有効期限（資格等の場合）"
            },
            {
              "name": "last_used_date",
              "logical": "最終使用日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルを最後に使用した日付"
            },
            {
              "name": "learning_hours",
              "logical": "学習時間",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル習得にかけた学習時間（時間）"
            },
            {
              "name": "manager_assessment",
              "logical": "上司評価",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上司による評価（1-5段階）",
              "validation": "manager_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "project_experience_count",
              "logical": "プロジェクト経験回数",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "このスキルを使用したプロジェクトの回数"
            },
            {
              "name": "self_assessment",
              "logical": "自己評価",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "自己評価（1-5段階）",
              "validation": "self_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "skill_category_id",
              "logical": "スキルカテゴリID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルカテゴリのID（MST_SkillCategoryへの外部キー）"
            },
            {
              "name": "skill_item_id",
              "logical": "スキル項目ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキル項目のID（MST_SkillItemへの外部キー）"
            },
            {
              "name": "skill_level",
              "logical": "スキルレベル",
              "type": "INT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルレベル（1:初級、2:中級、3:上級、4:エキスパート、5:マスター）",
              "validation": "skill_level BETWEEN 1 AND 5"
            },
            {
              "name": "skill_status",
              "logical": "スキル状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "スキルの状況（ACTIVE:有効、EXPIRED:期限切れ、SUSPENDED:一時停止）",
              "enum_values": [
                "ACTIVE",
                "EXPIRED",
                "SUSPENDED"
              ],
              "default": "ACTIVE"
            },
            {
              "name": "skillrecord_id",
              "logical": "TRN_SkillRecordの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_SkillRecordの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_employee_skill",
              "columns": [
                "employee_id",
                "skill_item_id"
              ],
              "unique": true,
              "description": "社員・スキル項目の組み合わせ（一意）"
            },
            {
              "name": "idx_employee",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員別検索用"
            },
            {
              "name": "idx_skill_item",
              "columns": [
                "skill_item_id"
              ],
              "unique": false,
              "description": "スキル項目別検索用"
            },
            {
              "name": "idx_skill_level",
              "columns": [
                "skill_level"
              ],
              "unique": false,
              "description": "スキルレベル別検索用"
            },
            {
              "name": "idx_skill_category",
              "columns": [
                "skill_category_id"
              ],
              "unique": false,
              "description": "スキルカテゴリ別検索用"
            },
            {
              "name": "idx_certification",
              "columns": [
                "certification_id"
              ],
              "unique": false,
              "description": "資格別検索用"
            },
            {
              "name": "idx_status",
              "columns": [
                "skill_status"
              ],
              "unique": false,
              "description": "スキル状況別検索用"
            },
            {
              "name": "idx_expiry_date",
              "columns": [
                "expiry_date"
              ],
              "unique": false,
              "description": "有効期限検索用"
            },
            {
              "name": "idx_assessment_date",
              "columns": [
                "assessment_date"
              ],
              "unique": false,
              "description": "評価日検索用"
            },
            {
              "name": "idx_trn_skillrecord_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_employee_skill",
              "type": "UNIQUE",
              "description": "社員・スキル項目の組み合わせ一意制約",
              "columns": [
                [
                  "employee_id"
                ],
                [
                  "skill_item_id"
                ]
              ]
            },
            {
              "name": "chk_skill_level",
              "type": "CHECK",
              "description": "スキルレベル値チェック制約",
              "condition": "skill_level BETWEEN 1 AND 5"
            },
            {
              "name": "chk_self_assessment",
              "type": "CHECK",
              "description": "自己評価値チェック制約",
              "condition": "self_assessment IS NULL OR self_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "chk_manager_assessment",
              "type": "CHECK",
              "description": "上司評価値チェック制約",
              "condition": "manager_assessment IS NULL OR manager_assessment BETWEEN 1 AND 5"
            },
            {
              "name": "chk_skill_status",
              "type": "CHECK",
              "description": "スキル状況値チェック制約",
              "condition": "skill_status IN ('ACTIVE', 'EXPIRED', 'SUSPENDED')"
            },
            {
              "name": "chk_learning_hours",
              "type": "CHECK",
              "description": "学習時間非負値チェック制約",
              "condition": "learning_hours IS NULL OR learning_hours >= 0"
            },
            {
              "name": "chk_project_count",
              "type": "CHECK",
              "description": "プロジェクト経験回数非負値チェック制約",
              "condition": "project_experience_count IS NULL OR project_experience_count >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_skill_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_item",
              "columns": [
                "skill_item_id"
              ],
              "references": {
                "table": "MST_SkillItem",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "CASCADE",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_certification",
              "columns": [
                "certification_id"
              ],
              "references": {
                "table": "MST_Certification",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_category",
              "columns": [
                "skill_category_id"
              ],
              "references": {
                "table": "MST_SkillCategory",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_skill_assessor",
              "columns": [
                "assessor_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "employee_id": "EMP000001",
              "skill_item_id": "SKILL001",
              "skill_level": 4,
              "self_assessment": 4,
              "manager_assessment": 3,
              "evidence_description": "Javaを使用したWebアプリケーション開発プロジェクトを3件担当",
              "acquisition_date": "2020-06-01",
              "last_used_date": "2025-05-30",
              "expiry_date": null,
              "certification_id": "CERT001",
              "skill_category_id": "CAT001",
              "assessment_date": "2025-04-01",
              "assessor_id": "EMP000010",
              "skill_status": "ACTIVE",
              "learning_hours": 120,
              "project_experience_count": 3
            },
            {
              "employee_id": "EMP000001",
              "skill_item_id": "SKILL002",
              "skill_level": 3,
              "self_assessment": 3,
              "manager_assessment": 3,
              "evidence_description": "AWS環境でのインフラ構築・運用経験",
              "acquisition_date": "2021-03-15",
              "last_used_date": "2025-05-25",
              "expiry_date": "2026-03-15",
              "certification_id": "CERT002",
              "skill_category_id": "CAT002",
              "assessment_date": "2025-04-01",
              "assessor_id": "EMP000010",
              "skill_status": "ACTIVE",
              "learning_hours": 80,
              "project_experience_count": 2
            }
          ],
          "notes": [
            "社員とスキル項目の組み合わせは一意（1人の社員が同じスキルを複数持つことはない）",
            "スキルレベルは1-5の5段階評価（1:初級、5:マスター）",
            "自己評価と上司評価は任意項目（評価制度に応じて入力）",
            "有効期限は資格系スキルの場合に設定",
            "学習時間とプロジェクト経験回数は統計・分析用",
            "スキル状況により論理削除を実現",
            "スキルレベルは客観的な基準に基づいて設定",
            "自己評価と上司評価の乖離が大きい場合は再評価を実施",
            "有効期限が近づいた資格は自動的に通知",
            "期限切れスキルは skill_status を EXPIRED に変更",
            "評価は年1回以上実施することを推奨",
            "プロジェクト経験回数は実績管理システムと連携"
          ],
          "rules": [
            "スキルレベルは客観的な基準に基づいて設定",
            "自己評価と上司評価の乖離が大きい場合は再評価を実施",
            "有効期限が近づいた資格は自動的に通知",
            "期限切れスキルは skill_status を EXPIRED に変更",
            "評価は年1回以上実施することを推奨",
            "プロジェクト経験回数は実績管理システムと連携"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_SkillRecord_スキル情報.md"
        ]
      }
    },
    {
      "table_name": "TRN_TrainingHistory",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "TRN_TrainingHistory",
          "logical_name": "研修参加履歴",
          "category": "トランザクション系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - 研修参加履歴テーブルの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "TRN_TrainingHistory（研修参加履歴）は、社員が参加した研修・教育プログラムの履歴を管理するトランザクションテーブルです。\n\n主な目的：\n- 研修参加履歴の記録・管理\n- 学習成果・評価の記録\n- スキル向上の追跡\n- 継続教育ポイント（PDU）の管理\n- 人材育成計画の進捗管理\n\nこのテーブルにより、社員の学習履歴を体系的に記録し、\nスキル開発やキャリア形成の支援を効率的に行うことができます。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "training_name",
              "logical": "研修名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修・教育プログラムの名称"
            },
            {
              "name": "approved_by",
              "logical": "承認者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修参加を承認した上司のID"
            },
            {
              "name": "attendance_status",
              "logical": "出席状況",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "出席状況（COMPLETED:完了、PARTIAL:部分参加、ABSENT:欠席、CANCELLED:中止）",
              "enum_values": [
                "COMPLETED",
                "PARTIAL",
                "ABSENT",
                "CANCELLED"
              ],
              "default": "COMPLETED"
            },
            {
              "name": "certificate_number",
              "logical": "証明書番号",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "修了証・認定証の番号"
            },
            {
              "name": "certificate_obtained",
              "logical": "修了証取得",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "修了証・認定証を取得したかどうか",
              "default": false
            },
            {
              "name": "completion_rate",
              "logical": "完了率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の完了率（%）"
            },
            {
              "name": "cost",
              "logical": "費用",
              "type": "DECIMAL",
              "length": "10,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修参加費用（円）"
            },
            {
              "name": "cost_covered_by",
              "logical": "費用負担者",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "費用の負担者（COMPANY:会社、EMPLOYEE:個人、SHARED:折半）",
              "enum_values": [
                "COMPANY",
                "EMPLOYEE",
                "SHARED"
              ]
            },
            {
              "name": "duration_hours",
              "logical": "研修時間",
              "type": "DECIMAL",
              "length": "5,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の総時間数"
            },
            {
              "name": "employee_id",
              "logical": "社員ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "参加した社員のID（MST_Employeeへの外部キー）"
            },
            {
              "name": "end_date",
              "logical": "終了日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修終了日（単日の場合は開始日と同じ）"
            },
            {
              "name": "feedback",
              "logical": "フィードバック",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修に対するフィードバック・感想"
            },
            {
              "name": "follow_up_date",
              "logical": "フォローアップ予定日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "フォローアップの予定日"
            },
            {
              "name": "follow_up_required",
              "logical": "フォローアップ要否",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "追加のフォローアップが必要かどうか",
              "default": false
            },
            {
              "name": "grade",
              "logical": "成績",
              "type": "VARCHAR",
              "length": 10,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の成績（A、B、C、合格、不合格等）"
            },
            {
              "name": "instructor_name",
              "logical": "講師名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修講師の名前"
            },
            {
              "name": "learning_objectives",
              "logical": "学習目標",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の学習目標・目的"
            },
            {
              "name": "learning_outcomes",
              "logical": "学習成果",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際の学習成果・習得内容"
            },
            {
              "name": "location",
              "logical": "開催場所",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修開催場所（オンラインの場合は「オンライン」）"
            },
            {
              "name": "manager_approval",
              "logical": "上司承認",
              "type": "BOOLEAN",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "上司による参加承認があったかどうか",
              "default": false
            },
            {
              "name": "pdu_earned",
              "logical": "獲得PDU",
              "type": "DECIMAL",
              "length": "5,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修で獲得した継続教育ポイント（PDU）"
            },
            {
              "name": "provider_name",
              "logical": "提供機関名",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修を提供する機関・会社名"
            },
            {
              "name": "recommendation_score",
              "logical": "推奨度",
              "type": "DECIMAL",
              "length": "3,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "他者への推奨度（1.0-5.0）"
            },
            {
              "name": "satisfaction_score",
              "logical": "満足度",
              "type": "DECIMAL",
              "length": "3,1",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修に対する満足度（1.0-5.0）"
            },
            {
              "name": "skills_acquired",
              "logical": "習得スキル",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修で習得したスキル（JSON形式）"
            },
            {
              "name": "start_date",
              "logical": "開始日",
              "type": "DATE",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修開始日"
            },
            {
              "name": "test_score",
              "logical": "テスト点数",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修テストの点数"
            },
            {
              "name": "training_category",
              "logical": "研修カテゴリ",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の分野（TECHNICAL:技術、BUSINESS:ビジネス、MANAGEMENT:マネジメント、SOFT_SKILL:ソフトスキル、COMPLIANCE:コンプライアンス）",
              "enum_values": [
                "TECHNICAL",
                "BUSINESS",
                "MANAGEMENT",
                "SOFT_SKILL",
                "COMPLIANCE"
              ]
            },
            {
              "name": "training_history_id",
              "logical": "研修履歴ID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "研修参加履歴を一意に識別するID"
            },
            {
              "name": "training_program_id",
              "logical": "研修プログラムID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修プログラムのID（MST_TrainingProgramへの外部キー）"
            },
            {
              "name": "training_type",
              "logical": "研修種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "研修の種別（INTERNAL:社内研修、EXTERNAL:社外研修、ONLINE:オンライン、CERTIFICATION:資格取得、CONFERENCE:カンファレンス）",
              "enum_values": [
                "INTERNAL",
                "EXTERNAL",
                "ONLINE",
                "CERTIFICATION",
                "CONFERENCE"
              ]
            },
            {
              "name": "traininghistory_id",
              "logical": "TRN_TrainingHistoryの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "TRN_TrainingHistoryの主キー",
              "default": null
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "created_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "作成者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_by",
              "type": "VARCHAR(50)",
              "nullable": true,
              "primary_key": false,
              "unique": false,
              "default": null,
              "comment": "更新者ID",
              "requirement_id": "SYS.1-AUDIT.1"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_training_history_id",
              "columns": [
                "training_history_id"
              ],
              "unique": true,
              "description": "研修履歴ID検索用（一意）"
            },
            {
              "name": "idx_employee_id",
              "columns": [
                "employee_id"
              ],
              "unique": false,
              "description": "社員ID検索用"
            },
            {
              "name": "idx_training_program_id",
              "columns": [
                "training_program_id"
              ],
              "unique": false,
              "description": "研修プログラムID検索用"
            },
            {
              "name": "idx_training_type",
              "columns": [
                "training_type"
              ],
              "unique": false,
              "description": "研修種別検索用"
            },
            {
              "name": "idx_training_category",
              "columns": [
                "training_category"
              ],
              "unique": false,
              "description": "研修カテゴリ検索用"
            },
            {
              "name": "idx_date_range",
              "columns": [
                "start_date",
                "end_date"
              ],
              "unique": false,
              "description": "期間検索用"
            },
            {
              "name": "idx_attendance_status",
              "columns": [
                "attendance_status"
              ],
              "unique": false,
              "description": "出席状況検索用"
            },
            {
              "name": "idx_employee_period",
              "columns": [
                "employee_id",
                "start_date",
                "end_date"
              ],
              "unique": false,
              "description": "社員別期間検索用"
            },
            {
              "name": "idx_certificate",
              "columns": [
                "certificate_obtained",
                "certificate_number"
              ],
              "unique": false,
              "description": "修了証検索用"
            },
            {
              "name": "idx_trn_traininghistory_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "uk_training_history_id",
              "type": "UNIQUE",
              "description": "研修履歴ID一意制約",
              "columns": [
                [
                  "training_history_id"
                ]
              ]
            },
            {
              "name": "chk_training_type",
              "type": "CHECK",
              "description": "研修種別値チェック制約",
              "condition": "training_type IN ('INTERNAL', 'EXTERNAL', 'ONLINE', 'CERTIFICATION', 'CONFERENCE')"
            },
            {
              "name": "chk_training_category",
              "type": "CHECK",
              "description": "研修カテゴリ値チェック制約",
              "condition": "training_category IN ('TECHNICAL', 'BUSINESS', 'MANAGEMENT', 'SOFT_SKILL', 'COMPLIANCE')"
            },
            {
              "name": "chk_cost_covered_by",
              "type": "CHECK",
              "description": "費用負担者値チェック制約",
              "condition": "cost_covered_by IN ('COMPANY', 'EMPLOYEE', 'SHARED')"
            },
            {
              "name": "chk_attendance_status",
              "type": "CHECK",
              "description": "出席状況値チェック制約",
              "condition": "attendance_status IN ('COMPLETED', 'PARTIAL', 'ABSENT', 'CANCELLED')"
            },
            {
              "name": "chk_date_range",
              "type": "CHECK",
              "description": "開始日・終了日の整合性チェック制約",
              "condition": "end_date IS NULL OR start_date <= end_date"
            },
            {
              "name": "chk_duration_hours",
              "type": "CHECK",
              "description": "研修時間正数チェック制約",
              "condition": "duration_hours IS NULL OR duration_hours > 0"
            },
            {
              "name": "chk_completion_rate",
              "type": "CHECK",
              "description": "完了率範囲チェック制約",
              "condition": "completion_rate IS NULL OR (completion_rate >= 0 AND completion_rate <= 100)"
            },
            {
              "name": "chk_test_score",
              "type": "CHECK",
              "description": "テスト点数非負数チェック制約",
              "condition": "test_score IS NULL OR test_score >= 0"
            },
            {
              "name": "chk_satisfaction_score",
              "type": "CHECK",
              "description": "満足度範囲チェック制約",
              "condition": "satisfaction_score IS NULL OR (satisfaction_score >= 1.0 AND satisfaction_score <= 5.0)"
            },
            {
              "name": "chk_recommendation_score",
              "type": "CHECK",
              "description": "推奨度範囲チェック制約",
              "condition": "recommendation_score IS NULL OR (recommendation_score >= 1.0 AND recommendation_score <= 5.0)"
            },
            {
              "name": "chk_cost",
              "type": "CHECK",
              "description": "費用非負数チェック制約",
              "condition": "cost IS NULL OR cost >= 0"
            },
            {
              "name": "chk_pdu_earned",
              "type": "CHECK",
              "description": "獲得PDU非負数チェック制約",
              "condition": "pdu_earned IS NULL OR pdu_earned >= 0"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_training_history_employee",
              "columns": [
                "employee_id"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_training_history_program",
              "columns": [
                "training_program_id"
              ],
              "references": {
                "table": "MST_TrainingProgram",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            },
            {
              "name": "fk_training_history_approver",
              "columns": [
                "approved_by"
              ],
              "references": {
                "table": "MST_Employee",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "SET NULL",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "training_history_id": "TRN_HIS_001",
              "employee_id": "EMP000001",
              "training_program_id": "TRN_PROG_001",
              "training_name": "AWS認定ソリューションアーキテクト研修",
              "training_type": "EXTERNAL",
              "training_category": "TECHNICAL",
              "provider_name": "AWS Training",
              "instructor_name": "田中講師",
              "start_date": "2024-03-01",
              "end_date": "2024-03-03",
              "duration_hours": 24.0,
              "location": "東京研修センター",
              "cost": 150000,
              "cost_covered_by": "COMPANY",
              "attendance_status": "COMPLETED",
              "completion_rate": 100.0,
              "test_score": 85.0,
              "grade": "合格",
              "certificate_obtained": true,
              "certificate_number": "AWS-SAA-2024-001",
              "pdu_earned": 24.0,
              "skills_acquired": "[\"AWS設計\", \"クラウドアーキテクチャ\", \"セキュリティ設計\"]",
              "learning_objectives": "AWSでのソリューション設計スキル習得",
              "learning_outcomes": "クラウドアーキテクチャ設計の基礎を習得、実践的な設計手法を学習",
              "feedback": "実践的な内容で非常に有用だった。講師の説明も分かりやすい。",
              "satisfaction_score": 4.5,
              "recommendation_score": 5.0,
              "follow_up_required": true,
              "follow_up_date": "2024-06-01",
              "manager_approval": true,
              "approved_by": "EMP000010"
            },
            {
              "training_history_id": "TRN_HIS_002",
              "employee_id": "EMP000002",
              "training_program_id": null,
              "training_name": "プロジェクトマネジメント基礎",
              "training_type": "ONLINE",
              "training_category": "MANAGEMENT",
              "provider_name": "社内研修センター",
              "instructor_name": "佐藤部長",
              "start_date": "2024-02-15",
              "end_date": "2024-02-15",
              "duration_hours": 8.0,
              "location": "オンライン",
              "cost": 0,
              "cost_covered_by": "COMPANY",
              "attendance_status": "COMPLETED",
              "completion_rate": 100.0,
              "test_score": 92.0,
              "grade": "A",
              "certificate_obtained": true,
              "certificate_number": "PM-BASIC-2024-002",
              "pdu_earned": 8.0,
              "skills_acquired": "[\"プロジェクト計画\", \"リスク管理\", \"チームマネジメント\"]",
              "learning_objectives": "プロジェクトマネジメントの基礎知識習得",
              "learning_outcomes": "PMBOKの基礎理解、実際のプロジェクト運営に活用可能な知識を習得",
              "feedback": "基礎から体系的に学べて良かった。実例が豊富で理解しやすい。",
              "satisfaction_score": 4.0,
              "recommendation_score": 4.0,
              "follow_up_required": false,
              "follow_up_date": null,
              "manager_approval": true,
              "approved_by": "EMP000010"
            }
          ],
          "notes": [
            "習得スキルはJSON形式で柔軟に管理",
            "PDU（継続教育ポイント）は資格維持に重要",
            "修了証番号は資格証明に使用",
            "満足度・推奨度は研修品質向上に活用",
            "フォローアップは学習効果の定着に重要",
            "上司承認は研修参加の正当性を担保",
            "研修履歴IDは一意である必要がある",
            "開始日は終了日以前である必要がある",
            "完了率は0-100%の範囲で設定",
            "満足度・推奨度は1.0-5.0の範囲で設定",
            "修了証取得時は証明書番号を記録",
            "PDU対象研修は獲得ポイントを必須記録",
            "費用が発生する研修は上司承認必須",
            "フォローアップ要否に応じて予定日を設定"
          ],
          "rules": [
            "研修履歴IDは一意である必要がある",
            "開始日は終了日以前である必要がある",
            "完了率は0-100%の範囲で設定",
            "満足度・推奨度は1.0-5.0の範囲で設定",
            "修了証取得時は証明書番号を記録",
            "PDU対象研修は獲得ポイントを必須記録",
            "費用が発生する研修は上司承認必須",
            "フォローアップ要否に応じて予定日を設定"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_TRN_TrainingHistory_研修参加履歴.md"
        ]
      }
    },
    {
      "table_name": "WRK_BatchJobLog",
      "is_valid": true,
      "errors": [],
      "warnings": [],
      "score": 100.0,
      "details": {
        "yaml_data": {
          "table_name": "WRK_BatchJobLog",
          "logical_name": "一括登録ジョブログ",
          "category": "ワーク系",
          "revision_history": [
            {
              "version": "1.0.0",
              "date": "2025-06-01",
              "author": "開発チーム",
              "changes": "初版作成 - WRK_BatchJobLogの詳細定義"
            },
            {
              "version": "2.0.0",
              "date": "2025-06-22",
              "author": "自動変換ツール",
              "changes": "テンプレート形式への自動変換"
            },
            {
              "version": "3.1.20250624",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を推奨順序に自動修正"
            },
            {
              "version": "4.0.20250624_213614",
              "date": "2025-06-24",
              "author": "自動修正ツール",
              "changes": "カラム順序を統一テンプレートに従って自動修正"
            },
            {
              "version": "5.0.20250624_214007",
              "date": "2025-06-24",
              "author": "統一カラム順序修正ツール",
              "changes": "カラム順序を統一テンプレート（Phase 1）に従って自動修正"
            },
            {
              "version": "10.0.20250624_214908",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "要求仕様に従って主キー→tenant_id→UUID→その他の順序に最終修正"
            },
            {
              "version": "11.0.20250624_215001",
              "date": "2025-06-24",
              "author": "最終カラム順序修正ツール（実構成対応版）",
              "changes": "実際のカラム構成に基づいて主キー→tenant_id→その他→終了部分の順序に修正"
            },
            {
              "version": "12.0.20250624_215054",
              "date": "2025-06-24",
              "author": "現実的カラム順序修正ツール",
              "changes": "実際に存在するカラムに基づいて現実的な順序に修正（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "13.0.20250624_222632",
              "date": "2025-06-24",
              "author": "ユーザー要求対応カラム順序修正ツール",
              "changes": "ユーザー要求に従ってカラム順序を統一（id→tenant_id→ビジネスキー→名称→その他→終了部分）"
            },
            {
              "version": "FINAL.20250624_223433",
              "date": "2025-06-24",
              "author": "最終カラム順序統一ツール",
              "changes": "推奨カラム順序テンプレートに従って最終統一"
            }
          ],
          "overview": "一括登録・更新処理のジョブ実行ログを管理するワーク系テーブル。\n\n主な目的：\n- バッチ処理の実行状況監視\n- エラー発生時の原因調査・トラブルシューティング\n- 処理結果の統計情報管理\n- 一括処理の進捗追跡\n\nこのテーブルは一時的なワークテーブルとして機能し、\n処理完了後は定期的にアーカイブ・削除される。\n主に管理者画面での監視とAPI経由での状況確認に使用される。\n",
          "columns": [
            {
              "name": "id",
              "logical": "プライマリキー（UUID）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": true,
              "encrypted": false,
              "description": "プライマリキー（UUID）",
              "default": null
            },
            {
              "name": "tenant_id",
              "logical": "テナントID（マルチテナント対応）",
              "type": "VARCHAR(50)",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "テナントID（マルチテナント対応）",
              "default": null
            },
            {
              "name": "job_id",
              "logical": "ジョブID",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": true,
              "encrypted": false,
              "description": "一括処理ジョブの一意識別子（UUID形式）"
            },
            {
              "name": "batchjoblog_id",
              "logical": "WRK_BatchJobLogの主キー",
              "type": "SERIAL",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "WRK_BatchJobLogの主キー",
              "default": null
            },
            {
              "name": "end_time",
              "logical": "終了時刻",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブ実行終了日時"
            },
            {
              "name": "error_details",
              "logical": "エラー詳細",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "エラー内容の詳細情報（JSON形式でエラーメッセージ、行番号、カラム名等を格納）"
            },
            {
              "name": "error_records",
              "logical": "エラーレコード数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "エラーが発生したレコード数",
              "default": 0
            },
            {
              "name": "executed_by",
              "logical": "実行者",
              "type": "VARCHAR",
              "length": 50,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブを実行したユーザーのID"
            },
            {
              "name": "execution_environment",
              "logical": "実行環境",
              "type": "VARCHAR",
              "length": 100,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブが実行された環境情報（サーバー名、プロセスID等）"
            },
            {
              "name": "input_file_path",
              "logical": "入力ファイルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "処理対象の入力ファイルパス（CSVファイル等）"
            },
            {
              "name": "job_name",
              "logical": "ジョブ名",
              "type": "VARCHAR",
              "length": 200,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実行されたジョブの名称（画面表示用）"
            },
            {
              "name": "job_parameters",
              "logical": "ジョブパラメータ",
              "type": "TEXT",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブ実行時のパラメータ情報（JSON形式）"
            },
            {
              "name": "job_type",
              "logical": "ジョブ種別",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブの種別（SKILL_IMPORT:スキル情報一括登録、EMPLOYEE_IMPORT:社員情報一括登録、BULK_UPDATE:一括更新、BULK_DELETE:一括削除、DATA_EXPORT:データエクスポート）",
              "enum_values": [
                "SKILL_IMPORT",
                "EMPLOYEE_IMPORT",
                "BULK_UPDATE",
                "BULK_DELETE",
                "DATA_EXPORT"
              ],
              "default": "SKILL_IMPORT"
            },
            {
              "name": "output_file_path",
              "logical": "出力ファイルパス",
              "type": "VARCHAR",
              "length": 500,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "処理結果の出力ファイルパス（エラーレポート等）"
            },
            {
              "name": "processed_records",
              "logical": "処理済みレコード数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "実際に処理されたレコード数",
              "default": 0
            },
            {
              "name": "progress_percentage",
              "logical": "進捗率",
              "type": "DECIMAL",
              "length": "5,2",
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブの進捗率（0.00-100.00）",
              "default": 0.0
            },
            {
              "name": "start_time",
              "logical": "開始時刻",
              "type": "TIMESTAMP",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブ実行開始日時"
            },
            {
              "name": "status",
              "logical": "実行ステータス",
              "type": "ENUM",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "ジョブの実行状況（PENDING:待機中、RUNNING:実行中、COMPLETED:完了、FAILED:失敗、CANCELLED:キャンセル）",
              "enum_values": [
                "PENDING",
                "RUNNING",
                "COMPLETED",
                "FAILED",
                "CANCELLED"
              ],
              "default": "PENDING"
            },
            {
              "name": "success_records",
              "logical": "成功レコード数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "正常に処理されたレコード数",
              "default": 0
            },
            {
              "name": "total_records",
              "logical": "総レコード数",
              "type": "INTEGER",
              "length": null,
              "null": true,
              "unique": false,
              "encrypted": false,
              "description": "処理対象の総レコード数",
              "default": 0
            },
            {
              "name": "is_deleted",
              "logical": "論理削除フラグ",
              "type": "BOOLEAN",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "論理削除フラグ",
              "default": "False"
            },
            {
              "name": "created_at",
              "logical": "作成日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "作成日時",
              "default": "CURRENT_TIMESTAMP"
            },
            {
              "name": "updated_at",
              "logical": "更新日時",
              "type": "TIMESTAMP",
              "length": null,
              "null": false,
              "unique": false,
              "encrypted": false,
              "description": "更新日時",
              "default": "CURRENT_TIMESTAMP"
            }
          ],
          "indexes": [
            {
              "name": "idx_WRK_BatchJobLog_job_id",
              "columns": [
                "job_id"
              ],
              "unique": true,
              "description": "ジョブID検索用（一意）"
            },
            {
              "name": "idx_WRK_BatchJobLog_status",
              "columns": [
                "status"
              ],
              "unique": false,
              "description": "ステータス検索用（実行中ジョブの監視等）"
            },
            {
              "name": "idx_WRK_BatchJobLog_start_time",
              "columns": [
                "start_time"
              ],
              "unique": false,
              "description": "開始時刻検索用（日時範囲での絞り込み）"
            },
            {
              "name": "idx_WRK_BatchJobLog_executed_by",
              "columns": [
                "executed_by"
              ],
              "unique": false,
              "description": "実行者検索用（ユーザー別ジョブ履歴）"
            },
            {
              "name": "idx_WRK_BatchJobLog_job_type",
              "columns": [
                "job_type"
              ],
              "unique": false,
              "description": "ジョブ種別検索用（種別別の統計等）"
            },
            {
              "name": "idx_WRK_BatchJobLog_status_start_time",
              "columns": [
                "status",
                "start_time"
              ],
              "unique": false,
              "description": "ステータスと開始時刻の複合検索用（監視画面での絞り込み）"
            },
            {
              "name": "idx_wrk_batchjoblog_tenant_id",
              "columns": [
                "tenant_id"
              ],
              "unique": false,
              "description": "テナントID検索用インデックス"
            }
          ],
          "constraints": [
            {
              "name": "chk_WRK_BatchJobLog_status",
              "type": "CHECK",
              "description": "ステータス値チェック制約",
              "condition": "status IN ('PENDING', 'RUNNING', 'COMPLETED', 'FAILED', 'CANCELLED')"
            },
            {
              "name": "chk_WRK_BatchJobLog_job_type",
              "type": "CHECK",
              "description": "ジョブ種別値チェック制約",
              "condition": "job_type IN ('SKILL_IMPORT', 'EMPLOYEE_IMPORT', 'BULK_UPDATE', 'BULK_DELETE', 'DATA_EXPORT')"
            },
            {
              "name": "chk_WRK_BatchJobLog_records_positive",
              "type": "CHECK",
              "description": "レコード数正数チェック制約",
              "condition": "total_records >= 0 AND processed_records >= 0 AND success_records >= 0 AND error_records >= 0"
            },
            {
              "name": "chk_WRK_BatchJobLog_progress_range",
              "type": "CHECK",
              "description": "進捗率範囲チェック制約（0-100%）",
              "condition": "progress_percentage >= 0.00 AND progress_percentage <= 100.00"
            },
            {
              "name": "chk_WRK_BatchJobLog_time_consistency",
              "type": "CHECK",
              "description": "開始時刻と終了時刻の整合性チェック制約",
              "condition": "end_time IS NULL OR start_time IS NULL OR start_time <= end_time"
            },
            {
              "name": "chk_WRK_BatchJobLog_record_consistency",
              "type": "CHECK",
              "description": "処理件数の整合性チェック制約",
              "condition": "processed_records <= total_records AND (success_records + error_records) <= processed_records"
            }
          ],
          "foreign_keys": [
            {
              "name": "fk_WRK_BatchJobLog_executed_by",
              "columns": [
                "executed_by"
              ],
              "references": {
                "table": "MST_UserAuth",
                "columns": [
                  "id"
                ]
              },
              "on_update": "CASCADE",
              "on_delete": "RESTRICT",
              "comment": "外部キー制約"
            }
          ],
          "sample_data": [
            {
              "job_id": "JOB-001-20250601-001",
              "job_name": "スキル情報一括登録（2025年6月分）",
              "job_type": "SKILL_IMPORT",
              "status": "COMPLETED",
              "start_time": "2025-06-01 09:00:00",
              "end_time": "2025-06-01 09:15:30",
              "total_records": 500,
              "processed_records": 500,
              "success_records": 485,
              "error_records": 15,
              "error_details": "{\"errors\": [{\"row\": 23, \"column\": \"skill_level\", \"message\": \"無効なスキルレベル値\"}, {\"row\": 45, \"column\": \"employee_id\", \"message\": \"存在しない社員ID\"}]}",
              "input_file_path": "/uploads/skill_import_20250601.csv",
              "output_file_path": "/reports/skill_import_error_20250601.csv",
              "executed_by": "admin001",
              "progress_percentage": 100.0,
              "execution_environment": "batch-server-01:12345",
              "job_parameters": "{\"delimiter\": \",\", \"encoding\": \"UTF-8\", \"skip_header\": true}"
            },
            {
              "job_id": "JOB-002-20250601-002",
              "job_name": "社員部署情報一括更新",
              "job_type": "BULK_UPDATE",
              "status": "RUNNING",
              "start_time": "2025-06-01 14:30:00",
              "end_time": null,
              "total_records": 1000,
              "processed_records": 650,
              "success_records": 640,
              "error_records": 10,
              "error_details": "{\"errors\": [{\"row\": 15, \"column\": \"department_id\", \"message\": \"存在しない部署ID\"}]}",
              "input_file_path": "/uploads/employee_update_20250601.csv",
              "output_file_path": null,
              "executed_by": "hr_manager001",
              "progress_percentage": 65.0,
              "execution_environment": "batch-server-02:23456",
              "job_parameters": "{\"update_mode\": \"partial\", \"validate_only\": false}"
            },
            {
              "job_id": "JOB-003-20250601-003",
              "job_name": "全社員スキルデータエクスポート",
              "job_type": "DATA_EXPORT",
              "status": "FAILED",
              "start_time": "2025-06-01 16:00:00",
              "end_time": "2025-06-01 16:05:15",
              "total_records": 0,
              "processed_records": 0,
              "success_records": 0,
              "error_records": 0,
              "error_details": "{\"system_error\": \"データベース接続エラー\", \"error_code\": \"DB_CONNECTION_TIMEOUT\"}",
              "input_file_path": null,
              "output_file_path": "/exports/skill_data_20250601.csv",
              "executed_by": "system_admin001",
              "progress_percentage": 0.0,
              "execution_environment": "batch-server-01:34567",
              "job_parameters": "{\"format\": \"CSV\", \"include_deleted\": false}"
            }
          ],
          "notes": [
            "ワーク系テーブルのため、処理完了から3ヶ月経過後に自動アーカイブ",
            "大量データ処理時はprogress_percentageで進捗監視可能",
            "error_detailsとjob_parametersはJSON形式で柔軟な情報格納",
            "実行環境情報により分散処理時の追跡が可能",
            "外部ファイルパスは相対パスまたは論理パスで管理",
            "長時間実行ジョブは定期的にprogress_percentage更新",
            "システム障害時の復旧用にexecution_environment情報を活用",
            "ジョブ開始時にPENDINGステータスでレコード作成",
            "実行開始時にRUNNINGステータスに更新、start_time設定",
            "処理完了時にCOMPLETED/FAILEDステータスに更新、end_time設定",
            "エラー発生時は即座にerror_detailsに詳細情報記録",
            "進捗率は処理済みレコード数/総レコード数で自動計算",
            "同一ユーザーの同時実行ジョブ数は最大3個まで制限",
            "RUNNING状態で24時間経過したジョブは自動的にFAILEDに変更",
            "ファイルパスは実際のファイル存在確認後に設定",
            "処理完了後のファイルは7日間保持後に自動削除",
            "エラーレコード数が総レコード数の50%を超えた場合は処理中断"
          ],
          "rules": [
            "ジョブ開始時にPENDINGステータスでレコード作成",
            "実行開始時にRUNNINGステータスに更新、start_time設定",
            "処理完了時にCOMPLETED/FAILEDステータスに更新、end_time設定",
            "エラー発生時は即座にerror_detailsに詳細情報記録",
            "進捗率は処理済みレコード数/総レコード数で自動計算",
            "同一ユーザーの同時実行ジョブ数は最大3個まで制限",
            "RUNNING状態で24時間経過したジョブは自動的にFAILEDに変更",
            "ファイルパスは実際のファイル存在確認後に設定",
            "処理完了後のファイルは7日間保持後に自動削除",
            "エラーレコード数が総レコード数の50%を超えた場合は処理中断"
          ]
        },
        "ddl_exists": true,
        "definition_files": [
          "/home/kurosawa/skill-report-web/docs/design/database/tables/テーブル定義書_WRK_BatchJobLog_一括登録ジョブログ.md"
        ]
      }
    }
  ]
}