# インターフェース仕様書：{{interface_name}} ({{interface_id}})

## 1. 基本情報

| 項目 | 内容 |
|------|------|
| **インターフェースID** | {{interface_id}} |
| **インターフェース名** | {{interface_name}} |
| **インターフェース種別** | {{interface_type}} |
| **優先度** | {{priority}} |
| **ステータス** | 未着手 |
| **作成日** | {{current_date}} |
| **最終更新日** | {{current_date}} |

## 2. インターフェース概要

### 2.1 概要・目的
{{description}}

### 2.2 主な連携先
{{#each related_screens}}
- [{{this}}](../screens/specs/画面設計書_{{this}}.md)
{{/each}}

### 2.3 関連API
{{#each related_apis}}
- [{{this}}](../api/specs/API定義書_{{this}}.md)
{{/each}}

## 3. データフロー

### 3.1 データフロー図
```mermaid
graph LR
    A[入力元] --> B[{{interface_name}}]
    B --> C[出力先]
```

### 3.2 データ変換仕様
| 入力項目 | 出力項目 | 変換ルール | 備考 |
|----------|----------|------------|------|
| input_field | output_field | 変換処理 | 変換詳細 |

## 4. インターフェース仕様

### 4.1 入力仕様
| 項目名 | データ型 | 必須 | 最大長 | 説明 |
|--------|----------|------|--------|------|
| field1 | string | ○ | 100 | 項目説明 |

### 4.2 出力仕様
| 項目名 | データ型 | 必須 | 最大長 | 説明 |
|--------|----------|------|--------|------|
| field1 | string | ○ | 100 | 項目説明 |

### 4.3 エラー仕様
| エラーコード | エラーメッセージ | 発生条件 | 対処方法 |
|--------------|------------------|----------|----------|
| E001 | データ形式エラー | 不正な形式 | 正しい形式で再送信 |

## 5. バリデーション

### 5.1 入力チェック
| 項目 | チェック内容 | エラー時の動作 |
|------|--------------|----------------|
| 必須チェック | 必須項目の存在確認 | エラーレスポンス返却 |
| 形式チェック | データ形式の妥当性 | エラーレスポンス返却 |

### 5.2 業務チェック
| 項目 | チェック内容 | エラー時の動作 |
|------|--------------|----------------|
| 整合性チェック | データの論理的整合性 | エラーレスポンス返却 |

## 6. 非機能要件

### 6.1 パフォーマンス
- 処理時間：1秒以内
- スループット：1000件/秒

### 6.2 可用性
- 稼働率：99.9%以上
- 障害時の自動復旧機能

### 6.3 セキュリティ
- データ暗号化
- アクセス制御
- 監査ログ出力

## 7. 実装仕様

### 7.1 技術仕様
- プロトコル：HTTPS
- データ形式：JSON
- 文字エンコーディング：UTF-8

### 7.2 認証・認可
- 認証方式：JWT
- 認可レベル：ロールベース

### 7.3 エラーハンドリング
- リトライ機能
- タイムアウト処理
- ログ出力

## 8. テスト仕様

### 8.1 単体テスト
- 正常系テスト
- 異常系テスト
- 境界値テスト

### 8.2 結合テスト
- インターフェース間連携テスト
- エンドツーエンドテスト

## 9. 運用仕様

### 9.1 監視項目
- 処理件数
- エラー率
- レスポンス時間

### 9.2 ログ出力
- アクセスログ
- エラーログ
- 業務ログ

---

**改訂履歴**

| バージョン | 日付 | 変更者 | 変更内容 |
|------------|------|--------|----------|
| 1.0 | {{current_date}} | システムアーキテクト | 初版作成 |
