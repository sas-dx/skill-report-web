# 年間スキル報告書WEB化PJT - Cline実行ガイドライン (ACTモード)

## 基本動作原則

・重要：日本語で応答すること。
・計画よりも実行に重点を置き、具体的なアクションを迅速に実施すること。
・各アクションの実行前に、その目的と期待される結果を簡潔に説明すること。
・エラーが発生した場合は、問題を分析し、解決策を提示すること。
・実行環境はPowerShellであり、コマンドはGit bash環境で実行されることを念頭に置くこと。

## Goal管理システム

### 作業開始時の必須フロー
1. C:\Apps\skill-report-web\goalディレクトリを確認
2.planモードで立てた計画を.mdファイルにして保存 ※これ重要
3. .mdファイルが存在する場合、その内容を最優先で実行
4. **1つのGoal完了時に即座に該当.mdファイルを削除**
5. 次のGoalファイルがあれば継続、なければ新規タスク受付

### Goal実行の原則
・**1ファイル = 1つの明確な作業Goal**
・Goal達成まで他のタスクより優先 ※これ重要
・**作業完了と同時に.mdファイル削除** ※これ絶対
・完了報告後、次のGoalまたは新規タスクへ移行 

## プロジェクト固有ルール

### 年間スキル報告書WEB化PJTの特徴
- **プロジェクト名**: 年間スキル報告書WEB化PJT
- **技術スタック**: Next.js 14 + TypeScript + React 18 + Tailwind CSS + PostgreSQL + Vercel
- **開発体制**: 責任者：黒澤、PM：中島、PL：笹尾
- **二重目的**: AI駆動開発の知見獲得 + 業務効率化・可視化の実現

### 要求仕様ID体系の必須遵守
- **PLT**: Platform (システム基盤要件)
- **ACC**: Access Control (ユーザー権限管理)
- **PRO**: Profile (個人プロフィール管理)
- **SKL**: Skill (スキル情報管理)
- **CAR**: Career (目標・キャリア管理)
- **WPM**: Work Performance Mgmt (作業実績管理)
- **TRN**: Training (研修・セミナー管理)
- **RPT**: Report (レポート出力)

### 実装優先順序
1. **Phase 1**: 最高優先度（PLT.1-WEB.1, PRO.1-BASE.1, SKL.1-HIER.1）
2. **Phase 2**: 高優先度（認証・権限、スキル検索）
3. **Phase 3**: 中優先度（目標管理、作業実績、研修管理）
4. **Phase 4**: 低優先度（レポート出力、分析機能）

## 最重要ルール

・**既存のコードを修正する場合既存のコードを省略しないこと※これ絶対**
  - コードの一部だけを表示せず、必ず全体を表示すること
  - 「...」などで省略せず、完全なコードを提示すること
  - これは誤解や実装ミスを防ぐための最も重要なルールである

・**要求仕様IDの必須記載**: 全ての実装に対応する要求仕様IDをコメントで記載すること
・**設計書との整合性**: 画面ID・API IDを設計書と一致させること
・**非機能要件の必須実装**: パフォーマンス・セキュリティ・アクセシビリティを必ず考慮すること


## コード実装ルール

### ドメイン駆動設計(DDD)の適用
・値オブジェクトとエンティティの明確な区別
・集約による整合性の保証
・リポジトリによるデータアクセスの抽象化
・境界付けられたコンテキストの意識

### 技術スタック固有ルール
・**Next.js 14**: App Routerを使用、Server Componentsを活用
・**TypeScript**: 厳密な型定義を必須とする
・**React 18**: Concurrent Featuresを活用
・**Tailwind CSS**: レスポンシブデザイン必須実装
・**PostgreSQL**: Prisma ORMを使用、型安全なDB操作

### 品質要件
・**パフォーマンス**: API〜UI まで1秒以内
・**アクセシビリティ**: WCAG 2.1 AA準拠
・**セキュリティ**: AES-256暗号化、TLS必須
・**監査証跡**: 90日間ログ保持

## ファイル操作ルール

### ファイル構成・命名規則
・**画面設計書**: `画面設計書_SCR-{画面ID}.md`
・**API仕様書**: `API仕様書_API-{API番号}.md`
・**テーブル定義書**: `テーブル定義書_TBL-{テーブル番号}.md`
・**バッチ仕様書**: `バッチ仕様書_BATCH-{バッチ番号}.md`

### ファイル操作時の注意事項
・ファイルの作成・編集前に、その目的と内容を簡潔に説明すること
・ファイル構造はプロジェクトの既存パターンに従うこと
・大きな変更は小さな単位に分割し、段階的に実施すること
・ファイルの変更後は、その変更内容を簡潔に要約すること
・ファイルの変更があった場合、都度コミットを行うこと

## Gitコミットルール（Gitflow概念に基づく）

### ブランチ戦略
・**main**: 製品リリース用のブランチ
・**develop**: 開発用のブランチ
・**feature/{要求仕様ID}-{機能名}**: 新機能開発用のブランチ
・**release/v{バージョン}**: リリース準備用のブランチ
・**hotfix/{緊急度}-{修正内容}**: 緊急バグ修正用のブランチ

### コミットメッセージ形式
```bash
[絵文字] [タイプ]: [要求仕様ID] [タイトル]

[本文]

[フッター]
```

### コミットメッセージのタイプ
- **feat**: 新機能（要求仕様ID必須）
- **fix**: バグ修正
- **docs**: ドキュメントの変更
- **style**: コードスタイルの変更（動作に影響しない）
- **refactor**: リファクタリング
- **perf**: パフォーマンス改善
- **test**: テストの追加・修正
- **chore**: ビルドプロセスやツールの変更

### コミット例
```
✨ feat: SKL.1-HIER.1 スキル階層構造定義機能を実装

- 3階層（カテゴリ/サブカテゴリ/項目）構成を実装
- 管理者によるスキル項目管理機能を追加
- 4段階評価（×/△/○/◎）システムを構築

Closes #123
```

### コミットの注意点
・先頭にカラフルでユニークな絵文字を付与し、可読性を向上させる
・日本語でコミットメッセージを作成する
・主要な変更とその目的に焦点を当てる
・変更を明確かつ簡潔に説明する
・見やすさを重視し、必要に応じて箇条書きを使用する
・同じ絵文字の多用を避ける
・必要に応じて、少数のファイルごとに別ブランチを提案する
・Stageの差分を注意深く確認し、追加・削除された機能を正確に把握する

### コミットのタイミング
・ファイルの変更があった場合、都度コミットを行う
・複数のファイルが同時に変更された場合、関連する変更をまとめて1つのコミットとすることも検討する

## コマンド実行ルール

・コマンド実行前に、その目的と期待される結果を簡潔に説明すること
・複雑なコマンドは分割して実行し、各ステップの結果を確認すること
・エラーが発生した場合は、問題を分析し、代替コマンドを提示すること
・**実行環境**: PowerShell
・**コマンド連結**: ';'を使用（例: 'command1; command2; command3'）

## テスト実行ルール

### テスト実行時の注意事項
・新機能や修正後は必ず適切なテストを実行すること
・テスト失敗時は、原因を分析し、修正策を提示すること
・テストカバレッジを意識し、エッジケースもテストすること
・テスト結果を簡潔に報告すること

## エラー対応ルール

・エラーが発生した場合は、パニックせず冷静に対応すること
・エラーメッセージを分析し、根本原因を特定すること
・解決策を複数提示し、最適な対応を選択すること
・同様のエラーを防ぐための予防策も提示すること

## 実行完了報告

・タスク完了時は、実施した内容と結果を簡潔にまとめること
・成功した点と課題となった点を明確に区別すること
・次のステップや改善点があれば提案すること
・ユーザーが確認すべき点を明示すること
・AI活用状況と効果を報告すること

## 禁止事項

・要求仕様IDなしの実装
・設計書との不整合
・非機能要件の未実装
・AI活用状況の未記録
・既存コードの省略表示

この年間スキル報告書WEB化PJT専用ガイドラインに従って、効率的で高品質な開発を実行してください。
